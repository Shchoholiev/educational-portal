2022-07-10 12:36:16.1720|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-07-10 12:36:24.3081|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (139ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2022-07-10 12:36:24.8844|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (167ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [EducationalPortal] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
2022-07-10 12:36:24.9389|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (54ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
DROP DATABASE [EducationalPortal];
2022-07-10 12:36:26.0569|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (770ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [EducationalPortal];
2022-07-10 12:36:26.6192|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (562ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [EducationalPortal] SET READ_COMMITTED_SNAPSHOT ON;
END;
2022-07-10 12:36:26.6434|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2022-07-10 12:36:27.2470|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (21ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Authors] (
    [Id] int NOT NULL IDENTITY,
    [FullName] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Authors] PRIMARY KEY ([Id])
);
2022-07-10 12:36:27.2470|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Extensions] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Extensions] PRIMARY KEY ([Id])
);
2022-07-10 12:36:27.2709|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Materials] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    [Link] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Materials] PRIMARY KEY ([Id])
);
2022-07-10 12:36:27.2709|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Qualities] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Qualities] PRIMARY KEY ([Id])
);
2022-07-10 12:36:27.2788|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Resources] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Resources] PRIMARY KEY ([Id])
);
2022-07-10 12:36:27.2788|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Roles] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_Roles] PRIMARY KEY ([Id])
);
2022-07-10 12:36:27.2788|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Skills] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Skills] PRIMARY KEY ([Id])
);
2022-07-10 12:36:27.2788|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [UserToken] (
    [Id] int NOT NULL IDENTITY,
    [RefreshToken] nvarchar(max) NOT NULL,
    [RefreshTokenExpiryTime] datetime2 NOT NULL,
    CONSTRAINT [PK_UserToken] PRIMARY KEY ([Id])
);
2022-07-10 12:36:27.2948|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Books] (
    [Id] int NOT NULL,
    [PagesCount] int NOT NULL,
    [ExtensionId] int NOT NULL,
    [PublicationYear] int NOT NULL,
    CONSTRAINT [PK_Books] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Books_Extensions_ExtensionId] FOREIGN KEY ([ExtensionId]) REFERENCES [Extensions] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Books_Materials_Id] FOREIGN KEY ([Id]) REFERENCES [Materials] ([Id])
);
2022-07-10 12:36:27.2948|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Videos] (
    [Id] int NOT NULL,
    [Duration] datetime2 NOT NULL,
    [QualityId] int NOT NULL,
    CONSTRAINT [PK_Videos] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Videos_Materials_Id] FOREIGN KEY ([Id]) REFERENCES [Materials] ([Id]),
    CONSTRAINT [FK_Videos_Qualities_QualityId] FOREIGN KEY ([QualityId]) REFERENCES [Qualities] ([Id]) ON DELETE CASCADE
);
2022-07-10 12:36:27.2948|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Articles] (
    [Id] int NOT NULL,
    [ResourceId] int NOT NULL,
    [PublicationDate] datetime2 NOT NULL,
    CONSTRAINT [PK_Articles] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Articles_Materials_Id] FOREIGN KEY ([Id]) REFERENCES [Materials] ([Id]),
    CONSTRAINT [FK_Articles_Resources_ResourceId] FOREIGN KEY ([ResourceId]) REFERENCES [Resources] ([Id]) ON DELETE CASCADE
);
2022-07-10 12:36:27.2948|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] nvarchar(450) NOT NULL,
    [Name] nvarchar(max) NOT NULL,
    [Position] nvarchar(max) NULL,
    [Avatar] nvarchar(max) NOT NULL,
    [Email] nvarchar(450) NOT NULL,
    [PasswordHash] nvarchar(max) NOT NULL,
    [Balance] int NOT NULL,
    [UserTokenId] int NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Users_UserToken_UserTokenId] FOREIGN KEY ([UserTokenId]) REFERENCES [UserToken] ([Id])
);
2022-07-10 12:36:27.3103|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [AuthorBook] (
    [AuthorsId] int NOT NULL,
    [BooksId] int NOT NULL,
    CONSTRAINT [PK_AuthorBook] PRIMARY KEY ([AuthorsId], [BooksId]),
    CONSTRAINT [FK_AuthorBook_Authors_AuthorsId] FOREIGN KEY ([AuthorsId]) REFERENCES [Authors] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_AuthorBook_Books_BooksId] FOREIGN KEY ([BooksId]) REFERENCES [Books] ([Id]) ON DELETE CASCADE
);
2022-07-10 12:36:27.3103|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Courses] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    [Thumbnail] nvarchar(max) NOT NULL,
    [ShortDescription] nvarchar(max) NOT NULL,
    [Description] nvarchar(max) NOT NULL,
    [Price] int NOT NULL,
    [AuthorId] nvarchar(450) NULL,
    CONSTRAINT [PK_Courses] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Courses_Users_AuthorId] FOREIGN KEY ([AuthorId]) REFERENCES [Users] ([Id])
);
2022-07-10 12:36:27.3103|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [MaterialsBaseUser] (
    [MaterialsId] int NOT NULL,
    [UsersId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_MaterialsBaseUser] PRIMARY KEY ([MaterialsId], [UsersId]),
    CONSTRAINT [FK_MaterialsBaseUser_Materials_MaterialsId] FOREIGN KEY ([MaterialsId]) REFERENCES [Materials] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_MaterialsBaseUser_Users_UsersId] FOREIGN KEY ([UsersId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2022-07-10 12:36:27.3283|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [RoleUser] (
    [RolesId] int NOT NULL,
    [UsersId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_RoleUser] PRIMARY KEY ([RolesId], [UsersId]),
    CONSTRAINT [FK_RoleUser_Roles_RolesId] FOREIGN KEY ([RolesId]) REFERENCES [Roles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_RoleUser_Users_UsersId] FOREIGN KEY ([UsersId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2022-07-10 12:36:27.3283|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [UsersSkills] (
    [UserId] nvarchar(450) NOT NULL,
    [SkillId] int NOT NULL,
    [Level] int NOT NULL,
    CONSTRAINT [PK_UsersSkills] PRIMARY KEY ([UserId], [SkillId]),
    CONSTRAINT [FK_UsersSkills_Skills_SkillId] FOREIGN KEY ([SkillId]) REFERENCES [Skills] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_UsersSkills_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2022-07-10 12:36:27.3283|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [CartItems] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NULL,
    [CourseId] int NOT NULL,
    CONSTRAINT [PK_CartItems] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_CartItems_Courses_CourseId] FOREIGN KEY ([CourseId]) REFERENCES [Courses] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_CartItems_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id])
);
2022-07-10 12:36:27.3435|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [CoursesMaterials] (
    [CourseId] int NOT NULL,
    [MaterialId] int NOT NULL,
    [Index] int NOT NULL,
    CONSTRAINT [PK_CoursesMaterials] PRIMARY KEY ([CourseId], [MaterialId]),
    CONSTRAINT [FK_CoursesMaterials_Courses_CourseId] FOREIGN KEY ([CourseId]) REFERENCES [Courses] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_CoursesMaterials_Materials_MaterialId] FOREIGN KEY ([MaterialId]) REFERENCES [Materials] ([Id]) ON DELETE CASCADE
);
2022-07-10 12:36:27.3435|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [CoursesSkills] (
    [CourseId] int NOT NULL,
    [SkillId] int NOT NULL,
    CONSTRAINT [PK_CoursesSkills] PRIMARY KEY ([CourseId], [SkillId]),
    CONSTRAINT [FK_CoursesSkills_Courses_CourseId] FOREIGN KEY ([CourseId]) REFERENCES [Courses] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_CoursesSkills_Skills_SkillId] FOREIGN KEY ([SkillId]) REFERENCES [Skills] ([Id]) ON DELETE CASCADE
);
2022-07-10 12:36:27.3435|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [ShoppingHistory] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NULL,
    [CourseId] int NOT NULL,
    [Price] int NOT NULL,
    [Date] datetime2 NOT NULL,
    CONSTRAINT [PK_ShoppingHistory] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_ShoppingHistory_Courses_CourseId] FOREIGN KEY ([CourseId]) REFERENCES [Courses] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_ShoppingHistory_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id])
);
2022-07-10 12:36:27.3602|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [UsersCourses] (
    [UserId] nvarchar(450) NOT NULL,
    [CourseId] int NOT NULL,
    [MaterialsCount] int NOT NULL,
    [LearnedMaterialsCount] int NOT NULL,
    CONSTRAINT [PK_UsersCourses] PRIMARY KEY ([UserId], [CourseId]),
    CONSTRAINT [FK_UsersCourses_Courses_CourseId] FOREIGN KEY ([CourseId]) REFERENCES [Courses] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_UsersCourses_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2022-07-10 12:36:27.3602|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Articles_ResourceId] ON [Articles] ([ResourceId]);
2022-07-10 12:36:27.3602|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_AuthorBook_BooksId] ON [AuthorBook] ([BooksId]);
2022-07-10 12:36:27.3602|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Books_ExtensionId] ON [Books] ([ExtensionId]);
2022-07-10 12:36:27.3602|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_CartItems_CourseId] ON [CartItems] ([CourseId]);
2022-07-10 12:36:27.3719|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_CartItems_UserId] ON [CartItems] ([UserId]);
2022-07-10 12:36:27.3719|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Courses_AuthorId] ON [Courses] ([AuthorId]);
2022-07-10 12:36:27.3719|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_CoursesMaterials_MaterialId] ON [CoursesMaterials] ([MaterialId]);
2022-07-10 12:36:27.3719|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_CoursesSkills_SkillId] ON [CoursesSkills] ([SkillId]);
2022-07-10 12:36:27.3719|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_MaterialsBaseUser_UsersId] ON [MaterialsBaseUser] ([UsersId]);
2022-07-10 12:36:27.3719|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Roles_Name] ON [Roles] ([Name]);
2022-07-10 12:36:27.3719|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_RoleUser_UsersId] ON [RoleUser] ([UsersId]);
2022-07-10 12:36:27.3719|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_ShoppingHistory_CourseId] ON [ShoppingHistory] ([CourseId]);
2022-07-10 12:36:27.3719|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_ShoppingHistory_UserId] ON [ShoppingHistory] ([UserId]);
2022-07-10 12:36:27.3884|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Users_Email] ON [Users] ([Email]);
2022-07-10 12:36:27.3884|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Users_UserTokenId] ON [Users] ([UserTokenId]);
2022-07-10 12:36:27.3884|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_UsersCourses_CourseId] ON [UsersCourses] ([CourseId]);
2022-07-10 12:36:27.3884|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_UsersSkills_SkillId] ON [UsersSkills] ([SkillId]);
2022-07-10 12:36:27.3884|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Videos_QualityId] ON [Videos] ([QualityId]);
2022-07-10 12:36:28.1844|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (144ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
DECLARE @inserted0 TABLE ([Id] int, [_Position] [int]);
MERGE [Qualities] USING (
VALUES (@p0, 0),
(@p1, 1),
(@p2, 2),
(@p3, 3),
(@p4, 4),
(@p5, 5),
(@p6, 6),
(@p7, 7)) AS i ([Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name])
VALUES (i.[Name])
OUTPUT INSERTED.[Id], i._Position
INTO @inserted0;

SELECT [i].[Id] FROM @inserted0 i
ORDER BY [i].[_Position];
2022-07-10 12:36:28.5254|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (7ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 12:36:28.5770|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (20ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Videos] ([Id], [Duration], [QualityId])
VALUES (@p2, @p3, @p4);
2022-07-10 12:36:28.5995|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Extensions] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Extensions]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 12:36:28.6302|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Authors] ([FullName])
VALUES (@p0);
SELECT [Id]
FROM [Authors]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 12:36:28.7504|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 12:36:28.7640|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Books] ([Id], [ExtensionId], [PagesCount], [PublicationYear])
VALUES (@p2, @p3, @p4, @p5);
2022-07-10 12:36:28.7640|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AuthorBook] ([AuthorsId], [BooksId])
VALUES (@p6, @p7);
2022-07-10 12:36:28.7932|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Resources] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Resources]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 12:36:28.8121|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 12:36:28.8121|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Articles] ([Id], [PublicationDate], [ResourceId])
VALUES (@p2, @p3, @p4);
2022-07-10 12:36:28.8536|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Skills] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Skills]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 12:36:28.8594|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Skills] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Skills]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 12:36:28.8594|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Skills] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Skills]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 12:36:28.8936|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Roles] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Roles]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 12:36:28.8936|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Roles] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Roles]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 12:36:28.8936|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Roles] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Roles]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 12:36:28.9125|INFO|EducationalPortal.Infrastructure.Services.Identity.PasswordHasher|Hashed password.
2022-07-10 12:36:29.0905|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (Size = 450), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [Avatar], [Balance], [Email], [Name], [PasswordHash], [Position], [UserTokenId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2022-07-10 12:36:29.1117|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (17ms) [Parameters=[@p8='?' (DbType = Int32), @p9='?' (Size = 450), @p10='?' (DbType = Int32), @p11='?' (Size = 450), @p12='?' (DbType = Int32), @p13='?' (Size = 450), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (Size = 450), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (Size = 450), @p20='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [RoleUser] ([RolesId], [UsersId])
VALUES (@p8, @p9),
(@p10, @p11);
INSERT INTO [UsersSkills] ([SkillId], [UserId], [Level])
VALUES (@p12, @p13, @p14),
(@p15, @p16, @p17),
(@p18, @p19, @p20);
2022-07-10 12:36:29.2303|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Courses] ([AuthorId], [Description], [Name], [Price], [ShortDescription], [Thumbnail])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [Id]
FROM [Courses]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 12:36:29.2599|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (19ms) [Parameters=[@p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [CoursesMaterials] ([CourseId], [MaterialId], [Index])
VALUES (@p6, @p7, @p8),
(@p9, @p10, @p11),
(@p12, @p13, @p14);
INSERT INTO [CoursesSkills] ([CourseId], [SkillId])
VALUES (@p15, @p16),
(@p17, @p18),
(@p19, @p20);
2022-07-10 12:36:29.2882|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [UsersCourses] ([CourseId], [UserId], [LearnedMaterialsCount], [MaterialsCount])
VALUES (@p0, @p1, @p2, @p3);
2022-07-10 12:36:29.3064|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (14ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
DECLARE @inserted0 TABLE ([Id] int, [_Position] [int]);
MERGE [Skills] USING (
VALUES (@p0, 0),
(@p1, 1),
(@p2, 2),
(@p3, 3),
(@p4, 4),
(@p5, 5),
(@p6, 6),
(@p7, 7),
(@p8, 8)) AS i ([Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name])
VALUES (i.[Name])
OUTPUT INSERTED.[Id], i._Position
INTO @inserted0;

SELECT [i].[Id] FROM @inserted0 i
ORDER BY [i].[_Position];
2022-07-10 12:36:29.3106|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 12:36:29.3106|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Videos] ([Id], [Duration], [QualityId])
VALUES (@p2, @p3, @p4);
2022-07-10 12:36:29.3106|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 12:36:29.3106|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Videos] ([Id], [Duration], [QualityId])
VALUES (@p2, @p3, @p4);
2022-07-10 12:36:29.3106|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 12:36:29.3106|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Videos] ([Id], [Duration], [QualityId])
VALUES (@p2, @p3, @p4);
2022-07-10 12:36:29.3106|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Authors] ([FullName])
VALUES (@p0);
SELECT [Id]
FROM [Authors]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 12:36:29.3261|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 12:36:29.3261|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Books] ([Id], [ExtensionId], [PagesCount], [PublicationYear])
VALUES (@p2, @p3, @p4, @p5);
2022-07-10 12:36:29.3261|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AuthorBook] ([AuthorsId], [BooksId])
VALUES (@p6, @p7);
2022-07-10 12:36:29.3261|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Authors] ([FullName])
VALUES (@p0);
SELECT [Id]
FROM [Authors]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 12:36:29.3261|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 12:36:29.3261|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Books] ([Id], [ExtensionId], [PagesCount], [PublicationYear])
VALUES (@p2, @p3, @p4, @p5);
2022-07-10 12:36:29.3261|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AuthorBook] ([AuthorsId], [BooksId])
VALUES (@p6, @p7);
2022-07-10 12:36:29.3261|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Resources] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Resources]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 12:36:29.3443|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 12:36:29.3443|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Articles] ([Id], [PublicationDate], [ResourceId])
VALUES (@p2, @p3, @p4);
2022-07-10 12:36:29.3443|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 12:36:29.3443|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Articles] ([Id], [PublicationDate], [ResourceId])
VALUES (@p2, @p3, @p4);
2022-07-10 12:36:29.3586|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Courses] ([AuthorId], [Description], [Name], [Price], [ShortDescription], [Thumbnail])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [Id]
FROM [Courses]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 12:36:29.3586|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (10ms) [Parameters=[@p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (DbType = Int32), @p24='?' (DbType = Int32), @p25='?' (DbType = Int32), @p26='?' (DbType = Int32), @p27='?' (DbType = Int32), @p28='?' (DbType = Int32), @p29='?' (DbType = Int32), @p30='?' (DbType = Int32), @p31='?' (DbType = Int32), @p32='?' (DbType = Int32), @p33='?' (DbType = Int32), @p34='?' (DbType = Int32), @p35='?' (DbType = Int32), @p36='?' (DbType = Int32), @p37='?' (DbType = Int32), @p38='?' (DbType = Int32), @p39='?' (DbType = Int32), @p40='?' (DbType = Int32), @p41='?' (DbType = Int32), @p42='?' (DbType = Int32), @p43='?' (DbType = Int32), @p44='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [CoursesMaterials] ([CourseId], [MaterialId], [Index])
VALUES (@p6, @p7, @p8),
(@p9, @p10, @p11),
(@p12, @p13, @p14),
(@p15, @p16, @p17),
(@p18, @p19, @p20),
(@p21, @p22, @p23),
(@p24, @p25, @p26);
INSERT INTO [CoursesSkills] ([CourseId], [SkillId])
VALUES (@p27, @p28),
(@p29, @p30),
(@p31, @p32),
(@p33, @p34),
(@p35, @p36),
(@p37, @p38),
(@p39, @p40),
(@p41, @p42),
(@p43, @p44);
2022-07-10 12:36:29.3798|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Courses] ([AuthorId], [Description], [Name], [Price], [ShortDescription], [Thumbnail])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [Id]
FROM [Courses]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 12:36:29.4001|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (19ms) [Parameters=[@p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [CoursesMaterials] ([CourseId], [MaterialId], [Index])
VALUES (@p6, @p7, @p8),
(@p9, @p10, @p11);
INSERT INTO [CoursesSkills] ([CourseId], [SkillId])
VALUES (@p12, @p13),
(@p14, @p15),
(@p16, @p17);
2022-07-10 12:36:31.6037|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\rareb\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-07-10 12:36:33.1072|INFO|Microsoft.Hosting.Lifetime|Now listening on: https://localhost:7106
2022-07-10 12:36:33.1072|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5106
2022-07-10 12:36:33.1072|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down.
2022-07-10 12:36:33.1072|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development
2022-07-10 12:36:33.1072|INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\rareb\Desktop\github\educational-portal\EducationalPortal\EducationalPortal.API\
2022-07-10 12:36:35.1887|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger - -
2022-07-10 12:36:35.5625|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger - - - 301 0 - 390.1933ms
2022-07-10 12:36:35.5810|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/index.html - -
2022-07-10 12:36:38.1379|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/index.html - - - 200 - text/html;charset=utf-8 2556.7793ms
2022-07-10 12:36:38.1379|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/swagger-ui.css - -
2022-07-10 12:36:38.1379|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/swagger-ui-bundle.js - -
2022-07-10 12:36:38.1379|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/swagger-ui-standalone-preset.js - -
2022-07-10 12:36:38.1564|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/_framework/aspnetcore-browser-refresh.js - -
2022-07-10 12:36:38.3557|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/_vs/browserLink - -
2022-07-10 12:36:38.4256|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/_framework/aspnetcore-browser-refresh.js - - - 200 12012 application/javascript;+charset=utf-8 269.2105ms
2022-07-10 12:36:38.5211|INFO|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2022-07-10 12:36:38.5211|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/swagger-ui.css - - - 200 143943 text/css 382.0087ms
2022-07-10 12:36:38.5662|INFO|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2022-07-10 12:36:38.5662|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/swagger-ui-standalone-preset.js - - - 200 339486 application/javascript 424.0825ms
2022-07-10 12:36:38.6224|INFO|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2022-07-10 12:36:38.6224|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/swagger-ui-bundle.js - - - 200 1095087 application/javascript 482.8947ms
2022-07-10 12:36:38.6800|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 321.4262ms
2022-07-10 12:36:39.7619|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/v1/swagger.json - -
2022-07-10 12:36:39.9005|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/favicon-32x32.png - -
2022-07-10 12:36:39.9005|INFO|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2022-07-10 12:36:39.9005|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/favicon-32x32.png - - - 200 628 image/png 1.3028ms
2022-07-10 12:36:40.5991|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 837.2353ms
2022-07-10 12:36:49.9001|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/courses?pageSize=3&pageNumber=1 - -
2022-07-10 12:36:50.0184|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-07-10 12:36:51.3036|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.CoursesController.GetCourses (EducationalPortal.API)'
2022-07-10 12:36:51.4255|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EducationalPortal.Application.Models.DTO.Course.CourseShortDto]]] GetCourses(EducationalPortal.Application.Paging.PageParameters) on controller EducationalPortal.API.Controllers.CoursesController (EducationalPortal.API).
2022-07-10 12:36:51.4503|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-07-10 12:36:53.0684|WARN|Microsoft.EntityFrameworkCore.Query|The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-07-10 12:36:53.0684|WARN|Microsoft.EntityFrameworkCore.Query|The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-07-10 12:36:53.4837|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (68ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[AuthorId], [c].[Description], [c].[Name], [c].[Price], [c].[ShortDescription], [c].[Thumbnail]
FROM [Courses] AS [c]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-07-10 12:36:53.6013|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Courses] AS [c]
2022-07-10 12:36:53.6685|INFO|EducationalPortal.Infrastructure.Services.CoursesService|Returned courses page 1 from database.
2022-07-10 12:36:54.0916|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'EducationalPortal.Application.Paging.PagedList`1[[EducationalPortal.Application.Models.DTO.Course.CourseShortDto, EducationalPortal.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-07-10 12:36:54.1921|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.CoursesController.GetCourses (EducationalPortal.API) in 2746.3561ms
2022-07-10 12:36:54.1921|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.CoursesController.GetCourses (EducationalPortal.API)'
2022-07-10 12:36:54.2201|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/courses?pageSize=3&pageNumber=1 - - - 200 818 application/json;+charset=utf-8 4319.9123ms
2022-07-10 12:38:24.2986|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/courses/1 - -
2022-07-10 12:38:24.3094|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-07-10 12:38:24.3378|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.CoursesController.GetCourse (EducationalPortal.API)'
2022-07-10 12:38:24.3452|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EducationalPortal.Application.Models.DTO.Course.CourseDto]] GetCourse(Int32) on controller EducationalPortal.API.Controllers.CoursesController (EducationalPortal.API).
2022-07-10 12:38:24.4286|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-07-10 12:38:24.9161|WARN|Microsoft.EntityFrameworkCore.Query|Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-07-10 12:38:25.0162|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (47ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[AuthorId], [t].[Description], [t].[Name], [t].[Price], [t].[ShortDescription], [t].[Thumbnail], [t].[Id0], [t].[Avatar], [t].[Balance], [t].[Email], [t].[Name0], [t].[PasswordHash], [t].[Position], [t].[UserTokenId], [t0].[CourseId], [t0].[MaterialId], [t0].[Index], [t0].[Id], [t0].[Link], [t0].[Name], [t0].[PublicationDate], [t0].[ResourceId], [t0].[ExtensionId], [t0].[PagesCount], [t0].[PublicationYear], [t0].[Duration], [t0].[QualityId], [t0].[Discriminator], [t2].[CourseId], [t2].[SkillId], [t2].[Id], [t2].[Name]
FROM (
    SELECT TOP(1) [c].[Id], [c].[AuthorId], [c].[Description], [c].[Name], [c].[Price], [c].[ShortDescription], [c].[Thumbnail], [u].[Id] AS [Id0], [u].[Avatar], [u].[Balance], [u].[Email], [u].[Name] AS [Name0], [u].[PasswordHash], [u].[Position], [u].[UserTokenId]
    FROM [Courses] AS [c]
    LEFT JOIN [Users] AS [u] ON [c].[AuthorId] = [u].[Id]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [c0].[CourseId], [c0].[MaterialId], [c0].[Index], [t1].[Id], [t1].[Link], [t1].[Name], [t1].[PublicationDate], [t1].[ResourceId], [t1].[ExtensionId], [t1].[PagesCount], [t1].[PublicationYear], [t1].[Duration], [t1].[QualityId], [t1].[Discriminator]
    FROM [CoursesMaterials] AS [c0]
    INNER JOIN (
        SELECT [m].[Id], [m].[Link], [m].[Name], [a].[PublicationDate], [a].[ResourceId], [b].[ExtensionId], [b].[PagesCount], [b].[PublicationYear], [v].[Duration], [v].[QualityId], CASE
            WHEN [v].[Id] IS NOT NULL THEN N'Video'
            WHEN [b].[Id] IS NOT NULL THEN N'Book'
            WHEN [a].[Id] IS NOT NULL THEN N'Article'
        END AS [Discriminator]
        FROM [Materials] AS [m]
        LEFT JOIN [Articles] AS [a] ON [m].[Id] = [a].[Id]
        LEFT JOIN [Books] AS [b] ON [m].[Id] = [b].[Id]
        LEFT JOIN [Videos] AS [v] ON [m].[Id] = [v].[Id]
    ) AS [t1] ON [c0].[MaterialId] = [t1].[Id]
) AS [t0] ON [t].[Id] = [t0].[CourseId]
LEFT JOIN (
    SELECT [c1].[CourseId], [c1].[SkillId], [s].[Id], [s].[Name]
    FROM [CoursesSkills] AS [c1]
    INNER JOIN [Skills] AS [s] ON [c1].[SkillId] = [s].[Id]
) AS [t2] ON [t].[Id] = [t2].[CourseId]
ORDER BY [t].[Id], [t].[Id0], [t0].[CourseId], [t0].[MaterialId], [t0].[Id], [t2].[CourseId], [t2].[SkillId]
2022-07-10 12:38:25.1505|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (13ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Link], [t].[Name], [t].[ExtensionId], [t].[PagesCount], [t].[PublicationYear], [t].[Id0], [t0].[AuthorsId], [t0].[BooksId], [t0].[Id], [t0].[FullName], [t].[Name0]
FROM (
    SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [b].[ExtensionId], [b].[PagesCount], [b].[PublicationYear], [e].[Id] AS [Id0], [e].[Name] AS [Name0]
    FROM [Materials] AS [m]
    INNER JOIN [Books] AS [b] ON [m].[Id] = [b].[Id]
    INNER JOIN [Extensions] AS [e] ON [b].[ExtensionId] = [e].[Id]
    WHERE [m].[Id] = @__cm_MaterialId_0
) AS [t]
LEFT JOIN (
    SELECT [a].[AuthorsId], [a].[BooksId], [a0].[Id], [a0].[FullName]
    FROM [AuthorBook] AS [a]
    INNER JOIN [Authors] AS [a0] ON [a].[AuthorsId] = [a0].[Id]
) AS [t0] ON [t].[Id] = [t0].[BooksId]
ORDER BY [t].[Id], [t].[Id0], [t0].[AuthorsId], [t0].[BooksId]
2022-07-10 12:38:25.1683|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (6ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [v].[Duration], [v].[QualityId], [q].[Id], [q].[Name]
FROM [Materials] AS [m]
INNER JOIN [Videos] AS [v] ON [m].[Id] = [v].[Id]
INNER JOIN [Qualities] AS [q] ON [v].[QualityId] = [q].[Id]
WHERE [m].[Id] = @__cm_MaterialId_0
2022-07-10 12:38:25.1883|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (7ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [a].[PublicationDate], [a].[ResourceId], [r].[Id], [r].[Name]
FROM [Materials] AS [m]
INNER JOIN [Articles] AS [a] ON [m].[Id] = [a].[Id]
INNER JOIN [Resources] AS [r] ON [a].[ResourceId] = [r].[Id]
WHERE [m].[Id] = @__cm_MaterialId_0
2022-07-10 12:38:25.2013|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Link], [t].[Name], [t].[ExtensionId], [t].[PagesCount], [t].[PublicationYear], [t].[Id0], [t0].[AuthorsId], [t0].[BooksId], [t0].[Id], [t0].[FullName], [t].[Name0]
FROM (
    SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [b].[ExtensionId], [b].[PagesCount], [b].[PublicationYear], [e].[Id] AS [Id0], [e].[Name] AS [Name0]
    FROM [Materials] AS [m]
    INNER JOIN [Books] AS [b] ON [m].[Id] = [b].[Id]
    INNER JOIN [Extensions] AS [e] ON [b].[ExtensionId] = [e].[Id]
    WHERE [m].[Id] = @__cm_MaterialId_0
) AS [t]
LEFT JOIN (
    SELECT [a].[AuthorsId], [a].[BooksId], [a0].[Id], [a0].[FullName]
    FROM [AuthorBook] AS [a]
    INNER JOIN [Authors] AS [a0] ON [a].[AuthorsId] = [a0].[Id]
) AS [t0] ON [t].[Id] = [t0].[BooksId]
ORDER BY [t].[Id], [t].[Id0], [t0].[AuthorsId], [t0].[BooksId]
2022-07-10 12:38:25.2013|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [v].[Duration], [v].[QualityId], [q].[Id], [q].[Name]
FROM [Materials] AS [m]
INNER JOIN [Videos] AS [v] ON [m].[Id] = [v].[Id]
INNER JOIN [Qualities] AS [q] ON [v].[QualityId] = [q].[Id]
WHERE [m].[Id] = @__cm_MaterialId_0
2022-07-10 12:38:25.2013|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [a].[PublicationDate], [a].[ResourceId], [r].[Id], [r].[Name]
FROM [Materials] AS [m]
INNER JOIN [Articles] AS [a] ON [m].[Id] = [a].[Id]
INNER JOIN [Resources] AS [r] ON [a].[ResourceId] = [r].[Id]
WHERE [m].[Id] = @__cm_MaterialId_0
2022-07-10 12:38:25.2013|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Link], [t].[Name], [t].[ExtensionId], [t].[PagesCount], [t].[PublicationYear], [t].[Id0], [t0].[AuthorsId], [t0].[BooksId], [t0].[Id], [t0].[FullName], [t].[Name0]
FROM (
    SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [b].[ExtensionId], [b].[PagesCount], [b].[PublicationYear], [e].[Id] AS [Id0], [e].[Name] AS [Name0]
    FROM [Materials] AS [m]
    INNER JOIN [Books] AS [b] ON [m].[Id] = [b].[Id]
    INNER JOIN [Extensions] AS [e] ON [b].[ExtensionId] = [e].[Id]
    WHERE [m].[Id] = @__cm_MaterialId_0
) AS [t]
LEFT JOIN (
    SELECT [a].[AuthorsId], [a].[BooksId], [a0].[Id], [a0].[FullName]
    FROM [AuthorBook] AS [a]
    INNER JOIN [Authors] AS [a0] ON [a].[AuthorsId] = [a0].[Id]
) AS [t0] ON [t].[Id] = [t0].[BooksId]
ORDER BY [t].[Id], [t].[Id0], [t0].[AuthorsId], [t0].[BooksId]
2022-07-10 12:38:25.2162|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [v].[Duration], [v].[QualityId], [q].[Id], [q].[Name]
FROM [Materials] AS [m]
INNER JOIN [Videos] AS [v] ON [m].[Id] = [v].[Id]
INNER JOIN [Qualities] AS [q] ON [v].[QualityId] = [q].[Id]
WHERE [m].[Id] = @__cm_MaterialId_0
2022-07-10 12:38:25.2162|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [a].[PublicationDate], [a].[ResourceId], [r].[Id], [r].[Name]
FROM [Materials] AS [m]
INNER JOIN [Articles] AS [a] ON [m].[Id] = [a].[Id]
INNER JOIN [Resources] AS [r] ON [a].[ResourceId] = [r].[Id]
WHERE [m].[Id] = @__cm_MaterialId_0
2022-07-10 12:38:25.2545|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Avatar], [t].[Balance], [t].[Email], [t].[Name], [t].[PasswordHash], [t].[Position], [t].[UserTokenId], [t0].[MaterialsId], [t0].[UsersId], [t0].[Id], [t0].[Link], [t0].[Name], [t0].[PublicationDate], [t0].[ResourceId], [t0].[ExtensionId], [t0].[PagesCount], [t0].[PublicationYear], [t0].[Duration], [t0].[QualityId], [t0].[Discriminator]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Balance], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[Position], [u].[UserTokenId]
    FROM [Users] AS [u]
    WHERE 0 = 1
) AS [t]
LEFT JOIN (
    SELECT [m].[MaterialsId], [m].[UsersId], [t1].[Id], [t1].[Link], [t1].[Name], [t1].[PublicationDate], [t1].[ResourceId], [t1].[ExtensionId], [t1].[PagesCount], [t1].[PublicationYear], [t1].[Duration], [t1].[QualityId], [t1].[Discriminator]
    FROM [MaterialsBaseUser] AS [m]
    INNER JOIN (
        SELECT [m0].[Id], [m0].[Link], [m0].[Name], [a].[PublicationDate], [a].[ResourceId], [b].[ExtensionId], [b].[PagesCount], [b].[PublicationYear], [v].[Duration], [v].[QualityId], CASE
            WHEN [v].[Id] IS NOT NULL THEN N'Video'
            WHEN [b].[Id] IS NOT NULL THEN N'Book'
            WHEN [a].[Id] IS NOT NULL THEN N'Article'
        END AS [Discriminator]
        FROM [Materials] AS [m0]
        LEFT JOIN [Articles] AS [a] ON [m0].[Id] = [a].[Id]
        LEFT JOIN [Books] AS [b] ON [m0].[Id] = [b].[Id]
        LEFT JOIN [Videos] AS [v] ON [m0].[Id] = [v].[Id]
    ) AS [t1] ON [m].[MaterialsId] = [t1].[Id]
) AS [t0] ON [t].[Id] = [t0].[UsersId]
ORDER BY [t].[Id], [t0].[MaterialsId], [t0].[UsersId]
2022-07-10 12:38:25.2966|INFO|EducationalPortal.Infrastructure.Services.CoursesService|Returned course with id: 1.
2022-07-10 12:38:25.2966|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'EducationalPortal.Application.Models.DTO.Course.CourseDto'.
2022-07-10 12:38:25.3335|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.CoursesController.GetCourse (EducationalPortal.API) in 988.158ms
2022-07-10 12:38:25.3335|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.CoursesController.GetCourse (EducationalPortal.API)'
2022-07-10 12:38:25.3335|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/courses/1 - - - 200 2603 application/json;+charset=utf-8 1036.8851ms
2022-07-10 12:38:48.1409|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/account/author/default@gmail.com - -
2022-07-10 12:38:48.1539|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-07-10 12:38:48.1539|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.AccountController.Author (EducationalPortal.API)'
2022-07-10 12:38:48.1539|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Author", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EducationalPortal.Application.Models.DTO.UserDto]] Author(System.String) on controller EducationalPortal.API.Controllers.AccountController (EducationalPortal.API).
2022-07-10 12:38:48.1539|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-07-10 12:38:48.2474|WARN|Microsoft.EntityFrameworkCore.Query|Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-07-10 12:38:48.2838|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (27ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Avatar], [t].[Balance], [t].[Email], [t].[Name], [t].[PasswordHash], [t].[Position], [t].[UserTokenId], [c].[Id], [c].[AuthorId], [c].[Description], [c].[Name], [c].[Price], [c].[ShortDescription], [c].[Thumbnail], [t0].[UserId], [t0].[SkillId], [t0].[Level], [t0].[Id], [t0].[Name], [t1].[RolesId], [t1].[UsersId], [t1].[Id], [t1].[Name]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Balance], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[Position], [u].[UserTokenId]
    FROM [Users] AS [u]
    WHERE [u].[Email] = @__email_0
) AS [t]
LEFT JOIN [Courses] AS [c] ON [t].[Id] = [c].[AuthorId]
LEFT JOIN (
    SELECT [u0].[UserId], [u0].[SkillId], [u0].[Level], [s].[Id], [s].[Name]
    FROM [UsersSkills] AS [u0]
    INNER JOIN [Skills] AS [s] ON [u0].[SkillId] = [s].[Id]
) AS [t0] ON [t].[Id] = [t0].[UserId]
LEFT JOIN (
    SELECT [r].[RolesId], [r].[UsersId], [r0].[Id], [r0].[Name]
    FROM [RoleUser] AS [r]
    INNER JOIN [Roles] AS [r0] ON [r].[RolesId] = [r0].[Id]
) AS [t1] ON [t].[Id] = [t1].[UsersId]
ORDER BY [t].[Id], [c].[Id], [t0].[UserId], [t0].[SkillId], [t0].[Id], [t1].[RolesId], [t1].[UsersId]
2022-07-10 12:38:48.2995|INFO|EducationalPortal.Infrastructure.Services.AccountService|Returned user as author with email: default@gmail.com.
2022-07-10 12:38:48.2995|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'EducationalPortal.Application.Models.DTO.UserDto'.
2022-07-10 12:38:48.2995|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.AccountController.Author (EducationalPortal.API) in 140.2109ms
2022-07-10 12:38:48.2995|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.AccountController.Author (EducationalPortal.API)'
2022-07-10 12:38:48.2995|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/account/author/default@gmail.com - - - 200 1236 application/json;+charset=utf-8 160.6975ms
2022-07-10 12:38:52.4323|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/courses/1 - -
2022-07-10 12:38:52.4439|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-07-10 12:38:52.4439|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.CoursesController.GetCourse (EducationalPortal.API)'
2022-07-10 12:38:52.4439|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EducationalPortal.Application.Models.DTO.Course.CourseDto]] GetCourse(Int32) on controller EducationalPortal.API.Controllers.CoursesController (EducationalPortal.API).
2022-07-10 12:38:52.4630|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-07-10 12:38:52.4966|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[AuthorId], [t].[Description], [t].[Name], [t].[Price], [t].[ShortDescription], [t].[Thumbnail], [t].[Id0], [t].[Avatar], [t].[Balance], [t].[Email], [t].[Name0], [t].[PasswordHash], [t].[Position], [t].[UserTokenId], [t0].[CourseId], [t0].[MaterialId], [t0].[Index], [t0].[Id], [t0].[Link], [t0].[Name], [t0].[PublicationDate], [t0].[ResourceId], [t0].[ExtensionId], [t0].[PagesCount], [t0].[PublicationYear], [t0].[Duration], [t0].[QualityId], [t0].[Discriminator], [t2].[CourseId], [t2].[SkillId], [t2].[Id], [t2].[Name]
FROM (
    SELECT TOP(1) [c].[Id], [c].[AuthorId], [c].[Description], [c].[Name], [c].[Price], [c].[ShortDescription], [c].[Thumbnail], [u].[Id] AS [Id0], [u].[Avatar], [u].[Balance], [u].[Email], [u].[Name] AS [Name0], [u].[PasswordHash], [u].[Position], [u].[UserTokenId]
    FROM [Courses] AS [c]
    LEFT JOIN [Users] AS [u] ON [c].[AuthorId] = [u].[Id]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [c0].[CourseId], [c0].[MaterialId], [c0].[Index], [t1].[Id], [t1].[Link], [t1].[Name], [t1].[PublicationDate], [t1].[ResourceId], [t1].[ExtensionId], [t1].[PagesCount], [t1].[PublicationYear], [t1].[Duration], [t1].[QualityId], [t1].[Discriminator]
    FROM [CoursesMaterials] AS [c0]
    INNER JOIN (
        SELECT [m].[Id], [m].[Link], [m].[Name], [a].[PublicationDate], [a].[ResourceId], [b].[ExtensionId], [b].[PagesCount], [b].[PublicationYear], [v].[Duration], [v].[QualityId], CASE
            WHEN [v].[Id] IS NOT NULL THEN N'Video'
            WHEN [b].[Id] IS NOT NULL THEN N'Book'
            WHEN [a].[Id] IS NOT NULL THEN N'Article'
        END AS [Discriminator]
        FROM [Materials] AS [m]
        LEFT JOIN [Articles] AS [a] ON [m].[Id] = [a].[Id]
        LEFT JOIN [Books] AS [b] ON [m].[Id] = [b].[Id]
        LEFT JOIN [Videos] AS [v] ON [m].[Id] = [v].[Id]
    ) AS [t1] ON [c0].[MaterialId] = [t1].[Id]
) AS [t0] ON [t].[Id] = [t0].[CourseId]
LEFT JOIN (
    SELECT [c1].[CourseId], [c1].[SkillId], [s].[Id], [s].[Name]
    FROM [CoursesSkills] AS [c1]
    INNER JOIN [Skills] AS [s] ON [c1].[SkillId] = [s].[Id]
) AS [t2] ON [t].[Id] = [t2].[CourseId]
ORDER BY [t].[Id], [t].[Id0], [t0].[CourseId], [t0].[MaterialId], [t0].[Id], [t2].[CourseId], [t2].[SkillId]
2022-07-10 12:38:52.5004|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Link], [t].[Name], [t].[ExtensionId], [t].[PagesCount], [t].[PublicationYear], [t].[Id0], [t0].[AuthorsId], [t0].[BooksId], [t0].[Id], [t0].[FullName], [t].[Name0]
FROM (
    SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [b].[ExtensionId], [b].[PagesCount], [b].[PublicationYear], [e].[Id] AS [Id0], [e].[Name] AS [Name0]
    FROM [Materials] AS [m]
    INNER JOIN [Books] AS [b] ON [m].[Id] = [b].[Id]
    INNER JOIN [Extensions] AS [e] ON [b].[ExtensionId] = [e].[Id]
    WHERE [m].[Id] = @__cm_MaterialId_0
) AS [t]
LEFT JOIN (
    SELECT [a].[AuthorsId], [a].[BooksId], [a0].[Id], [a0].[FullName]
    FROM [AuthorBook] AS [a]
    INNER JOIN [Authors] AS [a0] ON [a].[AuthorsId] = [a0].[Id]
) AS [t0] ON [t].[Id] = [t0].[BooksId]
ORDER BY [t].[Id], [t].[Id0], [t0].[AuthorsId], [t0].[BooksId]
2022-07-10 12:38:52.5004|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [v].[Duration], [v].[QualityId], [q].[Id], [q].[Name]
FROM [Materials] AS [m]
INNER JOIN [Videos] AS [v] ON [m].[Id] = [v].[Id]
INNER JOIN [Qualities] AS [q] ON [v].[QualityId] = [q].[Id]
WHERE [m].[Id] = @__cm_MaterialId_0
2022-07-10 12:38:52.5004|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [a].[PublicationDate], [a].[ResourceId], [r].[Id], [r].[Name]
FROM [Materials] AS [m]
INNER JOIN [Articles] AS [a] ON [m].[Id] = [a].[Id]
INNER JOIN [Resources] AS [r] ON [a].[ResourceId] = [r].[Id]
WHERE [m].[Id] = @__cm_MaterialId_0
2022-07-10 12:38:52.5004|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Link], [t].[Name], [t].[ExtensionId], [t].[PagesCount], [t].[PublicationYear], [t].[Id0], [t0].[AuthorsId], [t0].[BooksId], [t0].[Id], [t0].[FullName], [t].[Name0]
FROM (
    SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [b].[ExtensionId], [b].[PagesCount], [b].[PublicationYear], [e].[Id] AS [Id0], [e].[Name] AS [Name0]
    FROM [Materials] AS [m]
    INNER JOIN [Books] AS [b] ON [m].[Id] = [b].[Id]
    INNER JOIN [Extensions] AS [e] ON [b].[ExtensionId] = [e].[Id]
    WHERE [m].[Id] = @__cm_MaterialId_0
) AS [t]
LEFT JOIN (
    SELECT [a].[AuthorsId], [a].[BooksId], [a0].[Id], [a0].[FullName]
    FROM [AuthorBook] AS [a]
    INNER JOIN [Authors] AS [a0] ON [a].[AuthorsId] = [a0].[Id]
) AS [t0] ON [t].[Id] = [t0].[BooksId]
ORDER BY [t].[Id], [t].[Id0], [t0].[AuthorsId], [t0].[BooksId]
2022-07-10 12:38:52.5004|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [v].[Duration], [v].[QualityId], [q].[Id], [q].[Name]
FROM [Materials] AS [m]
INNER JOIN [Videos] AS [v] ON [m].[Id] = [v].[Id]
INNER JOIN [Qualities] AS [q] ON [v].[QualityId] = [q].[Id]
WHERE [m].[Id] = @__cm_MaterialId_0
2022-07-10 12:38:52.5133|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [a].[PublicationDate], [a].[ResourceId], [r].[Id], [r].[Name]
FROM [Materials] AS [m]
INNER JOIN [Articles] AS [a] ON [m].[Id] = [a].[Id]
INNER JOIN [Resources] AS [r] ON [a].[ResourceId] = [r].[Id]
WHERE [m].[Id] = @__cm_MaterialId_0
2022-07-10 12:38:52.5133|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Link], [t].[Name], [t].[ExtensionId], [t].[PagesCount], [t].[PublicationYear], [t].[Id0], [t0].[AuthorsId], [t0].[BooksId], [t0].[Id], [t0].[FullName], [t].[Name0]
FROM (
    SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [b].[ExtensionId], [b].[PagesCount], [b].[PublicationYear], [e].[Id] AS [Id0], [e].[Name] AS [Name0]
    FROM [Materials] AS [m]
    INNER JOIN [Books] AS [b] ON [m].[Id] = [b].[Id]
    INNER JOIN [Extensions] AS [e] ON [b].[ExtensionId] = [e].[Id]
    WHERE [m].[Id] = @__cm_MaterialId_0
) AS [t]
LEFT JOIN (
    SELECT [a].[AuthorsId], [a].[BooksId], [a0].[Id], [a0].[FullName]
    FROM [AuthorBook] AS [a]
    INNER JOIN [Authors] AS [a0] ON [a].[AuthorsId] = [a0].[Id]
) AS [t0] ON [t].[Id] = [t0].[BooksId]
ORDER BY [t].[Id], [t].[Id0], [t0].[AuthorsId], [t0].[BooksId]
2022-07-10 12:38:52.5133|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [v].[Duration], [v].[QualityId], [q].[Id], [q].[Name]
FROM [Materials] AS [m]
INNER JOIN [Videos] AS [v] ON [m].[Id] = [v].[Id]
INNER JOIN [Qualities] AS [q] ON [v].[QualityId] = [q].[Id]
WHERE [m].[Id] = @__cm_MaterialId_0
2022-07-10 12:38:52.5133|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [a].[PublicationDate], [a].[ResourceId], [r].[Id], [r].[Name]
FROM [Materials] AS [m]
INNER JOIN [Articles] AS [a] ON [m].[Id] = [a].[Id]
INNER JOIN [Resources] AS [r] ON [a].[ResourceId] = [r].[Id]
WHERE [m].[Id] = @__cm_MaterialId_0
2022-07-10 12:38:52.5133|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Avatar], [t].[Balance], [t].[Email], [t].[Name], [t].[PasswordHash], [t].[Position], [t].[UserTokenId], [t0].[MaterialsId], [t0].[UsersId], [t0].[Id], [t0].[Link], [t0].[Name], [t0].[PublicationDate], [t0].[ResourceId], [t0].[ExtensionId], [t0].[PagesCount], [t0].[PublicationYear], [t0].[Duration], [t0].[QualityId], [t0].[Discriminator]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Balance], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[Position], [u].[UserTokenId]
    FROM [Users] AS [u]
    WHERE 0 = 1
) AS [t]
LEFT JOIN (
    SELECT [m].[MaterialsId], [m].[UsersId], [t1].[Id], [t1].[Link], [t1].[Name], [t1].[PublicationDate], [t1].[ResourceId], [t1].[ExtensionId], [t1].[PagesCount], [t1].[PublicationYear], [t1].[Duration], [t1].[QualityId], [t1].[Discriminator]
    FROM [MaterialsBaseUser] AS [m]
    INNER JOIN (
        SELECT [m0].[Id], [m0].[Link], [m0].[Name], [a].[PublicationDate], [a].[ResourceId], [b].[ExtensionId], [b].[PagesCount], [b].[PublicationYear], [v].[Duration], [v].[QualityId], CASE
            WHEN [v].[Id] IS NOT NULL THEN N'Video'
            WHEN [b].[Id] IS NOT NULL THEN N'Book'
            WHEN [a].[Id] IS NOT NULL THEN N'Article'
        END AS [Discriminator]
        FROM [Materials] AS [m0]
        LEFT JOIN [Articles] AS [a] ON [m0].[Id] = [a].[Id]
        LEFT JOIN [Books] AS [b] ON [m0].[Id] = [b].[Id]
        LEFT JOIN [Videos] AS [v] ON [m0].[Id] = [v].[Id]
    ) AS [t1] ON [m].[MaterialsId] = [t1].[Id]
) AS [t0] ON [t].[Id] = [t0].[UsersId]
ORDER BY [t].[Id], [t0].[MaterialsId], [t0].[UsersId]
2022-07-10 12:38:52.5802|INFO|EducationalPortal.Infrastructure.Services.CoursesService|Returned course with id: 1.
2022-07-10 12:38:52.5802|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'EducationalPortal.Application.Models.DTO.Course.CourseDto'.
2022-07-10 12:38:52.5802|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.CoursesController.GetCourse (EducationalPortal.API) in 136.7312ms
2022-07-10 12:38:52.5802|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.CoursesController.GetCourse (EducationalPortal.API)'
2022-07-10 12:38:52.5802|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/courses/1 - - - 200 2603 application/json;+charset=utf-8 149.7584ms
2022-07-10 12:38:56.5410|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/shopping-cart/total-price-from-cookie?cookie=-1 - -
2022-07-10 12:38:56.5410|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/shopping-cart/page-from-cookie?pageSize=10&pageNumber=1&cookie=-1 - -
2022-07-10 12:38:56.5410|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-07-10 12:38:56.5410|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.ShoppingCartController.GetCart (EducationalPortal.API)'
2022-07-10 12:38:56.5544|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetCart", controller = "ShoppingCart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EducationalPortal.Application.Models.DTO.CartItemDto]]] GetCart(System.String, EducationalPortal.Application.Paging.PageParameters) on controller EducationalPortal.API.Controllers.ShoppingCartController (EducationalPortal.API).
2022-07-10 12:38:56.5544|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-07-10 12:38:56.5544|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-07-10 12:38:56.5544|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.ShoppingCartController.GetTotalPrice (EducationalPortal.API)'
2022-07-10 12:38:56.5712|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetTotalPrice", controller = "ShoppingCart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] GetTotalPrice(System.String) on controller EducationalPortal.API.Controllers.ShoppingCartController (EducationalPortal.API).
2022-07-10 12:38:56.5712|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-07-10 12:38:56.5957|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[AuthorId], [c].[Description], [c].[Name], [c].[Price], [c].[ShortDescription], [c].[Thumbnail]
FROM [Courses] AS [c]
WHERE [c].[Id] = @__id_0
2022-07-10 12:38:56.5957|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[AuthorId], [c].[Description], [c].[Name], [c].[Price], [c].[ShortDescription], [c].[Thumbnail]
FROM [Courses] AS [c]
WHERE [c].[Id] = @__id_0
2022-07-10 12:38:56.5957|INFO|EducationalPortal.Infrastructure.Services.ShoppingCartService|Returned all cart items from cookies.
2022-07-10 12:38:56.5957|INFO|EducationalPortal.Infrastructure.Services.ShoppingCartService|Returned total price 80 for cart from cookies.
2022-07-10 12:38:56.6073|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'System.Int32'.
2022-07-10 12:38:56.6073|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.ShoppingCartController.GetTotalPrice (EducationalPortal.API) in 36.4451ms
2022-07-10 12:38:56.6073|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.ShoppingCartController.GetTotalPrice (EducationalPortal.API)'
2022-07-10 12:38:56.6073|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/shopping-cart/total-price-from-cookie?cookie=-1 - - - 200 2 application/json;+charset=utf-8 67.0780ms
2022-07-10 12:38:56.6073|INFO|EducationalPortal.Infrastructure.Services.ShoppingCartService|Returned cart items page 1 from cookies.
2022-07-10 12:38:56.6073|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'EducationalPortal.Application.Paging.PagedList`1[[EducationalPortal.Application.Models.DTO.CartItemDto, EducationalPortal.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-07-10 12:38:56.6073|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.ShoppingCartController.GetCart (EducationalPortal.API) in 60.1304ms
2022-07-10 12:38:56.6073|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.ShoppingCartController.GetCart (EducationalPortal.API)'
2022-07-10 12:38:56.6073|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/shopping-cart/page-from-cookie?pageSize=10&pageNumber=1&cookie=-1 - - - 200 294 application/json;+charset=utf-8 74.3072ms
2022-07-10 12:39:23.4651|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:7106/api/account/login - -
2022-07-10 12:39:23.4846|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-07-10 12:39:23.4846|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:7106/api/account/login - - - 204 - - 20.1222ms
2022-07-10 12:39:23.4846|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:7106/api/account/login application/json 93
2022-07-10 12:39:23.4846|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-07-10 12:39:23.4846|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.AccountController.Login (EducationalPortal.API)'
2022-07-10 12:39:23.5039|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EducationalPortal.Application.Models.TokensModel]] Login(EducationalPortal.Application.Models.LoginModel) on controller EducationalPortal.API.Controllers.AccountController (EducationalPortal.API).
2022-07-10 12:39:23.5039|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-07-10 12:39:23.7395|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (13ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Avatar], [t].[Balance], [t].[Email], [t].[Name], [t].[PasswordHash], [t].[Position], [t].[UserTokenId], [t].[Id0], [t].[RefreshToken], [t].[RefreshTokenExpiryTime], [t0].[RolesId], [t0].[UsersId], [t0].[Id], [t0].[Name]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Balance], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[Position], [u].[UserTokenId], [u0].[Id] AS [Id0], [u0].[RefreshToken], [u0].[RefreshTokenExpiryTime]
    FROM [Users] AS [u]
    LEFT JOIN [UserToken] AS [u0] ON [u].[UserTokenId] = [u0].[Id]
    WHERE [u].[Email] = @__email_0
) AS [t]
LEFT JOIN (
    SELECT [r].[RolesId], [r].[UsersId], [r0].[Id], [r0].[Name]
    FROM [RoleUser] AS [r]
    INNER JOIN [Roles] AS [r0] ON [r].[RolesId] = [r0].[Id]
) AS [t0] ON [t].[Id] = [t0].[UsersId]
ORDER BY [t].[Id], [t].[Id0], [t0].[RolesId], [t0].[UsersId]
2022-07-10 12:39:23.7395|INFO|EducationalPortal.Infrastructure.Services.Identity.PasswordHasher|Checked password.
2022-07-10 12:39:23.7395|INFO|EducationalPortal.Infrastructure.Services.Identity.TokensService|Generated new refresh token.
2022-07-10 12:39:23.7395|INFO|EducationalPortal.Infrastructure.Services.Identity.UserManager|Returned new refresh token.
2022-07-10 12:39:23.8175|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [UserToken] ([RefreshToken], [RefreshTokenExpiryTime])
VALUES (@p0, @p1);
SELECT [Id]
FROM [UserToken]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 12:39:23.8424|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@p9='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 450), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Users] SET [Avatar] = @p2, [Balance] = @p3, [Email] = @p4, [Name] = @p5, [PasswordHash] = @p6, [Position] = @p7, [UserTokenId] = @p8
WHERE [Id] = @p9;
SELECT @@ROWCOUNT;
2022-07-10 12:39:23.8424|INFO|EducationalPortal.Infrastructure.Services.Identity.UserManager|Returned claims for user with email: default@gmail.com.
2022-07-10 12:39:24.2392|INFO|EducationalPortal.Infrastructure.Services.Identity.TokensService|Generated new access token.
2022-07-10 12:39:24.2392|INFO|EducationalPortal.Infrastructure.Services.Identity.UserManager|Returned new access and refresh tokens.
2022-07-10 12:39:24.2392|INFO|EducationalPortal.Infrastructure.Services.Identity.UserManager|Logged in user with email: default@gmail.com.
2022-07-10 12:39:24.2392|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'EducationalPortal.Application.Models.TokensModel'.
2022-07-10 12:39:24.2392|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.AccountController.Login (EducationalPortal.API) in 737.5063ms
2022-07-10 12:39:24.2392|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.AccountController.Login (EducationalPortal.API)'
2022-07-10 12:39:24.2392|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:7106/api/account/login application/json 93 - 200 595 application/json;+charset=utf-8 752.9241ms
2022-07-10 12:39:24.2951|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:7106/api/courses?pageSize=3&pageNumber=1 - -
2022-07-10 12:39:24.2951|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-07-10 12:39:24.2951|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:7106/api/courses?pageSize=3&pageNumber=1 - - - 204 - - 0.7747ms
2022-07-10 12:39:24.2951|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/courses?pageSize=3&pageNumber=1 - -
2022-07-10 12:39:24.2951|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-07-10 12:39:24.6470|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.CoursesController.GetCourses (EducationalPortal.API)'
2022-07-10 12:39:24.6470|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EducationalPortal.Application.Models.DTO.Course.CourseShortDto]]] GetCourses(EducationalPortal.Application.Paging.PageParameters) on controller EducationalPortal.API.Controllers.CoursesController (EducationalPortal.API).
2022-07-10 12:39:24.6470|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-07-10 12:39:24.6592|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[AuthorId], [c].[Description], [c].[Name], [c].[Price], [c].[ShortDescription], [c].[Thumbnail]
FROM [Courses] AS [c]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-07-10 12:39:24.6592|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Courses] AS [c]
2022-07-10 12:39:24.6592|INFO|EducationalPortal.Infrastructure.Services.CoursesService|Returned courses page 1 from database.
2022-07-10 12:39:24.6592|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'EducationalPortal.Application.Paging.PagedList`1[[EducationalPortal.Application.Models.DTO.Course.CourseShortDto, EducationalPortal.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-07-10 12:39:24.6592|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.CoursesController.GetCourses (EducationalPortal.API) in 18.9847ms
2022-07-10 12:39:24.6592|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.CoursesController.GetCourses (EducationalPortal.API)'
2022-07-10 12:39:24.6592|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/courses?pageSize=3&pageNumber=1 - - - 200 818 application/json;+charset=utf-8 362.0498ms
2022-07-10 12:39:31.0426|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:7106/api/account - -
2022-07-10 12:39:31.0426|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-07-10 12:39:31.0426|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:7106/api/account - - - 204 - - 1.0526ms
2022-07-10 12:39:31.0474|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/account - -
2022-07-10 12:39:31.0474|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-07-10 12:39:31.0606|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.AccountController.Profile (EducationalPortal.API)'
2022-07-10 12:39:31.0606|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Profile", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EducationalPortal.Application.Models.DTO.UserDto]] Profile() on controller EducationalPortal.API.Controllers.AccountController (EducationalPortal.API).
2022-07-10 12:39:31.0606|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-07-10 12:39:31.1222|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Avatar], [t].[Balance], [t].[Email], [t].[Name], [t].[PasswordHash], [t].[Position], [t].[UserTokenId], [c].[Id], [c].[AuthorId], [c].[Description], [c].[Name], [c].[Price], [c].[ShortDescription], [c].[Thumbnail], [t0].[UserId], [t0].[SkillId], [t0].[Level], [t0].[Id], [t0].[Name], [t1].[RolesId], [t1].[UsersId], [t1].[Id], [t1].[Name]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Balance], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[Position], [u].[UserTokenId]
    FROM [Users] AS [u]
    WHERE [u].[Email] = @__email_0
) AS [t]
LEFT JOIN [Courses] AS [c] ON [t].[Id] = [c].[AuthorId]
LEFT JOIN (
    SELECT [u0].[UserId], [u0].[SkillId], [u0].[Level], [s].[Id], [s].[Name]
    FROM [UsersSkills] AS [u0]
    INNER JOIN [Skills] AS [s] ON [u0].[SkillId] = [s].[Id]
) AS [t0] ON [t].[Id] = [t0].[UserId]
LEFT JOIN (
    SELECT [r].[RolesId], [r].[UsersId], [r0].[Id], [r0].[Name]
    FROM [RoleUser] AS [r]
    INNER JOIN [Roles] AS [r0] ON [r].[RolesId] = [r0].[Id]
) AS [t1] ON [t].[Id] = [t1].[UsersId]
ORDER BY [t].[Id], [c].[Id], [t0].[UserId], [t0].[SkillId], [t0].[Id], [t1].[RolesId], [t1].[UsersId]
2022-07-10 12:39:31.1723|INFO|EducationalPortal.Infrastructure.Services.AccountService|Returned user with email: default@gmail.com.
2022-07-10 12:39:31.1723|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'EducationalPortal.Application.Models.DTO.UserDto'.
2022-07-10 12:39:31.1723|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.AccountController.Profile (EducationalPortal.API) in 105.0367ms
2022-07-10 12:39:31.1723|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.AccountController.Profile (EducationalPortal.API)'
2022-07-10 12:39:31.1723|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/account - - - 200 1236 application/json;+charset=utf-8 131.2078ms
2022-07-10 12:41:21.1677|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:7106/api/courses/1 - -
2022-07-10 12:41:21.1727|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-07-10 12:41:21.1727|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:7106/api/courses/1 - - - 204 - - 5.3597ms
2022-07-10 12:41:21.1727|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/courses/1 - -
2022-07-10 12:41:21.1727|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-07-10 12:41:21.1727|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.CoursesController.GetCourse (EducationalPortal.API)'
2022-07-10 12:41:21.1727|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EducationalPortal.Application.Models.DTO.Course.CourseDto]] GetCourse(Int32) on controller EducationalPortal.API.Controllers.CoursesController (EducationalPortal.API).
2022-07-10 12:41:21.1727|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-07-10 12:41:21.1980|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[AuthorId], [t].[Description], [t].[Name], [t].[Price], [t].[ShortDescription], [t].[Thumbnail], [t].[Id0], [t].[Avatar], [t].[Balance], [t].[Email], [t].[Name0], [t].[PasswordHash], [t].[Position], [t].[UserTokenId], [t0].[CourseId], [t0].[MaterialId], [t0].[Index], [t0].[Id], [t0].[Link], [t0].[Name], [t0].[PublicationDate], [t0].[ResourceId], [t0].[ExtensionId], [t0].[PagesCount], [t0].[PublicationYear], [t0].[Duration], [t0].[QualityId], [t0].[Discriminator], [t2].[CourseId], [t2].[SkillId], [t2].[Id], [t2].[Name]
FROM (
    SELECT TOP(1) [c].[Id], [c].[AuthorId], [c].[Description], [c].[Name], [c].[Price], [c].[ShortDescription], [c].[Thumbnail], [u].[Id] AS [Id0], [u].[Avatar], [u].[Balance], [u].[Email], [u].[Name] AS [Name0], [u].[PasswordHash], [u].[Position], [u].[UserTokenId]
    FROM [Courses] AS [c]
    LEFT JOIN [Users] AS [u] ON [c].[AuthorId] = [u].[Id]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [c0].[CourseId], [c0].[MaterialId], [c0].[Index], [t1].[Id], [t1].[Link], [t1].[Name], [t1].[PublicationDate], [t1].[ResourceId], [t1].[ExtensionId], [t1].[PagesCount], [t1].[PublicationYear], [t1].[Duration], [t1].[QualityId], [t1].[Discriminator]
    FROM [CoursesMaterials] AS [c0]
    INNER JOIN (
        SELECT [m].[Id], [m].[Link], [m].[Name], [a].[PublicationDate], [a].[ResourceId], [b].[ExtensionId], [b].[PagesCount], [b].[PublicationYear], [v].[Duration], [v].[QualityId], CASE
            WHEN [v].[Id] IS NOT NULL THEN N'Video'
            WHEN [b].[Id] IS NOT NULL THEN N'Book'
            WHEN [a].[Id] IS NOT NULL THEN N'Article'
        END AS [Discriminator]
        FROM [Materials] AS [m]
        LEFT JOIN [Articles] AS [a] ON [m].[Id] = [a].[Id]
        LEFT JOIN [Books] AS [b] ON [m].[Id] = [b].[Id]
        LEFT JOIN [Videos] AS [v] ON [m].[Id] = [v].[Id]
    ) AS [t1] ON [c0].[MaterialId] = [t1].[Id]
) AS [t0] ON [t].[Id] = [t0].[CourseId]
LEFT JOIN (
    SELECT [c1].[CourseId], [c1].[SkillId], [s].[Id], [s].[Name]
    FROM [CoursesSkills] AS [c1]
    INNER JOIN [Skills] AS [s] ON [c1].[SkillId] = [s].[Id]
) AS [t2] ON [t].[Id] = [t2].[CourseId]
ORDER BY [t].[Id], [t].[Id0], [t0].[CourseId], [t0].[MaterialId], [t0].[Id], [t2].[CourseId], [t2].[SkillId]
2022-07-10 12:41:21.2020|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Link], [t].[Name], [t].[ExtensionId], [t].[PagesCount], [t].[PublicationYear], [t].[Id0], [t0].[AuthorsId], [t0].[BooksId], [t0].[Id], [t0].[FullName], [t].[Name0]
FROM (
    SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [b].[ExtensionId], [b].[PagesCount], [b].[PublicationYear], [e].[Id] AS [Id0], [e].[Name] AS [Name0]
    FROM [Materials] AS [m]
    INNER JOIN [Books] AS [b] ON [m].[Id] = [b].[Id]
    INNER JOIN [Extensions] AS [e] ON [b].[ExtensionId] = [e].[Id]
    WHERE [m].[Id] = @__cm_MaterialId_0
) AS [t]
LEFT JOIN (
    SELECT [a].[AuthorsId], [a].[BooksId], [a0].[Id], [a0].[FullName]
    FROM [AuthorBook] AS [a]
    INNER JOIN [Authors] AS [a0] ON [a].[AuthorsId] = [a0].[Id]
) AS [t0] ON [t].[Id] = [t0].[BooksId]
ORDER BY [t].[Id], [t].[Id0], [t0].[AuthorsId], [t0].[BooksId]
2022-07-10 12:41:21.2020|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [v].[Duration], [v].[QualityId], [q].[Id], [q].[Name]
FROM [Materials] AS [m]
INNER JOIN [Videos] AS [v] ON [m].[Id] = [v].[Id]
INNER JOIN [Qualities] AS [q] ON [v].[QualityId] = [q].[Id]
WHERE [m].[Id] = @__cm_MaterialId_0
2022-07-10 12:41:21.2020|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [a].[PublicationDate], [a].[ResourceId], [r].[Id], [r].[Name]
FROM [Materials] AS [m]
INNER JOIN [Articles] AS [a] ON [m].[Id] = [a].[Id]
INNER JOIN [Resources] AS [r] ON [a].[ResourceId] = [r].[Id]
WHERE [m].[Id] = @__cm_MaterialId_0
2022-07-10 12:41:21.2020|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Link], [t].[Name], [t].[ExtensionId], [t].[PagesCount], [t].[PublicationYear], [t].[Id0], [t0].[AuthorsId], [t0].[BooksId], [t0].[Id], [t0].[FullName], [t].[Name0]
FROM (
    SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [b].[ExtensionId], [b].[PagesCount], [b].[PublicationYear], [e].[Id] AS [Id0], [e].[Name] AS [Name0]
    FROM [Materials] AS [m]
    INNER JOIN [Books] AS [b] ON [m].[Id] = [b].[Id]
    INNER JOIN [Extensions] AS [e] ON [b].[ExtensionId] = [e].[Id]
    WHERE [m].[Id] = @__cm_MaterialId_0
) AS [t]
LEFT JOIN (
    SELECT [a].[AuthorsId], [a].[BooksId], [a0].[Id], [a0].[FullName]
    FROM [AuthorBook] AS [a]
    INNER JOIN [Authors] AS [a0] ON [a].[AuthorsId] = [a0].[Id]
) AS [t0] ON [t].[Id] = [t0].[BooksId]
ORDER BY [t].[Id], [t].[Id0], [t0].[AuthorsId], [t0].[BooksId]
2022-07-10 12:41:21.2020|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [v].[Duration], [v].[QualityId], [q].[Id], [q].[Name]
FROM [Materials] AS [m]
INNER JOIN [Videos] AS [v] ON [m].[Id] = [v].[Id]
INNER JOIN [Qualities] AS [q] ON [v].[QualityId] = [q].[Id]
WHERE [m].[Id] = @__cm_MaterialId_0
2022-07-10 12:41:21.2020|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [a].[PublicationDate], [a].[ResourceId], [r].[Id], [r].[Name]
FROM [Materials] AS [m]
INNER JOIN [Articles] AS [a] ON [m].[Id] = [a].[Id]
INNER JOIN [Resources] AS [r] ON [a].[ResourceId] = [r].[Id]
WHERE [m].[Id] = @__cm_MaterialId_0
2022-07-10 12:41:21.2020|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Link], [t].[Name], [t].[ExtensionId], [t].[PagesCount], [t].[PublicationYear], [t].[Id0], [t0].[AuthorsId], [t0].[BooksId], [t0].[Id], [t0].[FullName], [t].[Name0]
FROM (
    SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [b].[ExtensionId], [b].[PagesCount], [b].[PublicationYear], [e].[Id] AS [Id0], [e].[Name] AS [Name0]
    FROM [Materials] AS [m]
    INNER JOIN [Books] AS [b] ON [m].[Id] = [b].[Id]
    INNER JOIN [Extensions] AS [e] ON [b].[ExtensionId] = [e].[Id]
    WHERE [m].[Id] = @__cm_MaterialId_0
) AS [t]
LEFT JOIN (
    SELECT [a].[AuthorsId], [a].[BooksId], [a0].[Id], [a0].[FullName]
    FROM [AuthorBook] AS [a]
    INNER JOIN [Authors] AS [a0] ON [a].[AuthorsId] = [a0].[Id]
) AS [t0] ON [t].[Id] = [t0].[BooksId]
ORDER BY [t].[Id], [t].[Id0], [t0].[AuthorsId], [t0].[BooksId]
2022-07-10 12:41:21.2020|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [v].[Duration], [v].[QualityId], [q].[Id], [q].[Name]
FROM [Materials] AS [m]
INNER JOIN [Videos] AS [v] ON [m].[Id] = [v].[Id]
INNER JOIN [Qualities] AS [q] ON [v].[QualityId] = [q].[Id]
WHERE [m].[Id] = @__cm_MaterialId_0
2022-07-10 12:41:21.2168|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [a].[PublicationDate], [a].[ResourceId], [r].[Id], [r].[Name]
FROM [Materials] AS [m]
INNER JOIN [Articles] AS [a] ON [m].[Id] = [a].[Id]
INNER JOIN [Resources] AS [r] ON [a].[ResourceId] = [r].[Id]
WHERE [m].[Id] = @__cm_MaterialId_0
2022-07-10 12:41:21.2332|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (15ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Avatar], [t].[Balance], [t].[Email], [t].[Name], [t].[PasswordHash], [t].[Position], [t].[UserTokenId], [t0].[MaterialsId], [t0].[UsersId], [t0].[Id], [t0].[Link], [t0].[Name], [t0].[PublicationDate], [t0].[ResourceId], [t0].[ExtensionId], [t0].[PagesCount], [t0].[PublicationYear], [t0].[Duration], [t0].[QualityId], [t0].[Discriminator]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Balance], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[Position], [u].[UserTokenId]
    FROM [Users] AS [u]
    WHERE [u].[Email] = @__email_0
) AS [t]
LEFT JOIN (
    SELECT [m].[MaterialsId], [m].[UsersId], [t1].[Id], [t1].[Link], [t1].[Name], [t1].[PublicationDate], [t1].[ResourceId], [t1].[ExtensionId], [t1].[PagesCount], [t1].[PublicationYear], [t1].[Duration], [t1].[QualityId], [t1].[Discriminator]
    FROM [MaterialsBaseUser] AS [m]
    INNER JOIN (
        SELECT [m0].[Id], [m0].[Link], [m0].[Name], [a].[PublicationDate], [a].[ResourceId], [b].[ExtensionId], [b].[PagesCount], [b].[PublicationYear], [v].[Duration], [v].[QualityId], CASE
            WHEN [v].[Id] IS NOT NULL THEN N'Video'
            WHEN [b].[Id] IS NOT NULL THEN N'Book'
            WHEN [a].[Id] IS NOT NULL THEN N'Article'
        END AS [Discriminator]
        FROM [Materials] AS [m0]
        LEFT JOIN [Articles] AS [a] ON [m0].[Id] = [a].[Id]
        LEFT JOIN [Books] AS [b] ON [m0].[Id] = [b].[Id]
        LEFT JOIN [Videos] AS [v] ON [m0].[Id] = [v].[Id]
    ) AS [t1] ON [m].[MaterialsId] = [t1].[Id]
) AS [t0] ON [t].[Id] = [t0].[UsersId]
ORDER BY [t].[Id], [t0].[MaterialsId], [t0].[UsersId]
2022-07-10 12:41:21.2574|INFO|EducationalPortal.Infrastructure.Services.CoursesService|Returned course with id: 1.
2022-07-10 12:41:21.2574|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'EducationalPortal.Application.Models.DTO.Course.CourseDto'.
2022-07-10 12:41:21.2574|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.CoursesController.GetCourse (EducationalPortal.API) in 77.2465ms
2022-07-10 12:41:21.2574|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.CoursesController.GetCourse (EducationalPortal.API)'
2022-07-10 12:41:21.2574|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/courses/1 - - - 200 2603 application/json;+charset=utf-8 78.4635ms
2022-07-10 12:41:22.1001|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:7106/api/account - -
2022-07-10 12:41:22.1001|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-07-10 12:41:22.1001|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:7106/api/account - - - 204 - - 0.3801ms
2022-07-10 12:41:22.1001|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/account - -
2022-07-10 12:41:22.1001|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-07-10 12:41:22.1094|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.AccountController.Profile (EducationalPortal.API)'
2022-07-10 12:41:22.1094|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Profile", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EducationalPortal.Application.Models.DTO.UserDto]] Profile() on controller EducationalPortal.API.Controllers.AccountController (EducationalPortal.API).
2022-07-10 12:41:22.1094|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-07-10 12:41:22.1439|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Avatar], [t].[Balance], [t].[Email], [t].[Name], [t].[PasswordHash], [t].[Position], [t].[UserTokenId], [c].[Id], [c].[AuthorId], [c].[Description], [c].[Name], [c].[Price], [c].[ShortDescription], [c].[Thumbnail], [t0].[UserId], [t0].[SkillId], [t0].[Level], [t0].[Id], [t0].[Name], [t1].[RolesId], [t1].[UsersId], [t1].[Id], [t1].[Name]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Balance], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[Position], [u].[UserTokenId]
    FROM [Users] AS [u]
    WHERE [u].[Email] = @__email_0
) AS [t]
LEFT JOIN [Courses] AS [c] ON [t].[Id] = [c].[AuthorId]
LEFT JOIN (
    SELECT [u0].[UserId], [u0].[SkillId], [u0].[Level], [s].[Id], [s].[Name]
    FROM [UsersSkills] AS [u0]
    INNER JOIN [Skills] AS [s] ON [u0].[SkillId] = [s].[Id]
) AS [t0] ON [t].[Id] = [t0].[UserId]
LEFT JOIN (
    SELECT [r].[RolesId], [r].[UsersId], [r0].[Id], [r0].[Name]
    FROM [RoleUser] AS [r]
    INNER JOIN [Roles] AS [r0] ON [r].[RolesId] = [r0].[Id]
) AS [t1] ON [t].[Id] = [t1].[UsersId]
ORDER BY [t].[Id], [c].[Id], [t0].[UserId], [t0].[SkillId], [t0].[Id], [t1].[RolesId], [t1].[UsersId]
2022-07-10 12:41:22.1690|INFO|EducationalPortal.Infrastructure.Services.AccountService|Returned user with email: default@gmail.com.
2022-07-10 12:41:22.1690|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'EducationalPortal.Application.Models.DTO.UserDto'.
2022-07-10 12:41:22.1690|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.AccountController.Profile (EducationalPortal.API) in 61.8091ms
2022-07-10 12:41:22.1690|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.AccountController.Profile (EducationalPortal.API)'
2022-07-10 12:41:22.1690|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/account - - - 200 1236 application/json;+charset=utf-8 68.0994ms
2022-07-10 12:41:58.7207|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:7106/api/skills?pageSize=6&pageNumber=1 - -
2022-07-10 12:41:58.7207|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-07-10 12:41:58.7207|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:7106/api/skills?pageSize=6&pageNumber=1 - - - 204 - - 4.7997ms
2022-07-10 12:41:58.7319|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/skills?pageSize=6&pageNumber=1 - -
2022-07-10 12:41:58.7319|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-07-10 12:41:58.7319|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.SkillsController.GetSkills (EducationalPortal.API)'
2022-07-10 12:41:58.7489|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetSkills", controller = "Skills"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EducationalPortal.Application.Models.DTO.SkillDto]]] GetSkills(EducationalPortal.Application.Paging.PageParameters) on controller EducationalPortal.API.Controllers.SkillsController (EducationalPortal.API).
2022-07-10 12:41:58.7489|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-07-10 12:41:58.7647|WARN|Microsoft.EntityFrameworkCore.Query|The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-07-10 12:41:58.7647|WARN|Microsoft.EntityFrameworkCore.Query|The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-07-10 12:41:58.7822|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (13ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[Id], [s].[Name]
FROM [Skills] AS [s]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-07-10 12:41:58.8202|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (16ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Skills] AS [s]
2022-07-10 12:41:58.8475|INFO|EducationalPortal.Infrastructure.Services.SkillsService|Returned skills page 1 from database.
2022-07-10 12:41:58.8475|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'EducationalPortal.Application.Paging.PagedList`1[[EducationalPortal.Application.Models.DTO.SkillDto, EducationalPortal.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-07-10 12:41:58.8475|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.SkillsController.GetSkills (EducationalPortal.API) in 100.4916ms
2022-07-10 12:41:58.8475|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.SkillsController.GetSkills (EducationalPortal.API)'
2022-07-10 12:41:58.8475|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/skills?pageSize=6&pageNumber=1 - - - 200 152 application/json;+charset=utf-8 118.4362ms
2022-07-10 12:42:08.8939|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:7106/api/courses?pageSize=3&pageNumber=1 - -
2022-07-10 12:42:08.8939|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-07-10 12:42:08.9042|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:7106/api/courses?pageSize=3&pageNumber=1 - - - 204 - - 10.2663ms
2022-07-10 12:42:08.9042|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/courses?pageSize=3&pageNumber=1 - -
2022-07-10 12:42:08.9042|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-07-10 12:42:08.9042|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.CoursesController.GetCourses (EducationalPortal.API)'
2022-07-10 12:42:08.9042|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EducationalPortal.Application.Models.DTO.Course.CourseShortDto]]] GetCourses(EducationalPortal.Application.Paging.PageParameters) on controller EducationalPortal.API.Controllers.CoursesController (EducationalPortal.API).
2022-07-10 12:42:08.9042|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-07-10 12:42:08.9384|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[AuthorId], [c].[Description], [c].[Name], [c].[Price], [c].[ShortDescription], [c].[Thumbnail]
FROM [Courses] AS [c]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-07-10 12:42:08.9384|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Courses] AS [c]
2022-07-10 12:42:08.9384|INFO|EducationalPortal.Infrastructure.Services.CoursesService|Returned courses page 1 from database.
2022-07-10 12:42:08.9384|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'EducationalPortal.Application.Paging.PagedList`1[[EducationalPortal.Application.Models.DTO.Course.CourseShortDto, EducationalPortal.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-07-10 12:42:08.9384|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.CoursesController.GetCourses (EducationalPortal.API) in 34.8704ms
2022-07-10 12:42:08.9384|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.CoursesController.GetCourses (EducationalPortal.API)'
2022-07-10 12:42:08.9591|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/courses?pageSize=3&pageNumber=1 - - - 200 818 application/json;+charset=utf-8 50.0733ms
2022-07-10 12:42:09.8187|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:7106/api/courses/1 - -
2022-07-10 12:42:09.8187|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-07-10 12:42:09.8187|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:7106/api/courses/1 - - - 204 - - 0.3986ms
2022-07-10 12:42:09.8187|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/courses/1 - -
2022-07-10 12:42:09.8187|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-07-10 12:42:09.8187|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.CoursesController.GetCourse (EducationalPortal.API)'
2022-07-10 12:42:09.8187|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EducationalPortal.Application.Models.DTO.Course.CourseDto]] GetCourse(Int32) on controller EducationalPortal.API.Controllers.CoursesController (EducationalPortal.API).
2022-07-10 12:42:09.8253|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-07-10 12:42:09.8470|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[AuthorId], [t].[Description], [t].[Name], [t].[Price], [t].[ShortDescription], [t].[Thumbnail], [t].[Id0], [t].[Avatar], [t].[Balance], [t].[Email], [t].[Name0], [t].[PasswordHash], [t].[Position], [t].[UserTokenId], [t0].[CourseId], [t0].[MaterialId], [t0].[Index], [t0].[Id], [t0].[Link], [t0].[Name], [t0].[PublicationDate], [t0].[ResourceId], [t0].[ExtensionId], [t0].[PagesCount], [t0].[PublicationYear], [t0].[Duration], [t0].[QualityId], [t0].[Discriminator], [t2].[CourseId], [t2].[SkillId], [t2].[Id], [t2].[Name]
FROM (
    SELECT TOP(1) [c].[Id], [c].[AuthorId], [c].[Description], [c].[Name], [c].[Price], [c].[ShortDescription], [c].[Thumbnail], [u].[Id] AS [Id0], [u].[Avatar], [u].[Balance], [u].[Email], [u].[Name] AS [Name0], [u].[PasswordHash], [u].[Position], [u].[UserTokenId]
    FROM [Courses] AS [c]
    LEFT JOIN [Users] AS [u] ON [c].[AuthorId] = [u].[Id]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [c0].[CourseId], [c0].[MaterialId], [c0].[Index], [t1].[Id], [t1].[Link], [t1].[Name], [t1].[PublicationDate], [t1].[ResourceId], [t1].[ExtensionId], [t1].[PagesCount], [t1].[PublicationYear], [t1].[Duration], [t1].[QualityId], [t1].[Discriminator]
    FROM [CoursesMaterials] AS [c0]
    INNER JOIN (
        SELECT [m].[Id], [m].[Link], [m].[Name], [a].[PublicationDate], [a].[ResourceId], [b].[ExtensionId], [b].[PagesCount], [b].[PublicationYear], [v].[Duration], [v].[QualityId], CASE
            WHEN [v].[Id] IS NOT NULL THEN N'Video'
            WHEN [b].[Id] IS NOT NULL THEN N'Book'
            WHEN [a].[Id] IS NOT NULL THEN N'Article'
        END AS [Discriminator]
        FROM [Materials] AS [m]
        LEFT JOIN [Articles] AS [a] ON [m].[Id] = [a].[Id]
        LEFT JOIN [Books] AS [b] ON [m].[Id] = [b].[Id]
        LEFT JOIN [Videos] AS [v] ON [m].[Id] = [v].[Id]
    ) AS [t1] ON [c0].[MaterialId] = [t1].[Id]
) AS [t0] ON [t].[Id] = [t0].[CourseId]
LEFT JOIN (
    SELECT [c1].[CourseId], [c1].[SkillId], [s].[Id], [s].[Name]
    FROM [CoursesSkills] AS [c1]
    INNER JOIN [Skills] AS [s] ON [c1].[SkillId] = [s].[Id]
) AS [t2] ON [t].[Id] = [t2].[CourseId]
ORDER BY [t].[Id], [t].[Id0], [t0].[CourseId], [t0].[MaterialId], [t0].[Id], [t2].[CourseId], [t2].[SkillId]
2022-07-10 12:42:09.8470|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Link], [t].[Name], [t].[ExtensionId], [t].[PagesCount], [t].[PublicationYear], [t].[Id0], [t0].[AuthorsId], [t0].[BooksId], [t0].[Id], [t0].[FullName], [t].[Name0]
FROM (
    SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [b].[ExtensionId], [b].[PagesCount], [b].[PublicationYear], [e].[Id] AS [Id0], [e].[Name] AS [Name0]
    FROM [Materials] AS [m]
    INNER JOIN [Books] AS [b] ON [m].[Id] = [b].[Id]
    INNER JOIN [Extensions] AS [e] ON [b].[ExtensionId] = [e].[Id]
    WHERE [m].[Id] = @__cm_MaterialId_0
) AS [t]
LEFT JOIN (
    SELECT [a].[AuthorsId], [a].[BooksId], [a0].[Id], [a0].[FullName]
    FROM [AuthorBook] AS [a]
    INNER JOIN [Authors] AS [a0] ON [a].[AuthorsId] = [a0].[Id]
) AS [t0] ON [t].[Id] = [t0].[BooksId]
ORDER BY [t].[Id], [t].[Id0], [t0].[AuthorsId], [t0].[BooksId]
2022-07-10 12:42:09.8470|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [v].[Duration], [v].[QualityId], [q].[Id], [q].[Name]
FROM [Materials] AS [m]
INNER JOIN [Videos] AS [v] ON [m].[Id] = [v].[Id]
INNER JOIN [Qualities] AS [q] ON [v].[QualityId] = [q].[Id]
WHERE [m].[Id] = @__cm_MaterialId_0
2022-07-10 12:42:09.8470|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [a].[PublicationDate], [a].[ResourceId], [r].[Id], [r].[Name]
FROM [Materials] AS [m]
INNER JOIN [Articles] AS [a] ON [m].[Id] = [a].[Id]
INNER JOIN [Resources] AS [r] ON [a].[ResourceId] = [r].[Id]
WHERE [m].[Id] = @__cm_MaterialId_0
2022-07-10 12:42:09.8579|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Link], [t].[Name], [t].[ExtensionId], [t].[PagesCount], [t].[PublicationYear], [t].[Id0], [t0].[AuthorsId], [t0].[BooksId], [t0].[Id], [t0].[FullName], [t].[Name0]
FROM (
    SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [b].[ExtensionId], [b].[PagesCount], [b].[PublicationYear], [e].[Id] AS [Id0], [e].[Name] AS [Name0]
    FROM [Materials] AS [m]
    INNER JOIN [Books] AS [b] ON [m].[Id] = [b].[Id]
    INNER JOIN [Extensions] AS [e] ON [b].[ExtensionId] = [e].[Id]
    WHERE [m].[Id] = @__cm_MaterialId_0
) AS [t]
LEFT JOIN (
    SELECT [a].[AuthorsId], [a].[BooksId], [a0].[Id], [a0].[FullName]
    FROM [AuthorBook] AS [a]
    INNER JOIN [Authors] AS [a0] ON [a].[AuthorsId] = [a0].[Id]
) AS [t0] ON [t].[Id] = [t0].[BooksId]
ORDER BY [t].[Id], [t].[Id0], [t0].[AuthorsId], [t0].[BooksId]
2022-07-10 12:42:09.8579|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [v].[Duration], [v].[QualityId], [q].[Id], [q].[Name]
FROM [Materials] AS [m]
INNER JOIN [Videos] AS [v] ON [m].[Id] = [v].[Id]
INNER JOIN [Qualities] AS [q] ON [v].[QualityId] = [q].[Id]
WHERE [m].[Id] = @__cm_MaterialId_0
2022-07-10 12:42:09.8579|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [a].[PublicationDate], [a].[ResourceId], [r].[Id], [r].[Name]
FROM [Materials] AS [m]
INNER JOIN [Articles] AS [a] ON [m].[Id] = [a].[Id]
INNER JOIN [Resources] AS [r] ON [a].[ResourceId] = [r].[Id]
WHERE [m].[Id] = @__cm_MaterialId_0
2022-07-10 12:42:09.8579|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Link], [t].[Name], [t].[ExtensionId], [t].[PagesCount], [t].[PublicationYear], [t].[Id0], [t0].[AuthorsId], [t0].[BooksId], [t0].[Id], [t0].[FullName], [t].[Name0]
FROM (
    SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [b].[ExtensionId], [b].[PagesCount], [b].[PublicationYear], [e].[Id] AS [Id0], [e].[Name] AS [Name0]
    FROM [Materials] AS [m]
    INNER JOIN [Books] AS [b] ON [m].[Id] = [b].[Id]
    INNER JOIN [Extensions] AS [e] ON [b].[ExtensionId] = [e].[Id]
    WHERE [m].[Id] = @__cm_MaterialId_0
) AS [t]
LEFT JOIN (
    SELECT [a].[AuthorsId], [a].[BooksId], [a0].[Id], [a0].[FullName]
    FROM [AuthorBook] AS [a]
    INNER JOIN [Authors] AS [a0] ON [a].[AuthorsId] = [a0].[Id]
) AS [t0] ON [t].[Id] = [t0].[BooksId]
ORDER BY [t].[Id], [t].[Id0], [t0].[AuthorsId], [t0].[BooksId]
2022-07-10 12:42:09.8579|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [v].[Duration], [v].[QualityId], [q].[Id], [q].[Name]
FROM [Materials] AS [m]
INNER JOIN [Videos] AS [v] ON [m].[Id] = [v].[Id]
INNER JOIN [Qualities] AS [q] ON [v].[QualityId] = [q].[Id]
WHERE [m].[Id] = @__cm_MaterialId_0
2022-07-10 12:42:09.8579|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [a].[PublicationDate], [a].[ResourceId], [r].[Id], [r].[Name]
FROM [Materials] AS [m]
INNER JOIN [Articles] AS [a] ON [m].[Id] = [a].[Id]
INNER JOIN [Resources] AS [r] ON [a].[ResourceId] = [r].[Id]
WHERE [m].[Id] = @__cm_MaterialId_0
2022-07-10 12:42:09.8579|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Avatar], [t].[Balance], [t].[Email], [t].[Name], [t].[PasswordHash], [t].[Position], [t].[UserTokenId], [t0].[MaterialsId], [t0].[UsersId], [t0].[Id], [t0].[Link], [t0].[Name], [t0].[PublicationDate], [t0].[ResourceId], [t0].[ExtensionId], [t0].[PagesCount], [t0].[PublicationYear], [t0].[Duration], [t0].[QualityId], [t0].[Discriminator]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Balance], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[Position], [u].[UserTokenId]
    FROM [Users] AS [u]
    WHERE [u].[Email] = @__email_0
) AS [t]
LEFT JOIN (
    SELECT [m].[MaterialsId], [m].[UsersId], [t1].[Id], [t1].[Link], [t1].[Name], [t1].[PublicationDate], [t1].[ResourceId], [t1].[ExtensionId], [t1].[PagesCount], [t1].[PublicationYear], [t1].[Duration], [t1].[QualityId], [t1].[Discriminator]
    FROM [MaterialsBaseUser] AS [m]
    INNER JOIN (
        SELECT [m0].[Id], [m0].[Link], [m0].[Name], [a].[PublicationDate], [a].[ResourceId], [b].[ExtensionId], [b].[PagesCount], [b].[PublicationYear], [v].[Duration], [v].[QualityId], CASE
            WHEN [v].[Id] IS NOT NULL THEN N'Video'
            WHEN [b].[Id] IS NOT NULL THEN N'Book'
            WHEN [a].[Id] IS NOT NULL THEN N'Article'
        END AS [Discriminator]
        FROM [Materials] AS [m0]
        LEFT JOIN [Articles] AS [a] ON [m0].[Id] = [a].[Id]
        LEFT JOIN [Books] AS [b] ON [m0].[Id] = [b].[Id]
        LEFT JOIN [Videos] AS [v] ON [m0].[Id] = [v].[Id]
    ) AS [t1] ON [m].[MaterialsId] = [t1].[Id]
) AS [t0] ON [t].[Id] = [t0].[UsersId]
ORDER BY [t].[Id], [t0].[MaterialsId], [t0].[UsersId]
2022-07-10 12:42:10.0026|INFO|EducationalPortal.Infrastructure.Services.CoursesService|Returned course with id: 1.
2022-07-10 12:42:10.0026|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'EducationalPortal.Application.Models.DTO.Course.CourseDto'.
2022-07-10 12:42:10.0026|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.CoursesController.GetCourse (EducationalPortal.API) in 188.5888ms
2022-07-10 12:42:10.0125|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.CoursesController.GetCourse (EducationalPortal.API)'
2022-07-10 12:42:10.0125|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/courses/1 - - - 200 2603 application/json;+charset=utf-8 190.5821ms
2022-07-10 12:42:10.9377|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:7106/api/account/my-learning?pageSize=3&pageNumber=1 - -
2022-07-10 12:42:10.9377|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-07-10 12:42:10.9377|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:7106/api/account/my-learning?pageSize=3&pageNumber=1 - - - 204 - - 0.5871ms
2022-07-10 12:42:10.9377|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/account/my-learning?pageSize=3&pageNumber=1 - -
2022-07-10 12:42:10.9377|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-07-10 12:42:10.9377|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.AccountController.MyLearning (EducationalPortal.API)'
2022-07-10 12:42:10.9536|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "MyLearning", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EducationalPortal.Core.Entities.JoinEntities.UsersCourses]]] MyLearning(EducationalPortal.Application.Paging.PageParameters) on controller EducationalPortal.API.Controllers.AccountController (EducationalPortal.API).
2022-07-10 12:42:10.9536|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-07-10 12:42:11.0111|WARN|Microsoft.EntityFrameworkCore.Query|The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-07-10 12:42:11.0111|WARN|Microsoft.EntityFrameworkCore.Query|The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-07-10 12:42:11.0428|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (21ms) [Parameters=[@__email_0='?' (Size = 450), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[UserId], [t].[CourseId], [t].[LearnedMaterialsCount], [t].[MaterialsCount], [c].[Id], [c].[AuthorId], [c].[Description], [c].[Name], [c].[Price], [c].[ShortDescription], [c].[Thumbnail]
FROM (
    SELECT [u].[UserId], [u].[CourseId], [u].[LearnedMaterialsCount], [u].[MaterialsCount]
    FROM [UsersCourses] AS [u]
    INNER JOIN [Users] AS [u0] ON [u].[UserId] = [u0].[Id]
    WHERE [u0].[Email] = @__email_0
    ORDER BY (SELECT 1)
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t]
INNER JOIN [Courses] AS [c] ON [t].[CourseId] = [c].[Id]
2022-07-10 12:42:11.0609|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [UsersCourses] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[UserId] = [u0].[Id]
WHERE [u0].[Email] = @__email_0
2022-07-10 12:42:11.0609|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Avatar], [t].[Balance], [t].[Email], [t].[Name], [t].[PasswordHash], [t].[Position], [t].[UserTokenId], [t0].[MaterialsId], [t0].[UsersId], [t0].[Id], [t0].[Link], [t0].[Name], [t0].[PublicationDate], [t0].[ResourceId], [t0].[ExtensionId], [t0].[PagesCount], [t0].[PublicationYear], [t0].[Duration], [t0].[QualityId], [t0].[Discriminator]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Balance], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[Position], [u].[UserTokenId]
    FROM [Users] AS [u]
    WHERE [u].[Email] = @__email_0
) AS [t]
LEFT JOIN (
    SELECT [m].[MaterialsId], [m].[UsersId], [t1].[Id], [t1].[Link], [t1].[Name], [t1].[PublicationDate], [t1].[ResourceId], [t1].[ExtensionId], [t1].[PagesCount], [t1].[PublicationYear], [t1].[Duration], [t1].[QualityId], [t1].[Discriminator]
    FROM [MaterialsBaseUser] AS [m]
    INNER JOIN (
        SELECT [m0].[Id], [m0].[Link], [m0].[Name], [a].[PublicationDate], [a].[ResourceId], [b].[ExtensionId], [b].[PagesCount], [b].[PublicationYear], [v].[Duration], [v].[QualityId], CASE
            WHEN [v].[Id] IS NOT NULL THEN N'Video'
            WHEN [b].[Id] IS NOT NULL THEN N'Book'
            WHEN [a].[Id] IS NOT NULL THEN N'Article'
        END AS [Discriminator]
        FROM [Materials] AS [m0]
        LEFT JOIN [Articles] AS [a] ON [m0].[Id] = [a].[Id]
        LEFT JOIN [Books] AS [b] ON [m0].[Id] = [b].[Id]
        LEFT JOIN [Videos] AS [v] ON [m0].[Id] = [v].[Id]
    ) AS [t1] ON [m].[MaterialsId] = [t1].[Id]
) AS [t0] ON [t].[Id] = [t0].[UsersId]
ORDER BY [t].[Id], [t0].[MaterialsId], [t0].[UsersId]
2022-07-10 12:42:11.0991|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (8ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[CourseId], [c].[MaterialId], [c].[Index], [t].[Id], [t].[Link], [t].[Name], [t].[PublicationDate], [t].[ResourceId], [t].[ExtensionId], [t].[PagesCount], [t].[PublicationYear], [t].[Duration], [t].[QualityId], [t].[Discriminator]
FROM [CoursesMaterials] AS [c]
INNER JOIN (
    SELECT [m].[Id], [m].[Link], [m].[Name], [a].[PublicationDate], [a].[ResourceId], [b].[ExtensionId], [b].[PagesCount], [b].[PublicationYear], [v].[Duration], [v].[QualityId], CASE
        WHEN [v].[Id] IS NOT NULL THEN N'Video'
        WHEN [b].[Id] IS NOT NULL THEN N'Book'
        WHEN [a].[Id] IS NOT NULL THEN N'Article'
    END AS [Discriminator]
    FROM [Materials] AS [m]
    LEFT JOIN [Articles] AS [a] ON [m].[Id] = [a].[Id]
    LEFT JOIN [Books] AS [b] ON [m].[Id] = [b].[Id]
    LEFT JOIN [Videos] AS [v] ON [m].[Id] = [v].[Id]
) AS [t] ON [c].[MaterialId] = [t].[Id]
WHERE [c].[CourseId] = @__courseId_0
2022-07-10 12:42:11.1077|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [UsersCourses] SET [LearnedMaterialsCount] = @p0, [MaterialsCount] = @p1
WHERE [CourseId] = @p2 AND [UserId] = @p3;
SELECT @@ROWCOUNT;
2022-07-10 12:42:11.1077|INFO|EducationalPortal.Infrastructure.Services.AccountService|Returned users courses page 1 from database.
2022-07-10 12:42:11.1077|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'EducationalPortal.Application.Paging.PagedList`1[[EducationalPortal.Core.Entities.JoinEntities.UsersCourses, EducationalPortal.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-07-10 12:42:11.1327|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.AccountController.MyLearning (EducationalPortal.API) in 178.9459ms
2022-07-10 12:42:11.1327|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.AccountController.MyLearning (EducationalPortal.API)'
2022-07-10 12:42:11.1327|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/account/my-learning?pageSize=3&pageNumber=1 - - - 200 1790 application/json;+charset=utf-8 188.4087ms
2022-07-10 12:42:12.2033|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:7106/api/courses/learn/1 - -
2022-07-10 12:42:12.2033|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-07-10 12:42:12.2033|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:7106/api/courses/learn/1 - - - 204 - - 7.2470ms
2022-07-10 12:42:12.2033|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/courses/learn/1 - -
2022-07-10 12:42:12.2033|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-07-10 12:42:12.2033|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.CoursesController.GetCourseToLearn (EducationalPortal.API)'
2022-07-10 12:42:12.2180|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetCourseToLearn", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EducationalPortal.Application.Models.DTO.Course.CourseLearnDto]] GetCourseToLearn(Int32) on controller EducationalPortal.API.Controllers.CoursesController (EducationalPortal.API).
2022-07-10 12:42:12.2180|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-07-10 12:42:12.2337|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[AuthorId], [t].[Description], [t].[Name], [t].[Price], [t].[ShortDescription], [t].[Thumbnail], [t].[Id0], [t].[Avatar], [t].[Balance], [t].[Email], [t].[Name0], [t].[PasswordHash], [t].[Position], [t].[UserTokenId], [t0].[CourseId], [t0].[MaterialId], [t0].[Index], [t0].[Id], [t0].[Link], [t0].[Name], [t0].[PublicationDate], [t0].[ResourceId], [t0].[ExtensionId], [t0].[PagesCount], [t0].[PublicationYear], [t0].[Duration], [t0].[QualityId], [t0].[Discriminator], [t2].[CourseId], [t2].[SkillId], [t2].[Id], [t2].[Name]
FROM (
    SELECT TOP(1) [c].[Id], [c].[AuthorId], [c].[Description], [c].[Name], [c].[Price], [c].[ShortDescription], [c].[Thumbnail], [u].[Id] AS [Id0], [u].[Avatar], [u].[Balance], [u].[Email], [u].[Name] AS [Name0], [u].[PasswordHash], [u].[Position], [u].[UserTokenId]
    FROM [Courses] AS [c]
    LEFT JOIN [Users] AS [u] ON [c].[AuthorId] = [u].[Id]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [c0].[CourseId], [c0].[MaterialId], [c0].[Index], [t1].[Id], [t1].[Link], [t1].[Name], [t1].[PublicationDate], [t1].[ResourceId], [t1].[ExtensionId], [t1].[PagesCount], [t1].[PublicationYear], [t1].[Duration], [t1].[QualityId], [t1].[Discriminator]
    FROM [CoursesMaterials] AS [c0]
    INNER JOIN (
        SELECT [m].[Id], [m].[Link], [m].[Name], [a].[PublicationDate], [a].[ResourceId], [b].[ExtensionId], [b].[PagesCount], [b].[PublicationYear], [v].[Duration], [v].[QualityId], CASE
            WHEN [v].[Id] IS NOT NULL THEN N'Video'
            WHEN [b].[Id] IS NOT NULL THEN N'Book'
            WHEN [a].[Id] IS NOT NULL THEN N'Article'
        END AS [Discriminator]
        FROM [Materials] AS [m]
        LEFT JOIN [Articles] AS [a] ON [m].[Id] = [a].[Id]
        LEFT JOIN [Books] AS [b] ON [m].[Id] = [b].[Id]
        LEFT JOIN [Videos] AS [v] ON [m].[Id] = [v].[Id]
    ) AS [t1] ON [c0].[MaterialId] = [t1].[Id]
) AS [t0] ON [t].[Id] = [t0].[CourseId]
LEFT JOIN (
    SELECT [c1].[CourseId], [c1].[SkillId], [s].[Id], [s].[Name]
    FROM [CoursesSkills] AS [c1]
    INNER JOIN [Skills] AS [s] ON [c1].[SkillId] = [s].[Id]
) AS [t2] ON [t].[Id] = [t2].[CourseId]
ORDER BY [t].[Id], [t].[Id0], [t0].[CourseId], [t0].[MaterialId], [t0].[Id], [t2].[CourseId], [t2].[SkillId]
2022-07-10 12:42:12.2337|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Link], [t].[Name], [t].[ExtensionId], [t].[PagesCount], [t].[PublicationYear], [t].[Id0], [t0].[AuthorsId], [t0].[BooksId], [t0].[Id], [t0].[FullName], [t].[Name0]
FROM (
    SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [b].[ExtensionId], [b].[PagesCount], [b].[PublicationYear], [e].[Id] AS [Id0], [e].[Name] AS [Name0]
    FROM [Materials] AS [m]
    INNER JOIN [Books] AS [b] ON [m].[Id] = [b].[Id]
    INNER JOIN [Extensions] AS [e] ON [b].[ExtensionId] = [e].[Id]
    WHERE [m].[Id] = @__cm_MaterialId_0
) AS [t]
LEFT JOIN (
    SELECT [a].[AuthorsId], [a].[BooksId], [a0].[Id], [a0].[FullName]
    FROM [AuthorBook] AS [a]
    INNER JOIN [Authors] AS [a0] ON [a].[AuthorsId] = [a0].[Id]
) AS [t0] ON [t].[Id] = [t0].[BooksId]
ORDER BY [t].[Id], [t].[Id0], [t0].[AuthorsId], [t0].[BooksId]
2022-07-10 12:42:12.2527|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [v].[Duration], [v].[QualityId], [q].[Id], [q].[Name]
FROM [Materials] AS [m]
INNER JOIN [Videos] AS [v] ON [m].[Id] = [v].[Id]
INNER JOIN [Qualities] AS [q] ON [v].[QualityId] = [q].[Id]
WHERE [m].[Id] = @__cm_MaterialId_0
2022-07-10 12:42:12.2527|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [a].[PublicationDate], [a].[ResourceId], [r].[Id], [r].[Name]
FROM [Materials] AS [m]
INNER JOIN [Articles] AS [a] ON [m].[Id] = [a].[Id]
INNER JOIN [Resources] AS [r] ON [a].[ResourceId] = [r].[Id]
WHERE [m].[Id] = @__cm_MaterialId_0
2022-07-10 12:42:12.2527|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Link], [t].[Name], [t].[ExtensionId], [t].[PagesCount], [t].[PublicationYear], [t].[Id0], [t0].[AuthorsId], [t0].[BooksId], [t0].[Id], [t0].[FullName], [t].[Name0]
FROM (
    SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [b].[ExtensionId], [b].[PagesCount], [b].[PublicationYear], [e].[Id] AS [Id0], [e].[Name] AS [Name0]
    FROM [Materials] AS [m]
    INNER JOIN [Books] AS [b] ON [m].[Id] = [b].[Id]
    INNER JOIN [Extensions] AS [e] ON [b].[ExtensionId] = [e].[Id]
    WHERE [m].[Id] = @__cm_MaterialId_0
) AS [t]
LEFT JOIN (
    SELECT [a].[AuthorsId], [a].[BooksId], [a0].[Id], [a0].[FullName]
    FROM [AuthorBook] AS [a]
    INNER JOIN [Authors] AS [a0] ON [a].[AuthorsId] = [a0].[Id]
) AS [t0] ON [t].[Id] = [t0].[BooksId]
ORDER BY [t].[Id], [t].[Id0], [t0].[AuthorsId], [t0].[BooksId]
2022-07-10 12:42:12.2672|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [v].[Duration], [v].[QualityId], [q].[Id], [q].[Name]
FROM [Materials] AS [m]
INNER JOIN [Videos] AS [v] ON [m].[Id] = [v].[Id]
INNER JOIN [Qualities] AS [q] ON [v].[QualityId] = [q].[Id]
WHERE [m].[Id] = @__cm_MaterialId_0
2022-07-10 12:42:12.2672|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [a].[PublicationDate], [a].[ResourceId], [r].[Id], [r].[Name]
FROM [Materials] AS [m]
INNER JOIN [Articles] AS [a] ON [m].[Id] = [a].[Id]
INNER JOIN [Resources] AS [r] ON [a].[ResourceId] = [r].[Id]
WHERE [m].[Id] = @__cm_MaterialId_0
2022-07-10 12:42:12.2672|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Link], [t].[Name], [t].[ExtensionId], [t].[PagesCount], [t].[PublicationYear], [t].[Id0], [t0].[AuthorsId], [t0].[BooksId], [t0].[Id], [t0].[FullName], [t].[Name0]
FROM (
    SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [b].[ExtensionId], [b].[PagesCount], [b].[PublicationYear], [e].[Id] AS [Id0], [e].[Name] AS [Name0]
    FROM [Materials] AS [m]
    INNER JOIN [Books] AS [b] ON [m].[Id] = [b].[Id]
    INNER JOIN [Extensions] AS [e] ON [b].[ExtensionId] = [e].[Id]
    WHERE [m].[Id] = @__cm_MaterialId_0
) AS [t]
LEFT JOIN (
    SELECT [a].[AuthorsId], [a].[BooksId], [a0].[Id], [a0].[FullName]
    FROM [AuthorBook] AS [a]
    INNER JOIN [Authors] AS [a0] ON [a].[AuthorsId] = [a0].[Id]
) AS [t0] ON [t].[Id] = [t0].[BooksId]
ORDER BY [t].[Id], [t].[Id0], [t0].[AuthorsId], [t0].[BooksId]
2022-07-10 12:42:12.2672|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [v].[Duration], [v].[QualityId], [q].[Id], [q].[Name]
FROM [Materials] AS [m]
INNER JOIN [Videos] AS [v] ON [m].[Id] = [v].[Id]
INNER JOIN [Qualities] AS [q] ON [v].[QualityId] = [q].[Id]
WHERE [m].[Id] = @__cm_MaterialId_0
2022-07-10 12:42:12.2672|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [a].[PublicationDate], [a].[ResourceId], [r].[Id], [r].[Name]
FROM [Materials] AS [m]
INNER JOIN [Articles] AS [a] ON [m].[Id] = [a].[Id]
INNER JOIN [Resources] AS [r] ON [a].[ResourceId] = [r].[Id]
WHERE [m].[Id] = @__cm_MaterialId_0
2022-07-10 12:42:12.2798|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Avatar], [t].[Balance], [t].[Email], [t].[Name], [t].[PasswordHash], [t].[Position], [t].[UserTokenId], [t0].[MaterialsId], [t0].[UsersId], [t0].[Id], [t0].[Link], [t0].[Name], [t0].[PublicationDate], [t0].[ResourceId], [t0].[ExtensionId], [t0].[PagesCount], [t0].[PublicationYear], [t0].[Duration], [t0].[QualityId], [t0].[Discriminator]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Balance], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[Position], [u].[UserTokenId]
    FROM [Users] AS [u]
    WHERE [u].[Email] = @__email_0
) AS [t]
LEFT JOIN (
    SELECT [m].[MaterialsId], [m].[UsersId], [t1].[Id], [t1].[Link], [t1].[Name], [t1].[PublicationDate], [t1].[ResourceId], [t1].[ExtensionId], [t1].[PagesCount], [t1].[PublicationYear], [t1].[Duration], [t1].[QualityId], [t1].[Discriminator]
    FROM [MaterialsBaseUser] AS [m]
    INNER JOIN (
        SELECT [m0].[Id], [m0].[Link], [m0].[Name], [a].[PublicationDate], [a].[ResourceId], [b].[ExtensionId], [b].[PagesCount], [b].[PublicationYear], [v].[Duration], [v].[QualityId], CASE
            WHEN [v].[Id] IS NOT NULL THEN N'Video'
            WHEN [b].[Id] IS NOT NULL THEN N'Book'
            WHEN [a].[Id] IS NOT NULL THEN N'Article'
        END AS [Discriminator]
        FROM [Materials] AS [m0]
        LEFT JOIN [Articles] AS [a] ON [m0].[Id] = [a].[Id]
        LEFT JOIN [Books] AS [b] ON [m0].[Id] = [b].[Id]
        LEFT JOIN [Videos] AS [v] ON [m0].[Id] = [v].[Id]
    ) AS [t1] ON [m].[MaterialsId] = [t1].[Id]
) AS [t0] ON [t].[Id] = [t0].[UsersId]
ORDER BY [t].[Id], [t0].[MaterialsId], [t0].[UsersId]
2022-07-10 12:42:12.3076|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[@__courseId_0='?' (DbType = Int32), @__email_1='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[CourseId], [u].[LearnedMaterialsCount], [u].[MaterialsCount]
FROM [UsersCourses] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[UserId] = [u0].[Id]
WHERE ([u].[CourseId] = @__courseId_0) AND ([u0].[Email] = @__email_1)
2022-07-10 12:42:12.3076|INFO|EducationalPortal.Infrastructure.Services.CoursesService|Returned course learn with id: 1.
2022-07-10 12:42:12.3076|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'EducationalPortal.Application.Models.DTO.Course.CourseLearnDto'.
2022-07-10 12:42:12.3117|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.CoursesController.GetCourseToLearn (EducationalPortal.API) in 93.5348ms
2022-07-10 12:42:12.3117|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.CoursesController.GetCourseToLearn (EducationalPortal.API)'
2022-07-10 12:42:12.3117|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/courses/learn/1 - - - 200 853 application/json;+charset=utf-8 99.0711ms
2022-07-10 12:42:17.0614|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:7106/api/courses/learned?materialId=1&courseId=1 - -
2022-07-10 12:42:17.0614|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-07-10 12:42:17.0614|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:7106/api/courses/learned?materialId=1&courseId=1 - - - 204 - - 1.3652ms
2022-07-10 12:42:17.0614|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 PUT https://localhost:7106/api/courses/learned?materialId=1&courseId=1 application/json 34
2022-07-10 12:42:17.0614|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-07-10 12:42:17.0614|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.CoursesController.Learned (EducationalPortal.API)'
2022-07-10 12:42:17.0800|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Learned", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] Learned(Int32, Int32) on controller EducationalPortal.API.Controllers.CoursesController (EducationalPortal.API).
2022-07-10 12:42:17.0800|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-07-10 12:42:17.1576|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (14ms) [Parameters=[@__courseId_0='?' (DbType = Int32), @__email_1='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[CourseId], [u].[LearnedMaterialsCount], [u].[MaterialsCount]
FROM [UsersCourses] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[UserId] = [u0].[Id]
WHERE ([u].[CourseId] = @__courseId_0) AND ([u0].[Email] = @__email_1)
2022-07-10 12:42:17.1576|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [UsersCourses] SET [LearnedMaterialsCount] = @p0, [MaterialsCount] = @p1
WHERE [CourseId] = @p2 AND [UserId] = @p3;
SELECT @@ROWCOUNT;
2022-07-10 12:42:17.1576|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Avatar], [t].[Balance], [t].[Email], [t].[Name], [t].[PasswordHash], [t].[Position], [t].[UserTokenId], [t0].[MaterialsId], [t0].[UsersId], [t0].[Id], [t0].[Link], [t0].[Name], [t0].[PublicationDate], [t0].[ResourceId], [t0].[ExtensionId], [t0].[PagesCount], [t0].[PublicationYear], [t0].[Duration], [t0].[QualityId], [t0].[Discriminator]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Balance], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[Position], [u].[UserTokenId]
    FROM [Users] AS [u]
    WHERE [u].[Email] = @__email_0
) AS [t]
LEFT JOIN (
    SELECT [m].[MaterialsId], [m].[UsersId], [t1].[Id], [t1].[Link], [t1].[Name], [t1].[PublicationDate], [t1].[ResourceId], [t1].[ExtensionId], [t1].[PagesCount], [t1].[PublicationYear], [t1].[Duration], [t1].[QualityId], [t1].[Discriminator]
    FROM [MaterialsBaseUser] AS [m]
    INNER JOIN (
        SELECT [m0].[Id], [m0].[Link], [m0].[Name], [a].[PublicationDate], [a].[ResourceId], [b].[ExtensionId], [b].[PagesCount], [b].[PublicationYear], [v].[Duration], [v].[QualityId], CASE
            WHEN [v].[Id] IS NOT NULL THEN N'Video'
            WHEN [b].[Id] IS NOT NULL THEN N'Book'
            WHEN [a].[Id] IS NOT NULL THEN N'Article'
        END AS [Discriminator]
        FROM [Materials] AS [m0]
        LEFT JOIN [Articles] AS [a] ON [m0].[Id] = [a].[Id]
        LEFT JOIN [Books] AS [b] ON [m0].[Id] = [b].[Id]
        LEFT JOIN [Videos] AS [v] ON [m0].[Id] = [v].[Id]
    ) AS [t1] ON [m].[MaterialsId] = [t1].[Id]
) AS [t0] ON [t].[Id] = [t0].[UsersId]
ORDER BY [t].[Id], [t0].[MaterialsId], [t0].[UsersId]
2022-07-10 12:42:17.2038|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [a].[PublicationDate], [a].[ResourceId], [b].[ExtensionId], [b].[PagesCount], [b].[PublicationYear], [v].[Duration], [v].[QualityId], CASE
    WHEN [v].[Id] IS NOT NULL THEN N'Video'
    WHEN [b].[Id] IS NOT NULL THEN N'Book'
    WHEN [a].[Id] IS NOT NULL THEN N'Article'
END AS [Discriminator]
FROM [Materials] AS [m]
LEFT JOIN [Articles] AS [a] ON [m].[Id] = [a].[Id]
LEFT JOIN [Books] AS [b] ON [m].[Id] = [b].[Id]
LEFT JOIN [Videos] AS [v] ON [m].[Id] = [v].[Id]
WHERE [m].[Id] = @__id_0
2022-07-10 12:42:17.2308|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [MaterialsBaseUser] ([MaterialsId], [UsersId])
VALUES (@p0, @p1);
2022-07-10 12:42:17.2382|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (7ms) [Parameters=[@p7='?' (Size = 450), @p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (Size = 450), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Users] SET [Avatar] = @p0, [Balance] = @p1, [Email] = @p2, [Name] = @p3, [PasswordHash] = @p4, [Position] = @p5, [UserTokenId] = @p6
WHERE [Id] = @p7;
SELECT @@ROWCOUNT;
2022-07-10 12:42:17.2382|INFO|EducationalPortal.Infrastructure.Services.CoursesService|Material with id: 1 added to user with email: default@gmail.com. Material learned.
2022-07-10 12:42:17.2382|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'System.Int32'.
2022-07-10 12:42:17.2382|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.CoursesController.Learned (EducationalPortal.API) in 160.1932ms
2022-07-10 12:42:17.2382|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.CoursesController.Learned (EducationalPortal.API)'
2022-07-10 12:42:17.2382|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 PUT https://localhost:7106/api/courses/learned?materialId=1&courseId=1 application/json 34 - 200 2 application/json;+charset=utf-8 168.3190ms
2022-07-10 12:42:18.0844|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:7106/api/courses/learned?materialId=2&courseId=1 - -
2022-07-10 12:42:18.0933|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-07-10 12:42:18.0933|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:7106/api/courses/learned?materialId=2&courseId=1 - - - 204 - - 11.5763ms
2022-07-10 12:42:18.1086|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 PUT https://localhost:7106/api/courses/learned?materialId=2&courseId=1 application/json 34
2022-07-10 12:42:18.1086|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-07-10 12:42:18.1086|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.CoursesController.Learned (EducationalPortal.API)'
2022-07-10 12:42:18.1086|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Learned", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] Learned(Int32, Int32) on controller EducationalPortal.API.Controllers.CoursesController (EducationalPortal.API).
2022-07-10 12:42:18.1086|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-07-10 12:42:18.1458|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (19ms) [Parameters=[@__courseId_0='?' (DbType = Int32), @__email_1='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[CourseId], [u].[LearnedMaterialsCount], [u].[MaterialsCount]
FROM [UsersCourses] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[UserId] = [u0].[Id]
WHERE ([u].[CourseId] = @__courseId_0) AND ([u0].[Email] = @__email_1)
2022-07-10 12:42:18.1607|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (12ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [UsersCourses] SET [LearnedMaterialsCount] = @p0, [MaterialsCount] = @p1
WHERE [CourseId] = @p2 AND [UserId] = @p3;
SELECT @@ROWCOUNT;
2022-07-10 12:42:18.2653|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (103ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Avatar], [t].[Balance], [t].[Email], [t].[Name], [t].[PasswordHash], [t].[Position], [t].[UserTokenId], [t0].[MaterialsId], [t0].[UsersId], [t0].[Id], [t0].[Link], [t0].[Name], [t0].[PublicationDate], [t0].[ResourceId], [t0].[ExtensionId], [t0].[PagesCount], [t0].[PublicationYear], [t0].[Duration], [t0].[QualityId], [t0].[Discriminator]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Balance], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[Position], [u].[UserTokenId]
    FROM [Users] AS [u]
    WHERE [u].[Email] = @__email_0
) AS [t]
LEFT JOIN (
    SELECT [m].[MaterialsId], [m].[UsersId], [t1].[Id], [t1].[Link], [t1].[Name], [t1].[PublicationDate], [t1].[ResourceId], [t1].[ExtensionId], [t1].[PagesCount], [t1].[PublicationYear], [t1].[Duration], [t1].[QualityId], [t1].[Discriminator]
    FROM [MaterialsBaseUser] AS [m]
    INNER JOIN (
        SELECT [m0].[Id], [m0].[Link], [m0].[Name], [a].[PublicationDate], [a].[ResourceId], [b].[ExtensionId], [b].[PagesCount], [b].[PublicationYear], [v].[Duration], [v].[QualityId], CASE
            WHEN [v].[Id] IS NOT NULL THEN N'Video'
            WHEN [b].[Id] IS NOT NULL THEN N'Book'
            WHEN [a].[Id] IS NOT NULL THEN N'Article'
        END AS [Discriminator]
        FROM [Materials] AS [m0]
        LEFT JOIN [Articles] AS [a] ON [m0].[Id] = [a].[Id]
        LEFT JOIN [Books] AS [b] ON [m0].[Id] = [b].[Id]
        LEFT JOIN [Videos] AS [v] ON [m0].[Id] = [v].[Id]
    ) AS [t1] ON [m].[MaterialsId] = [t1].[Id]
) AS [t0] ON [t].[Id] = [t0].[UsersId]
ORDER BY [t].[Id], [t0].[MaterialsId], [t0].[UsersId]
2022-07-10 12:42:18.2815|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [a].[PublicationDate], [a].[ResourceId], [b].[ExtensionId], [b].[PagesCount], [b].[PublicationYear], [v].[Duration], [v].[QualityId], CASE
    WHEN [v].[Id] IS NOT NULL THEN N'Video'
    WHEN [b].[Id] IS NOT NULL THEN N'Book'
    WHEN [a].[Id] IS NOT NULL THEN N'Article'
END AS [Discriminator]
FROM [Materials] AS [m]
LEFT JOIN [Articles] AS [a] ON [m].[Id] = [a].[Id]
LEFT JOIN [Books] AS [b] ON [m].[Id] = [b].[Id]
LEFT JOIN [Videos] AS [v] ON [m].[Id] = [v].[Id]
WHERE [m].[Id] = @__id_0
2022-07-10 12:42:18.3096|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [MaterialsBaseUser] ([MaterialsId], [UsersId])
VALUES (@p0, @p1);
2022-07-10 12:42:18.3096|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p7='?' (Size = 450), @p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (Size = 450), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Users] SET [Avatar] = @p0, [Balance] = @p1, [Email] = @p2, [Name] = @p3, [PasswordHash] = @p4, [Position] = @p5, [UserTokenId] = @p6
WHERE [Id] = @p7;
SELECT @@ROWCOUNT;
2022-07-10 12:42:18.3096|INFO|EducationalPortal.Infrastructure.Services.CoursesService|Material with id: 2 added to user with email: default@gmail.com. Material learned.
2022-07-10 12:42:18.3096|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'System.Int32'.
2022-07-10 12:42:18.3096|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.CoursesController.Learned (EducationalPortal.API) in 203.3627ms
2022-07-10 12:42:18.3096|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.CoursesController.Learned (EducationalPortal.API)'
2022-07-10 12:42:18.3096|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 PUT https://localhost:7106/api/courses/learned?materialId=2&courseId=1 application/json 34 - 200 2 application/json;+charset=utf-8 204.6740ms
2022-07-10 12:42:18.8981|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:7106/api/courses/learned?materialId=3&courseId=1 - -
2022-07-10 12:42:18.8981|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-07-10 12:42:18.8981|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:7106/api/courses/learned?materialId=3&courseId=1 - - - 204 - - 0.5783ms
2022-07-10 12:42:18.8981|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 PUT https://localhost:7106/api/courses/learned?materialId=3&courseId=1 application/json 34
2022-07-10 12:42:18.8981|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-07-10 12:42:18.9037|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.CoursesController.Learned (EducationalPortal.API)'
2022-07-10 12:42:18.9037|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Learned", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] Learned(Int32, Int32) on controller EducationalPortal.API.Controllers.CoursesController (EducationalPortal.API).
2022-07-10 12:42:18.9037|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-07-10 12:42:18.9614|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (23ms) [Parameters=[@__courseId_0='?' (DbType = Int32), @__email_1='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[CourseId], [u].[LearnedMaterialsCount], [u].[MaterialsCount]
FROM [UsersCourses] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[UserId] = [u0].[Id]
WHERE ([u].[CourseId] = @__courseId_0) AND ([u0].[Email] = @__email_1)
2022-07-10 12:42:18.9667|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [UsersCourses] SET [LearnedMaterialsCount] = @p0, [MaterialsCount] = @p1
WHERE [CourseId] = @p2 AND [UserId] = @p3;
SELECT @@ROWCOUNT;
2022-07-10 12:42:18.9825|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (14ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Avatar], [t].[Balance], [t].[Email], [t].[Name], [t].[PasswordHash], [t].[Position], [t].[UserTokenId], [t0].[MaterialsId], [t0].[UsersId], [t0].[Id], [t0].[Link], [t0].[Name], [t0].[PublicationDate], [t0].[ResourceId], [t0].[ExtensionId], [t0].[PagesCount], [t0].[PublicationYear], [t0].[Duration], [t0].[QualityId], [t0].[Discriminator]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Balance], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[Position], [u].[UserTokenId]
    FROM [Users] AS [u]
    WHERE [u].[Email] = @__email_0
) AS [t]
LEFT JOIN (
    SELECT [m].[MaterialsId], [m].[UsersId], [t1].[Id], [t1].[Link], [t1].[Name], [t1].[PublicationDate], [t1].[ResourceId], [t1].[ExtensionId], [t1].[PagesCount], [t1].[PublicationYear], [t1].[Duration], [t1].[QualityId], [t1].[Discriminator]
    FROM [MaterialsBaseUser] AS [m]
    INNER JOIN (
        SELECT [m0].[Id], [m0].[Link], [m0].[Name], [a].[PublicationDate], [a].[ResourceId], [b].[ExtensionId], [b].[PagesCount], [b].[PublicationYear], [v].[Duration], [v].[QualityId], CASE
            WHEN [v].[Id] IS NOT NULL THEN N'Video'
            WHEN [b].[Id] IS NOT NULL THEN N'Book'
            WHEN [a].[Id] IS NOT NULL THEN N'Article'
        END AS [Discriminator]
        FROM [Materials] AS [m0]
        LEFT JOIN [Articles] AS [a] ON [m0].[Id] = [a].[Id]
        LEFT JOIN [Books] AS [b] ON [m0].[Id] = [b].[Id]
        LEFT JOIN [Videos] AS [v] ON [m0].[Id] = [v].[Id]
    ) AS [t1] ON [m].[MaterialsId] = [t1].[Id]
) AS [t0] ON [t].[Id] = [t0].[UsersId]
ORDER BY [t].[Id], [t0].[MaterialsId], [t0].[UsersId]
2022-07-10 12:42:19.0070|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (23ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [a].[PublicationDate], [a].[ResourceId], [b].[ExtensionId], [b].[PagesCount], [b].[PublicationYear], [v].[Duration], [v].[QualityId], CASE
    WHEN [v].[Id] IS NOT NULL THEN N'Video'
    WHEN [b].[Id] IS NOT NULL THEN N'Book'
    WHEN [a].[Id] IS NOT NULL THEN N'Article'
END AS [Discriminator]
FROM [Materials] AS [m]
LEFT JOIN [Articles] AS [a] ON [m].[Id] = [a].[Id]
LEFT JOIN [Books] AS [b] ON [m].[Id] = [b].[Id]
LEFT JOIN [Videos] AS [v] ON [m].[Id] = [v].[Id]
WHERE [m].[Id] = @__id_0
2022-07-10 12:42:19.0070|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [MaterialsBaseUser] ([MaterialsId], [UsersId])
VALUES (@p0, @p1);
2022-07-10 12:42:19.0131|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p7='?' (Size = 450), @p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (Size = 450), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Users] SET [Avatar] = @p0, [Balance] = @p1, [Email] = @p2, [Name] = @p3, [PasswordHash] = @p4, [Position] = @p5, [UserTokenId] = @p6
WHERE [Id] = @p7;
SELECT @@ROWCOUNT;
2022-07-10 12:42:19.0131|INFO|EducationalPortal.Infrastructure.Services.CoursesService|Material with id: 3 added to user with email: default@gmail.com. Material learned.
2022-07-10 12:42:19.0595|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (8ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[AuthorId], [t].[Description], [t].[Name], [t].[Price], [t].[ShortDescription], [t].[Thumbnail], [t0].[CourseId], [t0].[SkillId], [t0].[Id], [t0].[Name]
FROM (
    SELECT TOP(1) [c].[Id], [c].[AuthorId], [c].[Description], [c].[Name], [c].[Price], [c].[ShortDescription], [c].[Thumbnail]
    FROM [Courses] AS [c]
    WHERE [c].[Id] = @__courseId_0
) AS [t]
LEFT JOIN (
    SELECT [c0].[CourseId], [c0].[SkillId], [s].[Id], [s].[Name]
    FROM [CoursesSkills] AS [c0]
    INNER JOIN [Skills] AS [s] ON [c0].[SkillId] = [s].[Id]
) AS [t0] ON [t].[Id] = [t0].[CourseId]
ORDER BY [t].[Id], [t0].[CourseId], [t0].[SkillId]
2022-07-10 12:42:19.1123|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (17ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Avatar], [t].[Balance], [t].[Email], [t].[Name], [t].[PasswordHash], [t].[Position], [t].[UserTokenId], [t0].[UserId], [t0].[SkillId], [t0].[Level], [t0].[Id], [t0].[Name]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Balance], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[Position], [u].[UserTokenId]
    FROM [Users] AS [u]
    WHERE [u].[Email] = @__email_0
) AS [t]
LEFT JOIN (
    SELECT [u0].[UserId], [u0].[SkillId], [u0].[Level], [s].[Id], [s].[Name]
    FROM [UsersSkills] AS [u0]
    INNER JOIN [Skills] AS [s] ON [u0].[SkillId] = [s].[Id]
) AS [t0] ON [t].[Id] = [t0].[UserId]
ORDER BY [t].[Id], [t0].[UserId], [t0].[SkillId]
2022-07-10 12:42:19.1428|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (18ms) [Parameters=[@p7='?' (Size = 450), @p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (Size = 450), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (Size = 450), @p8='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (Size = 450), @p11='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (Size = 450), @p14='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Users] SET [Avatar] = @p0, [Balance] = @p1, [Email] = @p2, [Name] = @p3, [PasswordHash] = @p4, [Position] = @p5, [UserTokenId] = @p6
WHERE [Id] = @p7;
SELECT @@ROWCOUNT;

UPDATE [UsersSkills] SET [Level] = @p8
WHERE [SkillId] = @p9 AND [UserId] = @p10;
SELECT @@ROWCOUNT;

UPDATE [UsersSkills] SET [Level] = @p11
WHERE [SkillId] = @p12 AND [UserId] = @p13;
SELECT @@ROWCOUNT;

UPDATE [UsersSkills] SET [Level] = @p14
WHERE [SkillId] = @p15 AND [UserId] = @p16;
SELECT @@ROWCOUNT;
2022-07-10 12:42:19.1792|INFO|EducationalPortal.Infrastructure.Services.CoursesService|Added skills of course with id: 1 to user with email: default@gmail.com. Course learned.
2022-07-10 12:42:19.1792|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'System.Int32'.
2022-07-10 12:42:19.1792|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.CoursesController.Learned (EducationalPortal.API) in 275.8134ms
2022-07-10 12:42:19.1792|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.CoursesController.Learned (EducationalPortal.API)'
2022-07-10 12:42:19.1792|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 PUT https://localhost:7106/api/courses/learned?materialId=3&courseId=1 application/json 34 - 200 3 application/json;+charset=utf-8 278.4229ms
2022-07-10 12:44:20.9962|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:7106/api/account - -
2022-07-10 12:44:20.9990|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-07-10 12:44:20.9990|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:7106/api/account - - - 204 - - 3.2012ms
2022-07-10 12:44:21.0132|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/account - -
2022-07-10 12:44:21.0132|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-07-10 12:44:21.0132|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.AccountController.Profile (EducationalPortal.API)'
2022-07-10 12:44:21.0132|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Profile", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EducationalPortal.Application.Models.DTO.UserDto]] Profile() on controller EducationalPortal.API.Controllers.AccountController (EducationalPortal.API).
2022-07-10 12:44:21.0132|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-07-10 12:44:21.0670|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Avatar], [t].[Balance], [t].[Email], [t].[Name], [t].[PasswordHash], [t].[Position], [t].[UserTokenId], [c].[Id], [c].[AuthorId], [c].[Description], [c].[Name], [c].[Price], [c].[ShortDescription], [c].[Thumbnail], [t0].[UserId], [t0].[SkillId], [t0].[Level], [t0].[Id], [t0].[Name], [t1].[RolesId], [t1].[UsersId], [t1].[Id], [t1].[Name]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Balance], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[Position], [u].[UserTokenId]
    FROM [Users] AS [u]
    WHERE [u].[Email] = @__email_0
) AS [t]
LEFT JOIN [Courses] AS [c] ON [t].[Id] = [c].[AuthorId]
LEFT JOIN (
    SELECT [u0].[UserId], [u0].[SkillId], [u0].[Level], [s].[Id], [s].[Name]
    FROM [UsersSkills] AS [u0]
    INNER JOIN [Skills] AS [s] ON [u0].[SkillId] = [s].[Id]
) AS [t0] ON [t].[Id] = [t0].[UserId]
LEFT JOIN (
    SELECT [r].[RolesId], [r].[UsersId], [r0].[Id], [r0].[Name]
    FROM [RoleUser] AS [r]
    INNER JOIN [Roles] AS [r0] ON [r].[RolesId] = [r0].[Id]
) AS [t1] ON [t].[Id] = [t1].[UsersId]
ORDER BY [t].[Id], [c].[Id], [t0].[UserId], [t0].[SkillId], [t0].[Id], [t1].[RolesId], [t1].[UsersId]
2022-07-10 12:44:21.0849|INFO|EducationalPortal.Infrastructure.Services.AccountService|Returned user with email: default@gmail.com.
2022-07-10 12:44:21.0849|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'EducationalPortal.Application.Models.DTO.UserDto'.
2022-07-10 12:44:21.0849|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.AccountController.Profile (EducationalPortal.API) in 72.1977ms
2022-07-10 12:44:21.0849|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.AccountController.Profile (EducationalPortal.API)'
2022-07-10 12:44:21.0959|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/account - - - 200 1236 application/json;+charset=utf-8 82.6659ms
2022-07-10 12:44:23.0187|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:7106/api/token/refresh - -
2022-07-10 12:44:23.0187|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-07-10 12:44:23.0345|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:7106/api/token/refresh - - - 204 - - 12.3727ms
2022-07-10 12:44:23.0345|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:7106/api/token/refresh application/json 595
2022-07-10 12:44:23.0345|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-07-10 12:44:23.0345|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:7106/api/token/refresh application/json 595 - 404 0 - 2.4875ms
2022-07-10 12:44:31.1257|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:7106/api/account/login - -
2022-07-10 12:44:31.1257|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-07-10 12:44:31.1257|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:7106/api/account/login - - - 204 - - 3.1126ms
2022-07-10 12:44:31.1257|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:7106/api/account/login application/json 91
2022-07-10 12:44:31.1257|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-07-10 12:44:31.1257|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.AccountController.Login (EducationalPortal.API)'
2022-07-10 12:44:31.1257|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EducationalPortal.Application.Models.TokensModel]] Login(EducationalPortal.Application.Models.LoginModel) on controller EducationalPortal.API.Controllers.AccountController (EducationalPortal.API).
2022-07-10 12:44:31.1257|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-07-10 12:44:31.1524|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Avatar], [t].[Balance], [t].[Email], [t].[Name], [t].[PasswordHash], [t].[Position], [t].[UserTokenId], [t].[Id0], [t].[RefreshToken], [t].[RefreshTokenExpiryTime], [t0].[RolesId], [t0].[UsersId], [t0].[Id], [t0].[Name]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Balance], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[Position], [u].[UserTokenId], [u0].[Id] AS [Id0], [u0].[RefreshToken], [u0].[RefreshTokenExpiryTime]
    FROM [Users] AS [u]
    LEFT JOIN [UserToken] AS [u0] ON [u].[UserTokenId] = [u0].[Id]
    WHERE [u].[Email] = @__email_0
) AS [t]
LEFT JOIN (
    SELECT [r].[RolesId], [r].[UsersId], [r0].[Id], [r0].[Name]
    FROM [RoleUser] AS [r]
    INNER JOIN [Roles] AS [r0] ON [r].[RolesId] = [r0].[Id]
) AS [t0] ON [t].[Id] = [t0].[UsersId]
ORDER BY [t].[Id], [t].[Id0], [t0].[RolesId], [t0].[UsersId]
2022-07-10 12:44:31.1556|INFO|EducationalPortal.Infrastructure.Services.Identity.PasswordHasher|Checked password.
2022-07-10 12:44:31.1556|INFO|EducationalPortal.Infrastructure.Services.Identity.TokensService|Generated new refresh token.
2022-07-10 12:44:31.1556|INFO|EducationalPortal.Infrastructure.Services.Identity.UserManager|Returned new refresh token.
2022-07-10 12:44:31.1556|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [UserToken] ([RefreshToken], [RefreshTokenExpiryTime])
VALUES (@p0, @p1);
SELECT [Id]
FROM [UserToken]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 12:44:31.1556|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p9='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 450), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Users] SET [Avatar] = @p2, [Balance] = @p3, [Email] = @p4, [Name] = @p5, [PasswordHash] = @p6, [Position] = @p7, [UserTokenId] = @p8
WHERE [Id] = @p9;
SELECT @@ROWCOUNT;
2022-07-10 12:44:31.1556|INFO|EducationalPortal.Infrastructure.Services.Identity.UserManager|Returned claims for user with email: default@gmail.com.
2022-07-10 12:44:31.1556|INFO|EducationalPortal.Infrastructure.Services.Identity.TokensService|Generated new access token.
2022-07-10 12:44:31.1556|INFO|EducationalPortal.Infrastructure.Services.Identity.UserManager|Returned new access and refresh tokens.
2022-07-10 12:44:31.1556|INFO|EducationalPortal.Infrastructure.Services.Identity.UserManager|Logged in user with email: default@gmail.com.
2022-07-10 12:44:31.1556|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'EducationalPortal.Application.Models.TokensModel'.
2022-07-10 12:44:31.1556|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.AccountController.Login (EducationalPortal.API) in 30.0549ms
2022-07-10 12:44:31.1556|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.AccountController.Login (EducationalPortal.API)'
2022-07-10 12:44:31.1556|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:7106/api/account/login application/json 91 - 200 595 application/json;+charset=utf-8 31.0953ms
2022-07-10 12:44:31.1831|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:7106/api/courses?pageSize=3&pageNumber=1 - -
2022-07-10 12:44:31.1831|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-07-10 12:44:31.1863|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:7106/api/courses?pageSize=3&pageNumber=1 - - - 204 - - 3.1907ms
2022-07-10 12:44:31.2543|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/courses?pageSize=3&pageNumber=1 - -
2022-07-10 12:44:31.2543|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-07-10 12:44:31.2543|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.CoursesController.GetCourses (EducationalPortal.API)'
2022-07-10 12:44:31.2543|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EducationalPortal.Application.Models.DTO.Course.CourseShortDto]]] GetCourses(EducationalPortal.Application.Paging.PageParameters) on controller EducationalPortal.API.Controllers.CoursesController (EducationalPortal.API).
2022-07-10 12:44:31.2677|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-07-10 12:44:31.2901|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[AuthorId], [c].[Description], [c].[Name], [c].[Price], [c].[ShortDescription], [c].[Thumbnail]
FROM [Courses] AS [c]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-07-10 12:44:31.3005|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Courses] AS [c]
2022-07-10 12:44:31.3005|INFO|EducationalPortal.Infrastructure.Services.CoursesService|Returned courses page 1 from database.
2022-07-10 12:44:31.3005|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'EducationalPortal.Application.Paging.PagedList`1[[EducationalPortal.Application.Models.DTO.Course.CourseShortDto, EducationalPortal.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-07-10 12:44:31.3005|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.CoursesController.GetCourses (EducationalPortal.API) in 47.3611ms
2022-07-10 12:44:31.3005|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.CoursesController.GetCourses (EducationalPortal.API)'
2022-07-10 12:44:31.3005|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/courses?pageSize=3&pageNumber=1 - - - 200 818 application/json;+charset=utf-8 51.3040ms
2022-07-10 12:44:33.9925|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:7106/api/account/my-learning?pageSize=3&pageNumber=1 - -
2022-07-10 12:44:33.9925|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-07-10 12:44:33.9925|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:7106/api/account/my-learning?pageSize=3&pageNumber=1 - - - 204 - - 1.4121ms
2022-07-10 12:44:33.9996|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/account/my-learning?pageSize=3&pageNumber=1 - -
2022-07-10 12:44:33.9996|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-07-10 12:44:33.9996|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.AccountController.MyLearning (EducationalPortal.API)'
2022-07-10 12:44:33.9996|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "MyLearning", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EducationalPortal.Core.Entities.JoinEntities.UsersCourses]]] MyLearning(EducationalPortal.Application.Paging.PageParameters) on controller EducationalPortal.API.Controllers.AccountController (EducationalPortal.API).
2022-07-10 12:44:33.9996|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-07-10 12:44:34.0818|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (20ms) [Parameters=[@__email_0='?' (Size = 450), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[UserId], [t].[CourseId], [t].[LearnedMaterialsCount], [t].[MaterialsCount], [c].[Id], [c].[AuthorId], [c].[Description], [c].[Name], [c].[Price], [c].[ShortDescription], [c].[Thumbnail]
FROM (
    SELECT [u].[UserId], [u].[CourseId], [u].[LearnedMaterialsCount], [u].[MaterialsCount]
    FROM [UsersCourses] AS [u]
    INNER JOIN [Users] AS [u0] ON [u].[UserId] = [u0].[Id]
    WHERE [u0].[Email] = @__email_0
    ORDER BY (SELECT 1)
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t]
INNER JOIN [Courses] AS [c] ON [t].[CourseId] = [c].[Id]
2022-07-10 12:44:34.0818|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (6ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [UsersCourses] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[UserId] = [u0].[Id]
WHERE [u0].[Email] = @__email_0
2022-07-10 12:44:34.0922|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Avatar], [t].[Balance], [t].[Email], [t].[Name], [t].[PasswordHash], [t].[Position], [t].[UserTokenId], [t0].[MaterialsId], [t0].[UsersId], [t0].[Id], [t0].[Link], [t0].[Name], [t0].[PublicationDate], [t0].[ResourceId], [t0].[ExtensionId], [t0].[PagesCount], [t0].[PublicationYear], [t0].[Duration], [t0].[QualityId], [t0].[Discriminator]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Balance], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[Position], [u].[UserTokenId]
    FROM [Users] AS [u]
    WHERE [u].[Email] = @__email_0
) AS [t]
LEFT JOIN (
    SELECT [m].[MaterialsId], [m].[UsersId], [t1].[Id], [t1].[Link], [t1].[Name], [t1].[PublicationDate], [t1].[ResourceId], [t1].[ExtensionId], [t1].[PagesCount], [t1].[PublicationYear], [t1].[Duration], [t1].[QualityId], [t1].[Discriminator]
    FROM [MaterialsBaseUser] AS [m]
    INNER JOIN (
        SELECT [m0].[Id], [m0].[Link], [m0].[Name], [a].[PublicationDate], [a].[ResourceId], [b].[ExtensionId], [b].[PagesCount], [b].[PublicationYear], [v].[Duration], [v].[QualityId], CASE
            WHEN [v].[Id] IS NOT NULL THEN N'Video'
            WHEN [b].[Id] IS NOT NULL THEN N'Book'
            WHEN [a].[Id] IS NOT NULL THEN N'Article'
        END AS [Discriminator]
        FROM [Materials] AS [m0]
        LEFT JOIN [Articles] AS [a] ON [m0].[Id] = [a].[Id]
        LEFT JOIN [Books] AS [b] ON [m0].[Id] = [b].[Id]
        LEFT JOIN [Videos] AS [v] ON [m0].[Id] = [v].[Id]
    ) AS [t1] ON [m].[MaterialsId] = [t1].[Id]
) AS [t0] ON [t].[Id] = [t0].[UsersId]
ORDER BY [t].[Id], [t0].[MaterialsId], [t0].[UsersId]
2022-07-10 12:44:34.0922|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[CourseId], [c].[MaterialId], [c].[Index], [t].[Id], [t].[Link], [t].[Name], [t].[PublicationDate], [t].[ResourceId], [t].[ExtensionId], [t].[PagesCount], [t].[PublicationYear], [t].[Duration], [t].[QualityId], [t].[Discriminator]
FROM [CoursesMaterials] AS [c]
INNER JOIN (
    SELECT [m].[Id], [m].[Link], [m].[Name], [a].[PublicationDate], [a].[ResourceId], [b].[ExtensionId], [b].[PagesCount], [b].[PublicationYear], [v].[Duration], [v].[QualityId], CASE
        WHEN [v].[Id] IS NOT NULL THEN N'Video'
        WHEN [b].[Id] IS NOT NULL THEN N'Book'
        WHEN [a].[Id] IS NOT NULL THEN N'Article'
    END AS [Discriminator]
    FROM [Materials] AS [m]
    LEFT JOIN [Articles] AS [a] ON [m].[Id] = [a].[Id]
    LEFT JOIN [Books] AS [b] ON [m].[Id] = [b].[Id]
    LEFT JOIN [Videos] AS [v] ON [m].[Id] = [v].[Id]
) AS [t] ON [c].[MaterialId] = [t].[Id]
WHERE [c].[CourseId] = @__courseId_0
2022-07-10 12:44:34.0922|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [UsersCourses] SET [LearnedMaterialsCount] = @p0, [MaterialsCount] = @p1
WHERE [CourseId] = @p2 AND [UserId] = @p3;
SELECT @@ROWCOUNT;
2022-07-10 12:44:34.0922|INFO|EducationalPortal.Infrastructure.Services.AccountService|Returned users courses page 1 from database.
2022-07-10 12:44:34.0922|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'EducationalPortal.Application.Paging.PagedList`1[[EducationalPortal.Core.Entities.JoinEntities.UsersCourses, EducationalPortal.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-07-10 12:44:34.1298|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.AccountController.MyLearning (EducationalPortal.API) in 122.4633ms
2022-07-10 12:44:34.1298|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.AccountController.MyLearning (EducationalPortal.API)'
2022-07-10 12:44:34.1298|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/account/my-learning?pageSize=3&pageNumber=1 - - - 200 2545 application/json;+charset=utf-8 133.0989ms
2022-07-10 12:44:34.5452|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:7106/api/courses/learn/1 - -
2022-07-10 12:44:34.5452|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-07-10 12:44:34.5452|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:7106/api/courses/learn/1 - - - 204 - - 4.4772ms
2022-07-10 12:44:34.5452|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/courses/learn/1 - -
2022-07-10 12:44:34.5452|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-07-10 12:44:34.5452|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.CoursesController.GetCourseToLearn (EducationalPortal.API)'
2022-07-10 12:44:34.5452|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetCourseToLearn", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EducationalPortal.Application.Models.DTO.Course.CourseLearnDto]] GetCourseToLearn(Int32) on controller EducationalPortal.API.Controllers.CoursesController (EducationalPortal.API).
2022-07-10 12:44:34.5452|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-07-10 12:44:34.5665|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[AuthorId], [t].[Description], [t].[Name], [t].[Price], [t].[ShortDescription], [t].[Thumbnail], [t].[Id0], [t].[Avatar], [t].[Balance], [t].[Email], [t].[Name0], [t].[PasswordHash], [t].[Position], [t].[UserTokenId], [t0].[CourseId], [t0].[MaterialId], [t0].[Index], [t0].[Id], [t0].[Link], [t0].[Name], [t0].[PublicationDate], [t0].[ResourceId], [t0].[ExtensionId], [t0].[PagesCount], [t0].[PublicationYear], [t0].[Duration], [t0].[QualityId], [t0].[Discriminator], [t2].[CourseId], [t2].[SkillId], [t2].[Id], [t2].[Name]
FROM (
    SELECT TOP(1) [c].[Id], [c].[AuthorId], [c].[Description], [c].[Name], [c].[Price], [c].[ShortDescription], [c].[Thumbnail], [u].[Id] AS [Id0], [u].[Avatar], [u].[Balance], [u].[Email], [u].[Name] AS [Name0], [u].[PasswordHash], [u].[Position], [u].[UserTokenId]
    FROM [Courses] AS [c]
    LEFT JOIN [Users] AS [u] ON [c].[AuthorId] = [u].[Id]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [c0].[CourseId], [c0].[MaterialId], [c0].[Index], [t1].[Id], [t1].[Link], [t1].[Name], [t1].[PublicationDate], [t1].[ResourceId], [t1].[ExtensionId], [t1].[PagesCount], [t1].[PublicationYear], [t1].[Duration], [t1].[QualityId], [t1].[Discriminator]
    FROM [CoursesMaterials] AS [c0]
    INNER JOIN (
        SELECT [m].[Id], [m].[Link], [m].[Name], [a].[PublicationDate], [a].[ResourceId], [b].[ExtensionId], [b].[PagesCount], [b].[PublicationYear], [v].[Duration], [v].[QualityId], CASE
            WHEN [v].[Id] IS NOT NULL THEN N'Video'
            WHEN [b].[Id] IS NOT NULL THEN N'Book'
            WHEN [a].[Id] IS NOT NULL THEN N'Article'
        END AS [Discriminator]
        FROM [Materials] AS [m]
        LEFT JOIN [Articles] AS [a] ON [m].[Id] = [a].[Id]
        LEFT JOIN [Books] AS [b] ON [m].[Id] = [b].[Id]
        LEFT JOIN [Videos] AS [v] ON [m].[Id] = [v].[Id]
    ) AS [t1] ON [c0].[MaterialId] = [t1].[Id]
) AS [t0] ON [t].[Id] = [t0].[CourseId]
LEFT JOIN (
    SELECT [c1].[CourseId], [c1].[SkillId], [s].[Id], [s].[Name]
    FROM [CoursesSkills] AS [c1]
    INNER JOIN [Skills] AS [s] ON [c1].[SkillId] = [s].[Id]
) AS [t2] ON [t].[Id] = [t2].[CourseId]
ORDER BY [t].[Id], [t].[Id0], [t0].[CourseId], [t0].[MaterialId], [t0].[Id], [t2].[CourseId], [t2].[SkillId]
2022-07-10 12:44:34.5665|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Link], [t].[Name], [t].[ExtensionId], [t].[PagesCount], [t].[PublicationYear], [t].[Id0], [t0].[AuthorsId], [t0].[BooksId], [t0].[Id], [t0].[FullName], [t].[Name0]
FROM (
    SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [b].[ExtensionId], [b].[PagesCount], [b].[PublicationYear], [e].[Id] AS [Id0], [e].[Name] AS [Name0]
    FROM [Materials] AS [m]
    INNER JOIN [Books] AS [b] ON [m].[Id] = [b].[Id]
    INNER JOIN [Extensions] AS [e] ON [b].[ExtensionId] = [e].[Id]
    WHERE [m].[Id] = @__cm_MaterialId_0
) AS [t]
LEFT JOIN (
    SELECT [a].[AuthorsId], [a].[BooksId], [a0].[Id], [a0].[FullName]
    FROM [AuthorBook] AS [a]
    INNER JOIN [Authors] AS [a0] ON [a].[AuthorsId] = [a0].[Id]
) AS [t0] ON [t].[Id] = [t0].[BooksId]
ORDER BY [t].[Id], [t].[Id0], [t0].[AuthorsId], [t0].[BooksId]
2022-07-10 12:44:34.5665|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [v].[Duration], [v].[QualityId], [q].[Id], [q].[Name]
FROM [Materials] AS [m]
INNER JOIN [Videos] AS [v] ON [m].[Id] = [v].[Id]
INNER JOIN [Qualities] AS [q] ON [v].[QualityId] = [q].[Id]
WHERE [m].[Id] = @__cm_MaterialId_0
2022-07-10 12:44:34.5764|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [a].[PublicationDate], [a].[ResourceId], [r].[Id], [r].[Name]
FROM [Materials] AS [m]
INNER JOIN [Articles] AS [a] ON [m].[Id] = [a].[Id]
INNER JOIN [Resources] AS [r] ON [a].[ResourceId] = [r].[Id]
WHERE [m].[Id] = @__cm_MaterialId_0
2022-07-10 12:44:34.5764|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Link], [t].[Name], [t].[ExtensionId], [t].[PagesCount], [t].[PublicationYear], [t].[Id0], [t0].[AuthorsId], [t0].[BooksId], [t0].[Id], [t0].[FullName], [t].[Name0]
FROM (
    SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [b].[ExtensionId], [b].[PagesCount], [b].[PublicationYear], [e].[Id] AS [Id0], [e].[Name] AS [Name0]
    FROM [Materials] AS [m]
    INNER JOIN [Books] AS [b] ON [m].[Id] = [b].[Id]
    INNER JOIN [Extensions] AS [e] ON [b].[ExtensionId] = [e].[Id]
    WHERE [m].[Id] = @__cm_MaterialId_0
) AS [t]
LEFT JOIN (
    SELECT [a].[AuthorsId], [a].[BooksId], [a0].[Id], [a0].[FullName]
    FROM [AuthorBook] AS [a]
    INNER JOIN [Authors] AS [a0] ON [a].[AuthorsId] = [a0].[Id]
) AS [t0] ON [t].[Id] = [t0].[BooksId]
ORDER BY [t].[Id], [t].[Id0], [t0].[AuthorsId], [t0].[BooksId]
2022-07-10 12:44:34.5764|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [v].[Duration], [v].[QualityId], [q].[Id], [q].[Name]
FROM [Materials] AS [m]
INNER JOIN [Videos] AS [v] ON [m].[Id] = [v].[Id]
INNER JOIN [Qualities] AS [q] ON [v].[QualityId] = [q].[Id]
WHERE [m].[Id] = @__cm_MaterialId_0
2022-07-10 12:44:34.5764|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [a].[PublicationDate], [a].[ResourceId], [r].[Id], [r].[Name]
FROM [Materials] AS [m]
INNER JOIN [Articles] AS [a] ON [m].[Id] = [a].[Id]
INNER JOIN [Resources] AS [r] ON [a].[ResourceId] = [r].[Id]
WHERE [m].[Id] = @__cm_MaterialId_0
2022-07-10 12:44:34.5764|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Link], [t].[Name], [t].[ExtensionId], [t].[PagesCount], [t].[PublicationYear], [t].[Id0], [t0].[AuthorsId], [t0].[BooksId], [t0].[Id], [t0].[FullName], [t].[Name0]
FROM (
    SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [b].[ExtensionId], [b].[PagesCount], [b].[PublicationYear], [e].[Id] AS [Id0], [e].[Name] AS [Name0]
    FROM [Materials] AS [m]
    INNER JOIN [Books] AS [b] ON [m].[Id] = [b].[Id]
    INNER JOIN [Extensions] AS [e] ON [b].[ExtensionId] = [e].[Id]
    WHERE [m].[Id] = @__cm_MaterialId_0
) AS [t]
LEFT JOIN (
    SELECT [a].[AuthorsId], [a].[BooksId], [a0].[Id], [a0].[FullName]
    FROM [AuthorBook] AS [a]
    INNER JOIN [Authors] AS [a0] ON [a].[AuthorsId] = [a0].[Id]
) AS [t0] ON [t].[Id] = [t0].[BooksId]
ORDER BY [t].[Id], [t].[Id0], [t0].[AuthorsId], [t0].[BooksId]
2022-07-10 12:44:34.5764|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [v].[Duration], [v].[QualityId], [q].[Id], [q].[Name]
FROM [Materials] AS [m]
INNER JOIN [Videos] AS [v] ON [m].[Id] = [v].[Id]
INNER JOIN [Qualities] AS [q] ON [v].[QualityId] = [q].[Id]
WHERE [m].[Id] = @__cm_MaterialId_0
2022-07-10 12:44:34.5916|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [a].[PublicationDate], [a].[ResourceId], [r].[Id], [r].[Name]
FROM [Materials] AS [m]
INNER JOIN [Articles] AS [a] ON [m].[Id] = [a].[Id]
INNER JOIN [Resources] AS [r] ON [a].[ResourceId] = [r].[Id]
WHERE [m].[Id] = @__cm_MaterialId_0
2022-07-10 12:44:34.5916|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Avatar], [t].[Balance], [t].[Email], [t].[Name], [t].[PasswordHash], [t].[Position], [t].[UserTokenId], [t0].[MaterialsId], [t0].[UsersId], [t0].[Id], [t0].[Link], [t0].[Name], [t0].[PublicationDate], [t0].[ResourceId], [t0].[ExtensionId], [t0].[PagesCount], [t0].[PublicationYear], [t0].[Duration], [t0].[QualityId], [t0].[Discriminator]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Balance], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[Position], [u].[UserTokenId]
    FROM [Users] AS [u]
    WHERE [u].[Email] = @__email_0
) AS [t]
LEFT JOIN (
    SELECT [m].[MaterialsId], [m].[UsersId], [t1].[Id], [t1].[Link], [t1].[Name], [t1].[PublicationDate], [t1].[ResourceId], [t1].[ExtensionId], [t1].[PagesCount], [t1].[PublicationYear], [t1].[Duration], [t1].[QualityId], [t1].[Discriminator]
    FROM [MaterialsBaseUser] AS [m]
    INNER JOIN (
        SELECT [m0].[Id], [m0].[Link], [m0].[Name], [a].[PublicationDate], [a].[ResourceId], [b].[ExtensionId], [b].[PagesCount], [b].[PublicationYear], [v].[Duration], [v].[QualityId], CASE
            WHEN [v].[Id] IS NOT NULL THEN N'Video'
            WHEN [b].[Id] IS NOT NULL THEN N'Book'
            WHEN [a].[Id] IS NOT NULL THEN N'Article'
        END AS [Discriminator]
        FROM [Materials] AS [m0]
        LEFT JOIN [Articles] AS [a] ON [m0].[Id] = [a].[Id]
        LEFT JOIN [Books] AS [b] ON [m0].[Id] = [b].[Id]
        LEFT JOIN [Videos] AS [v] ON [m0].[Id] = [v].[Id]
    ) AS [t1] ON [m].[MaterialsId] = [t1].[Id]
) AS [t0] ON [t].[Id] = [t0].[UsersId]
ORDER BY [t].[Id], [t0].[MaterialsId], [t0].[UsersId]
2022-07-10 12:44:34.6312|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32), @__email_1='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[CourseId], [u].[LearnedMaterialsCount], [u].[MaterialsCount]
FROM [UsersCourses] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[UserId] = [u0].[Id]
WHERE ([u].[CourseId] = @__courseId_0) AND ([u0].[Email] = @__email_1)
2022-07-10 12:44:34.6312|INFO|EducationalPortal.Infrastructure.Services.CoursesService|Returned course learn with id: 1.
2022-07-10 12:44:34.6312|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'EducationalPortal.Application.Models.DTO.Course.CourseLearnDto'.
2022-07-10 12:44:34.6312|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.CoursesController.GetCourseToLearn (EducationalPortal.API) in 75.3626ms
2022-07-10 12:44:34.6312|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.CoursesController.GetCourseToLearn (EducationalPortal.API)'
2022-07-10 12:44:34.6312|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/courses/learn/1 - - - 200 852 application/json;+charset=utf-8 79.4934ms
2022-07-10 12:45:13.7897|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:7106/api/account - -
2022-07-10 12:45:13.8065|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-07-10 12:45:13.8065|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:7106/api/account - - - 204 - - 17.2645ms
2022-07-10 12:45:13.8122|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/account - -
2022-07-10 12:45:13.8122|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-07-10 12:45:13.8122|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.AccountController.Profile (EducationalPortal.API)'
2022-07-10 12:45:13.8122|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Profile", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EducationalPortal.Application.Models.DTO.UserDto]] Profile() on controller EducationalPortal.API.Controllers.AccountController (EducationalPortal.API).
2022-07-10 12:45:13.8122|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-07-10 12:45:13.8514|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Avatar], [t].[Balance], [t].[Email], [t].[Name], [t].[PasswordHash], [t].[Position], [t].[UserTokenId], [c].[Id], [c].[AuthorId], [c].[Description], [c].[Name], [c].[Price], [c].[ShortDescription], [c].[Thumbnail], [t0].[UserId], [t0].[SkillId], [t0].[Level], [t0].[Id], [t0].[Name], [t1].[RolesId], [t1].[UsersId], [t1].[Id], [t1].[Name]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Balance], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[Position], [u].[UserTokenId]
    FROM [Users] AS [u]
    WHERE [u].[Email] = @__email_0
) AS [t]
LEFT JOIN [Courses] AS [c] ON [t].[Id] = [c].[AuthorId]
LEFT JOIN (
    SELECT [u0].[UserId], [u0].[SkillId], [u0].[Level], [s].[Id], [s].[Name]
    FROM [UsersSkills] AS [u0]
    INNER JOIN [Skills] AS [s] ON [u0].[SkillId] = [s].[Id]
) AS [t0] ON [t].[Id] = [t0].[UserId]
LEFT JOIN (
    SELECT [r].[RolesId], [r].[UsersId], [r0].[Id], [r0].[Name]
    FROM [RoleUser] AS [r]
    INNER JOIN [Roles] AS [r0] ON [r].[RolesId] = [r0].[Id]
) AS [t1] ON [t].[Id] = [t1].[UsersId]
ORDER BY [t].[Id], [c].[Id], [t0].[UserId], [t0].[SkillId], [t0].[Id], [t1].[RolesId], [t1].[UsersId]
2022-07-10 12:45:13.8673|INFO|EducationalPortal.Infrastructure.Services.AccountService|Returned user with email: default@gmail.com.
2022-07-10 12:45:13.8673|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'EducationalPortal.Application.Models.DTO.UserDto'.
2022-07-10 12:45:13.8673|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.AccountController.Profile (EducationalPortal.API) in 54.9149ms
2022-07-10 12:45:13.8673|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.AccountController.Profile (EducationalPortal.API)'
2022-07-10 12:45:13.8673|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/account - - - 200 1236 application/json;+charset=utf-8 56.3674ms
2022-07-10 12:45:22.3530|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:7106/api/account/my-learning?pageSize=3&pageNumber=1 - -
2022-07-10 12:45:22.3570|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-07-10 12:45:22.3570|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:7106/api/account/my-learning?pageSize=3&pageNumber=1 - - - 204 - - 4.4892ms
2022-07-10 12:45:22.3570|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/account/my-learning?pageSize=3&pageNumber=1 - -
2022-07-10 12:45:22.3570|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-07-10 12:45:22.3570|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.AccountController.MyLearning (EducationalPortal.API)'
2022-07-10 12:45:22.3570|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "MyLearning", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EducationalPortal.Core.Entities.JoinEntities.UsersCourses]]] MyLearning(EducationalPortal.Application.Paging.PageParameters) on controller EducationalPortal.API.Controllers.AccountController (EducationalPortal.API).
2022-07-10 12:45:22.3570|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-07-10 12:45:22.3835|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@__email_0='?' (Size = 450), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[UserId], [t].[CourseId], [t].[LearnedMaterialsCount], [t].[MaterialsCount], [c].[Id], [c].[AuthorId], [c].[Description], [c].[Name], [c].[Price], [c].[ShortDescription], [c].[Thumbnail]
FROM (
    SELECT [u].[UserId], [u].[CourseId], [u].[LearnedMaterialsCount], [u].[MaterialsCount]
    FROM [UsersCourses] AS [u]
    INNER JOIN [Users] AS [u0] ON [u].[UserId] = [u0].[Id]
    WHERE [u0].[Email] = @__email_0
    ORDER BY (SELECT 1)
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t]
INNER JOIN [Courses] AS [c] ON [t].[CourseId] = [c].[Id]
2022-07-10 12:45:22.4006|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (11ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [UsersCourses] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[UserId] = [u0].[Id]
WHERE [u0].[Email] = @__email_0
2022-07-10 12:45:22.4032|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Avatar], [t].[Balance], [t].[Email], [t].[Name], [t].[PasswordHash], [t].[Position], [t].[UserTokenId], [t0].[MaterialsId], [t0].[UsersId], [t0].[Id], [t0].[Link], [t0].[Name], [t0].[PublicationDate], [t0].[ResourceId], [t0].[ExtensionId], [t0].[PagesCount], [t0].[PublicationYear], [t0].[Duration], [t0].[QualityId], [t0].[Discriminator]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Balance], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[Position], [u].[UserTokenId]
    FROM [Users] AS [u]
    WHERE [u].[Email] = @__email_0
) AS [t]
LEFT JOIN (
    SELECT [m].[MaterialsId], [m].[UsersId], [t1].[Id], [t1].[Link], [t1].[Name], [t1].[PublicationDate], [t1].[ResourceId], [t1].[ExtensionId], [t1].[PagesCount], [t1].[PublicationYear], [t1].[Duration], [t1].[QualityId], [t1].[Discriminator]
    FROM [MaterialsBaseUser] AS [m]
    INNER JOIN (
        SELECT [m0].[Id], [m0].[Link], [m0].[Name], [a].[PublicationDate], [a].[ResourceId], [b].[ExtensionId], [b].[PagesCount], [b].[PublicationYear], [v].[Duration], [v].[QualityId], CASE
            WHEN [v].[Id] IS NOT NULL THEN N'Video'
            WHEN [b].[Id] IS NOT NULL THEN N'Book'
            WHEN [a].[Id] IS NOT NULL THEN N'Article'
        END AS [Discriminator]
        FROM [Materials] AS [m0]
        LEFT JOIN [Articles] AS [a] ON [m0].[Id] = [a].[Id]
        LEFT JOIN [Books] AS [b] ON [m0].[Id] = [b].[Id]
        LEFT JOIN [Videos] AS [v] ON [m0].[Id] = [v].[Id]
    ) AS [t1] ON [m].[MaterialsId] = [t1].[Id]
) AS [t0] ON [t].[Id] = [t0].[UsersId]
ORDER BY [t].[Id], [t0].[MaterialsId], [t0].[UsersId]
2022-07-10 12:45:22.4032|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[CourseId], [c].[MaterialId], [c].[Index], [t].[Id], [t].[Link], [t].[Name], [t].[PublicationDate], [t].[ResourceId], [t].[ExtensionId], [t].[PagesCount], [t].[PublicationYear], [t].[Duration], [t].[QualityId], [t].[Discriminator]
FROM [CoursesMaterials] AS [c]
INNER JOIN (
    SELECT [m].[Id], [m].[Link], [m].[Name], [a].[PublicationDate], [a].[ResourceId], [b].[ExtensionId], [b].[PagesCount], [b].[PublicationYear], [v].[Duration], [v].[QualityId], CASE
        WHEN [v].[Id] IS NOT NULL THEN N'Video'
        WHEN [b].[Id] IS NOT NULL THEN N'Book'
        WHEN [a].[Id] IS NOT NULL THEN N'Article'
    END AS [Discriminator]
    FROM [Materials] AS [m]
    LEFT JOIN [Articles] AS [a] ON [m].[Id] = [a].[Id]
    LEFT JOIN [Books] AS [b] ON [m].[Id] = [b].[Id]
    LEFT JOIN [Videos] AS [v] ON [m].[Id] = [v].[Id]
) AS [t] ON [c].[MaterialId] = [t].[Id]
WHERE [c].[CourseId] = @__courseId_0
2022-07-10 12:45:22.4032|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [UsersCourses] SET [LearnedMaterialsCount] = @p0, [MaterialsCount] = @p1
WHERE [CourseId] = @p2 AND [UserId] = @p3;
SELECT @@ROWCOUNT;
2022-07-10 12:45:22.4032|INFO|EducationalPortal.Infrastructure.Services.AccountService|Returned users courses page 1 from database.
2022-07-10 12:45:22.4032|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'EducationalPortal.Application.Paging.PagedList`1[[EducationalPortal.Core.Entities.JoinEntities.UsersCourses, EducationalPortal.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-07-10 12:45:22.4032|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.AccountController.MyLearning (EducationalPortal.API) in 45.8199ms
2022-07-10 12:45:22.4032|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.AccountController.MyLearning (EducationalPortal.API)'
2022-07-10 12:45:22.4032|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/account/my-learning?pageSize=3&pageNumber=1 - - - 200 2545 application/json;+charset=utf-8 48.8549ms
2022-07-10 12:45:27.2134|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:7106/api/account - -
2022-07-10 12:45:27.2134|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-07-10 12:45:27.2134|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:7106/api/account - - - 204 - - 1.8432ms
2022-07-10 12:45:27.2208|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/account - -
2022-07-10 12:45:27.2208|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-07-10 12:45:27.2208|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.AccountController.Profile (EducationalPortal.API)'
2022-07-10 12:45:27.2208|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Profile", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EducationalPortal.Application.Models.DTO.UserDto]] Profile() on controller EducationalPortal.API.Controllers.AccountController (EducationalPortal.API).
2022-07-10 12:45:27.2208|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-07-10 12:45:27.3511|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Avatar], [t].[Balance], [t].[Email], [t].[Name], [t].[PasswordHash], [t].[Position], [t].[UserTokenId], [c].[Id], [c].[AuthorId], [c].[Description], [c].[Name], [c].[Price], [c].[ShortDescription], [c].[Thumbnail], [t0].[UserId], [t0].[SkillId], [t0].[Level], [t0].[Id], [t0].[Name], [t1].[RolesId], [t1].[UsersId], [t1].[Id], [t1].[Name]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Balance], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[Position], [u].[UserTokenId]
    FROM [Users] AS [u]
    WHERE [u].[Email] = @__email_0
) AS [t]
LEFT JOIN [Courses] AS [c] ON [t].[Id] = [c].[AuthorId]
LEFT JOIN (
    SELECT [u0].[UserId], [u0].[SkillId], [u0].[Level], [s].[Id], [s].[Name]
    FROM [UsersSkills] AS [u0]
    INNER JOIN [Skills] AS [s] ON [u0].[SkillId] = [s].[Id]
) AS [t0] ON [t].[Id] = [t0].[UserId]
LEFT JOIN (
    SELECT [r].[RolesId], [r].[UsersId], [r0].[Id], [r0].[Name]
    FROM [RoleUser] AS [r]
    INNER JOIN [Roles] AS [r0] ON [r].[RolesId] = [r0].[Id]
) AS [t1] ON [t].[Id] = [t1].[UsersId]
ORDER BY [t].[Id], [c].[Id], [t0].[UserId], [t0].[SkillId], [t0].[Id], [t1].[RolesId], [t1].[UsersId]
2022-07-10 12:45:27.3715|INFO|EducationalPortal.Infrastructure.Services.AccountService|Returned user with email: default@gmail.com.
2022-07-10 12:45:27.3719|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'EducationalPortal.Application.Models.DTO.UserDto'.
2022-07-10 12:45:27.3719|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.AccountController.Profile (EducationalPortal.API) in 149.5965ms
2022-07-10 12:45:27.3719|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.AccountController.Profile (EducationalPortal.API)'
2022-07-10 12:45:27.3719|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/account - - - 200 1236 application/json;+charset=utf-8 152.1148ms
2022-07-10 12:45:51.8117|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:7106/api/courses/1 - -
2022-07-10 12:45:51.8117|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-07-10 12:45:51.8117|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:7106/api/courses/1 - - - 204 - - 2.2682ms
2022-07-10 12:45:51.8117|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/courses/1 - -
2022-07-10 12:45:51.8117|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-07-10 12:45:51.8117|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.CoursesController.GetCourse (EducationalPortal.API)'
2022-07-10 12:45:51.8117|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EducationalPortal.Application.Models.DTO.Course.CourseDto]] GetCourse(Int32) on controller EducationalPortal.API.Controllers.CoursesController (EducationalPortal.API).
2022-07-10 12:45:51.8117|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-07-10 12:45:51.8347|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[AuthorId], [t].[Description], [t].[Name], [t].[Price], [t].[ShortDescription], [t].[Thumbnail], [t].[Id0], [t].[Avatar], [t].[Balance], [t].[Email], [t].[Name0], [t].[PasswordHash], [t].[Position], [t].[UserTokenId], [t0].[CourseId], [t0].[MaterialId], [t0].[Index], [t0].[Id], [t0].[Link], [t0].[Name], [t0].[PublicationDate], [t0].[ResourceId], [t0].[ExtensionId], [t0].[PagesCount], [t0].[PublicationYear], [t0].[Duration], [t0].[QualityId], [t0].[Discriminator], [t2].[CourseId], [t2].[SkillId], [t2].[Id], [t2].[Name]
FROM (
    SELECT TOP(1) [c].[Id], [c].[AuthorId], [c].[Description], [c].[Name], [c].[Price], [c].[ShortDescription], [c].[Thumbnail], [u].[Id] AS [Id0], [u].[Avatar], [u].[Balance], [u].[Email], [u].[Name] AS [Name0], [u].[PasswordHash], [u].[Position], [u].[UserTokenId]
    FROM [Courses] AS [c]
    LEFT JOIN [Users] AS [u] ON [c].[AuthorId] = [u].[Id]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [c0].[CourseId], [c0].[MaterialId], [c0].[Index], [t1].[Id], [t1].[Link], [t1].[Name], [t1].[PublicationDate], [t1].[ResourceId], [t1].[ExtensionId], [t1].[PagesCount], [t1].[PublicationYear], [t1].[Duration], [t1].[QualityId], [t1].[Discriminator]
    FROM [CoursesMaterials] AS [c0]
    INNER JOIN (
        SELECT [m].[Id], [m].[Link], [m].[Name], [a].[PublicationDate], [a].[ResourceId], [b].[ExtensionId], [b].[PagesCount], [b].[PublicationYear], [v].[Duration], [v].[QualityId], CASE
            WHEN [v].[Id] IS NOT NULL THEN N'Video'
            WHEN [b].[Id] IS NOT NULL THEN N'Book'
            WHEN [a].[Id] IS NOT NULL THEN N'Article'
        END AS [Discriminator]
        FROM [Materials] AS [m]
        LEFT JOIN [Articles] AS [a] ON [m].[Id] = [a].[Id]
        LEFT JOIN [Books] AS [b] ON [m].[Id] = [b].[Id]
        LEFT JOIN [Videos] AS [v] ON [m].[Id] = [v].[Id]
    ) AS [t1] ON [c0].[MaterialId] = [t1].[Id]
) AS [t0] ON [t].[Id] = [t0].[CourseId]
LEFT JOIN (
    SELECT [c1].[CourseId], [c1].[SkillId], [s].[Id], [s].[Name]
    FROM [CoursesSkills] AS [c1]
    INNER JOIN [Skills] AS [s] ON [c1].[SkillId] = [s].[Id]
) AS [t2] ON [t].[Id] = [t2].[CourseId]
ORDER BY [t].[Id], [t].[Id0], [t0].[CourseId], [t0].[MaterialId], [t0].[Id], [t2].[CourseId], [t2].[SkillId]
2022-07-10 12:45:51.8406|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Link], [t].[Name], [t].[ExtensionId], [t].[PagesCount], [t].[PublicationYear], [t].[Id0], [t0].[AuthorsId], [t0].[BooksId], [t0].[Id], [t0].[FullName], [t].[Name0]
FROM (
    SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [b].[ExtensionId], [b].[PagesCount], [b].[PublicationYear], [e].[Id] AS [Id0], [e].[Name] AS [Name0]
    FROM [Materials] AS [m]
    INNER JOIN [Books] AS [b] ON [m].[Id] = [b].[Id]
    INNER JOIN [Extensions] AS [e] ON [b].[ExtensionId] = [e].[Id]
    WHERE [m].[Id] = @__cm_MaterialId_0
) AS [t]
LEFT JOIN (
    SELECT [a].[AuthorsId], [a].[BooksId], [a0].[Id], [a0].[FullName]
    FROM [AuthorBook] AS [a]
    INNER JOIN [Authors] AS [a0] ON [a].[AuthorsId] = [a0].[Id]
) AS [t0] ON [t].[Id] = [t0].[BooksId]
ORDER BY [t].[Id], [t].[Id0], [t0].[AuthorsId], [t0].[BooksId]
2022-07-10 12:45:51.8406|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [v].[Duration], [v].[QualityId], [q].[Id], [q].[Name]
FROM [Materials] AS [m]
INNER JOIN [Videos] AS [v] ON [m].[Id] = [v].[Id]
INNER JOIN [Qualities] AS [q] ON [v].[QualityId] = [q].[Id]
WHERE [m].[Id] = @__cm_MaterialId_0
2022-07-10 12:45:51.8406|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [a].[PublicationDate], [a].[ResourceId], [r].[Id], [r].[Name]
FROM [Materials] AS [m]
INNER JOIN [Articles] AS [a] ON [m].[Id] = [a].[Id]
INNER JOIN [Resources] AS [r] ON [a].[ResourceId] = [r].[Id]
WHERE [m].[Id] = @__cm_MaterialId_0
2022-07-10 12:45:51.8406|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (8ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Link], [t].[Name], [t].[ExtensionId], [t].[PagesCount], [t].[PublicationYear], [t].[Id0], [t0].[AuthorsId], [t0].[BooksId], [t0].[Id], [t0].[FullName], [t].[Name0]
FROM (
    SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [b].[ExtensionId], [b].[PagesCount], [b].[PublicationYear], [e].[Id] AS [Id0], [e].[Name] AS [Name0]
    FROM [Materials] AS [m]
    INNER JOIN [Books] AS [b] ON [m].[Id] = [b].[Id]
    INNER JOIN [Extensions] AS [e] ON [b].[ExtensionId] = [e].[Id]
    WHERE [m].[Id] = @__cm_MaterialId_0
) AS [t]
LEFT JOIN (
    SELECT [a].[AuthorsId], [a].[BooksId], [a0].[Id], [a0].[FullName]
    FROM [AuthorBook] AS [a]
    INNER JOIN [Authors] AS [a0] ON [a].[AuthorsId] = [a0].[Id]
) AS [t0] ON [t].[Id] = [t0].[BooksId]
ORDER BY [t].[Id], [t].[Id0], [t0].[AuthorsId], [t0].[BooksId]
2022-07-10 12:45:51.8583|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [v].[Duration], [v].[QualityId], [q].[Id], [q].[Name]
FROM [Materials] AS [m]
INNER JOIN [Videos] AS [v] ON [m].[Id] = [v].[Id]
INNER JOIN [Qualities] AS [q] ON [v].[QualityId] = [q].[Id]
WHERE [m].[Id] = @__cm_MaterialId_0
2022-07-10 12:45:51.8583|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [a].[PublicationDate], [a].[ResourceId], [r].[Id], [r].[Name]
FROM [Materials] AS [m]
INNER JOIN [Articles] AS [a] ON [m].[Id] = [a].[Id]
INNER JOIN [Resources] AS [r] ON [a].[ResourceId] = [r].[Id]
WHERE [m].[Id] = @__cm_MaterialId_0
2022-07-10 12:45:51.8583|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Link], [t].[Name], [t].[ExtensionId], [t].[PagesCount], [t].[PublicationYear], [t].[Id0], [t0].[AuthorsId], [t0].[BooksId], [t0].[Id], [t0].[FullName], [t].[Name0]
FROM (
    SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [b].[ExtensionId], [b].[PagesCount], [b].[PublicationYear], [e].[Id] AS [Id0], [e].[Name] AS [Name0]
    FROM [Materials] AS [m]
    INNER JOIN [Books] AS [b] ON [m].[Id] = [b].[Id]
    INNER JOIN [Extensions] AS [e] ON [b].[ExtensionId] = [e].[Id]
    WHERE [m].[Id] = @__cm_MaterialId_0
) AS [t]
LEFT JOIN (
    SELECT [a].[AuthorsId], [a].[BooksId], [a0].[Id], [a0].[FullName]
    FROM [AuthorBook] AS [a]
    INNER JOIN [Authors] AS [a0] ON [a].[AuthorsId] = [a0].[Id]
) AS [t0] ON [t].[Id] = [t0].[BooksId]
ORDER BY [t].[Id], [t].[Id0], [t0].[AuthorsId], [t0].[BooksId]
2022-07-10 12:45:51.8583|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [v].[Duration], [v].[QualityId], [q].[Id], [q].[Name]
FROM [Materials] AS [m]
INNER JOIN [Videos] AS [v] ON [m].[Id] = [v].[Id]
INNER JOIN [Qualities] AS [q] ON [v].[QualityId] = [q].[Id]
WHERE [m].[Id] = @__cm_MaterialId_0
2022-07-10 12:45:51.8583|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [a].[PublicationDate], [a].[ResourceId], [r].[Id], [r].[Name]
FROM [Materials] AS [m]
INNER JOIN [Articles] AS [a] ON [m].[Id] = [a].[Id]
INNER JOIN [Resources] AS [r] ON [a].[ResourceId] = [r].[Id]
WHERE [m].[Id] = @__cm_MaterialId_0
2022-07-10 12:45:51.8583|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Avatar], [t].[Balance], [t].[Email], [t].[Name], [t].[PasswordHash], [t].[Position], [t].[UserTokenId], [t0].[MaterialsId], [t0].[UsersId], [t0].[Id], [t0].[Link], [t0].[Name], [t0].[PublicationDate], [t0].[ResourceId], [t0].[ExtensionId], [t0].[PagesCount], [t0].[PublicationYear], [t0].[Duration], [t0].[QualityId], [t0].[Discriminator]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Balance], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[Position], [u].[UserTokenId]
    FROM [Users] AS [u]
    WHERE [u].[Email] = @__email_0
) AS [t]
LEFT JOIN (
    SELECT [m].[MaterialsId], [m].[UsersId], [t1].[Id], [t1].[Link], [t1].[Name], [t1].[PublicationDate], [t1].[ResourceId], [t1].[ExtensionId], [t1].[PagesCount], [t1].[PublicationYear], [t1].[Duration], [t1].[QualityId], [t1].[Discriminator]
    FROM [MaterialsBaseUser] AS [m]
    INNER JOIN (
        SELECT [m0].[Id], [m0].[Link], [m0].[Name], [a].[PublicationDate], [a].[ResourceId], [b].[ExtensionId], [b].[PagesCount], [b].[PublicationYear], [v].[Duration], [v].[QualityId], CASE
            WHEN [v].[Id] IS NOT NULL THEN N'Video'
            WHEN [b].[Id] IS NOT NULL THEN N'Book'
            WHEN [a].[Id] IS NOT NULL THEN N'Article'
        END AS [Discriminator]
        FROM [Materials] AS [m0]
        LEFT JOIN [Articles] AS [a] ON [m0].[Id] = [a].[Id]
        LEFT JOIN [Books] AS [b] ON [m0].[Id] = [b].[Id]
        LEFT JOIN [Videos] AS [v] ON [m0].[Id] = [v].[Id]
    ) AS [t1] ON [m].[MaterialsId] = [t1].[Id]
) AS [t0] ON [t].[Id] = [t0].[UsersId]
ORDER BY [t].[Id], [t0].[MaterialsId], [t0].[UsersId]
2022-07-10 12:45:51.8966|INFO|EducationalPortal.Infrastructure.Services.CoursesService|Returned course with id: 1.
2022-07-10 12:45:51.8966|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'EducationalPortal.Application.Models.DTO.Course.CourseDto'.
2022-07-10 12:45:51.8966|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.CoursesController.GetCourse (EducationalPortal.API) in 78.0709ms
2022-07-10 12:45:51.8966|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.CoursesController.GetCourse (EducationalPortal.API)'
2022-07-10 12:45:51.8966|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/courses/1 - - - 200 2600 application/json;+charset=utf-8 79.4031ms
2022-07-10 12:46:07.0557|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:7106/api/skills?pageSize=6&pageNumber=1 - -
2022-07-10 12:46:07.0557|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-07-10 12:46:07.0557|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:7106/api/skills?pageSize=6&pageNumber=1 - - - 204 - - 3.0535ms
2022-07-10 12:46:07.0638|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/skills?pageSize=6&pageNumber=1 - -
2022-07-10 12:46:07.0638|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-07-10 12:46:07.0638|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.SkillsController.GetSkills (EducationalPortal.API)'
2022-07-10 12:46:07.0638|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetSkills", controller = "Skills"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EducationalPortal.Application.Models.DTO.SkillDto]]] GetSkills(EducationalPortal.Application.Paging.PageParameters) on controller EducationalPortal.API.Controllers.SkillsController (EducationalPortal.API).
2022-07-10 12:46:07.0638|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-07-10 12:46:07.0785|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[Id], [s].[Name]
FROM [Skills] AS [s]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-07-10 12:46:07.0785|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Skills] AS [s]
2022-07-10 12:46:07.0785|INFO|EducationalPortal.Infrastructure.Services.SkillsService|Returned skills page 1 from database.
2022-07-10 12:46:07.0785|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'EducationalPortal.Application.Paging.PagedList`1[[EducationalPortal.Application.Models.DTO.SkillDto, EducationalPortal.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-07-10 12:46:07.0785|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.SkillsController.GetSkills (EducationalPortal.API) in 22.5509ms
2022-07-10 12:46:07.0785|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.SkillsController.GetSkills (EducationalPortal.API)'
2022-07-10 12:46:07.0785|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/skills?pageSize=6&pageNumber=1 - - - 200 152 application/json;+charset=utf-8 24.1527ms
2022-07-10 12:46:31.2886|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:7106/api/skills?pageSize=6&pageNumber=2 - -
2022-07-10 12:46:31.2886|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-07-10 12:46:31.2886|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:7106/api/skills?pageSize=6&pageNumber=2 - - - 204 - - 3.8580ms
2022-07-10 12:46:31.2970|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/skills?pageSize=6&pageNumber=2 - -
2022-07-10 12:46:31.2970|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-07-10 12:46:31.2970|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.SkillsController.GetSkills (EducationalPortal.API)'
2022-07-10 12:46:31.2970|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetSkills", controller = "Skills"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EducationalPortal.Application.Models.DTO.SkillDto]]] GetSkills(EducationalPortal.Application.Paging.PageParameters) on controller EducationalPortal.API.Controllers.SkillsController (EducationalPortal.API).
2022-07-10 12:46:31.2970|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-07-10 12:46:31.2970|WARN|Microsoft.EntityFrameworkCore.Query|The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-07-10 12:46:31.2970|WARN|Microsoft.EntityFrameworkCore.Query|The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-07-10 12:46:31.3150|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[Id], [s].[Name]
FROM [Skills] AS [s]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
2022-07-10 12:46:31.3150|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Skills] AS [s]
2022-07-10 12:46:31.3150|INFO|EducationalPortal.Infrastructure.Services.SkillsService|Returned skills page 2 from database.
2022-07-10 12:46:31.3150|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'EducationalPortal.Application.Paging.PagedList`1[[EducationalPortal.Application.Models.DTO.SkillDto, EducationalPortal.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-07-10 12:46:31.3150|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.SkillsController.GetSkills (EducationalPortal.API) in 20.9403ms
2022-07-10 12:46:31.3150|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.SkillsController.GetSkills (EducationalPortal.API)'
2022-07-10 12:46:31.3150|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/skills?pageSize=6&pageNumber=2 - - - 200 203 application/json;+charset=utf-8 22.0327ms
2022-07-10 12:46:35.0129|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:7106/api/articles?pageSize=3&pageNumber=1 - -
2022-07-10 12:46:35.0129|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-07-10 12:46:35.0129|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:7106/api/articles?pageSize=3&pageNumber=1 - - - 204 - - 3.5636ms
2022-07-10 12:46:35.0129|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:7106/api/resources?pageSize=3&pageNumber=1 - -
2022-07-10 12:46:35.0129|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-07-10 12:46:35.0129|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:7106/api/resources?pageSize=3&pageNumber=1 - - - 204 - - 0.3240ms
2022-07-10 12:46:35.0129|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/articles?pageSize=3&pageNumber=1 - -
2022-07-10 12:46:35.0129|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-07-10 12:46:35.0296|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.ArticlesController.GetArticles (EducationalPortal.API)'
2022-07-10 12:46:35.0433|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/resources?pageSize=3&pageNumber=1 - -
2022-07-10 12:46:35.0433|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-07-10 12:46:35.0626|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.ResourcesController.GetResources (EducationalPortal.API)'
2022-07-10 12:46:35.0626|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetArticles", controller = "Articles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EducationalPortal.Application.Models.DTO.EducationalMaterials.ArticleDto]]] GetArticles(EducationalPortal.Application.Paging.PageParameters) on controller EducationalPortal.API.Controllers.ArticlesController (EducationalPortal.API).
2022-07-10 12:46:35.0626|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-07-10 12:46:35.0626|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetResources", controller = "Resources"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EducationalPortal.Application.Models.DTO.EducationalMaterials.Properties.ResourceDto]]] GetResources(EducationalPortal.Application.Paging.PageParameters) on controller EducationalPortal.API.Controllers.ResourcesController (EducationalPortal.API).
2022-07-10 12:46:35.0626|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-07-10 12:46:35.0884|WARN|Microsoft.EntityFrameworkCore.Query|The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-07-10 12:46:35.0884|WARN|Microsoft.EntityFrameworkCore.Query|The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-07-10 12:46:35.0884|WARN|Microsoft.EntityFrameworkCore.Query|The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-07-10 12:46:35.0884|WARN|Microsoft.EntityFrameworkCore.Query|The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-07-10 12:46:35.1101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (15ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[Name]
FROM [Resources] AS [r]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-07-10 12:46:35.1263|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (12ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Resources] AS [r]
2022-07-10 12:46:35.1263|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[Link], [m].[Name], [a].[PublicationDate], [a].[ResourceId]
FROM [Materials] AS [m]
INNER JOIN [Articles] AS [a] ON [m].[Id] = [a].[Id]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-07-10 12:46:35.1559|INFO|EducationalPortal.Infrastructure.Services.EducationalMaterials.ResourcesService|Returned resources page 1 from database.
2022-07-10 12:46:35.1559|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'EducationalPortal.Application.Paging.PagedList`1[[EducationalPortal.Application.Models.DTO.EducationalMaterials.Properties.ResourceDto, EducationalPortal.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-07-10 12:46:35.1559|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Materials] AS [m]
INNER JOIN [Articles] AS [a] ON [m].[Id] = [a].[Id]
2022-07-10 12:46:35.1559|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.ResourcesController.GetResources (EducationalPortal.API) in 86.3421ms
2022-07-10 12:46:35.1559|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.ResourcesController.GetResources (EducationalPortal.API)'
2022-07-10 12:46:35.1559|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/resources?pageSize=3&pageNumber=1 - - - 200 73 application/json;+charset=utf-8 116.3464ms
2022-07-10 12:46:35.1796|INFO|EducationalPortal.Infrastructure.Services.EducationalMaterials.ArticlesService|Returned articles page 1 from database.
2022-07-10 12:46:35.1796|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'EducationalPortal.Application.Paging.PagedList`1[[EducationalPortal.Application.Models.DTO.EducationalMaterials.ArticleDto, EducationalPortal.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-07-10 12:46:35.1883|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.ArticlesController.GetArticles (EducationalPortal.API) in 117.3614ms
2022-07-10 12:46:35.1883|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.ArticlesController.GetArticles (EducationalPortal.API)'
2022-07-10 12:46:35.1883|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/articles?pageSize=3&pageNumber=1 - - - 200 570 application/json;+charset=utf-8 162.0346ms
2022-07-10 12:46:47.1239|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:7106/api/books?pageSize=3&pageNumber=1 - -
2022-07-10 12:46:47.1239|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-07-10 12:46:47.1239|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:7106/api/books?pageSize=3&pageNumber=1 - - - 204 - - 5.3934ms
2022-07-10 12:46:47.1239|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:7106/api/authors?pageSize=6&pageNumber=1 - -
2022-07-10 12:46:47.1239|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/books?pageSize=3&pageNumber=1 - -
2022-07-10 12:46:47.1239|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-07-10 12:46:47.1239|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:7106/api/authors?pageSize=6&pageNumber=1 - - - 204 - - 0.9233ms
2022-07-10 12:46:47.1239|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-07-10 12:46:47.1239|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.BooksController.GetBooks (EducationalPortal.API)'
2022-07-10 12:46:47.1492|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/authors?pageSize=6&pageNumber=1 - -
2022-07-10 12:46:47.1492|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-07-10 12:46:47.1492|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.AuthorsController.GetAuthors (EducationalPortal.API)'
2022-07-10 12:46:47.1492|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EducationalPortal.Application.Models.DTO.EducationalMaterials.BookDto]]] GetBooks(EducationalPortal.Application.Paging.PageParameters) on controller EducationalPortal.API.Controllers.BooksController (EducationalPortal.API).
2022-07-10 12:46:47.1549|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-07-10 12:46:47.1549|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetAuthors", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EducationalPortal.Application.Models.DTO.EducationalMaterials.Properties.AuthorDto]]] GetAuthors(EducationalPortal.Application.Paging.PageParameters) on controller EducationalPortal.API.Controllers.AuthorsController (EducationalPortal.API).
2022-07-10 12:46:47.1549|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-07-10 12:46:47.1857|WARN|Microsoft.EntityFrameworkCore.Query|The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-07-10 12:46:47.1857|WARN|Microsoft.EntityFrameworkCore.Query|The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-07-10 12:46:47.1857|WARN|Microsoft.EntityFrameworkCore.Query|The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-07-10 12:46:47.1857|WARN|Microsoft.EntityFrameworkCore.Query|The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-07-10 12:46:47.2194|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (13ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[FullName]
FROM [Authors] AS [a]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-07-10 12:46:47.2363|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (14ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[Link], [m].[Name], [b].[ExtensionId], [b].[PagesCount], [b].[PublicationYear]
FROM [Materials] AS [m]
INNER JOIN [Books] AS [b] ON [m].[Id] = [b].[Id]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-07-10 12:46:47.2363|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Authors] AS [a]
2022-07-10 12:46:47.2533|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (13ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Materials] AS [m]
INNER JOIN [Books] AS [b] ON [m].[Id] = [b].[Id]
2022-07-10 12:46:47.2533|INFO|EducationalPortal.Infrastructure.Services.EducationalMaterials.AuthorsService|Returned authors page 1 from database.
2022-07-10 12:46:47.2533|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'EducationalPortal.Application.Paging.PagedList`1[[EducationalPortal.Application.Models.DTO.EducationalMaterials.Properties.AuthorDto, EducationalPortal.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-07-10 12:46:47.2533|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.AuthorsController.GetAuthors (EducationalPortal.API) in 98.6583ms
2022-07-10 12:46:47.2533|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.AuthorsController.GetAuthors (EducationalPortal.API)'
2022-07-10 12:46:47.2533|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/authors?pageSize=6&pageNumber=1 - - - 200 112 application/json;+charset=utf-8 107.8594ms
2022-07-10 12:46:47.3188|INFO|EducationalPortal.Infrastructure.Services.EducationalMaterials.BooksService|Returned books page 1 from database.
2022-07-10 12:46:47.3188|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'EducationalPortal.Application.Paging.PagedList`1[[EducationalPortal.Application.Models.DTO.EducationalMaterials.BookDto, EducationalPortal.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-07-10 12:46:47.3188|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.BooksController.GetBooks (EducationalPortal.API) in 167.8226ms
2022-07-10 12:46:47.3188|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.BooksController.GetBooks (EducationalPortal.API)'
2022-07-10 12:46:47.3188|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/books?pageSize=3&pageNumber=1 - - - 200 819 application/json;+charset=utf-8 186.1831ms
2022-07-10 12:46:49.0906|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:7106/api/videos?pageSize=3&pageNumber=1 - -
2022-07-10 12:46:49.0906|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-07-10 12:46:49.0906|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:7106/api/videos/get-qualities - -
2022-07-10 12:46:49.0906|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:7106/api/videos?pageSize=3&pageNumber=1 - - - 204 - - 1.7417ms
2022-07-10 12:46:49.0906|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-07-10 12:46:49.0906|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:7106/api/videos/get-qualities - - - 204 - - 0.3462ms
2022-07-10 12:46:49.0906|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/videos?pageSize=3&pageNumber=1 - -
2022-07-10 12:46:49.0906|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/videos/get-qualities - -
2022-07-10 12:46:49.0906|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-07-10 12:46:49.0906|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-07-10 12:46:49.0906|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.VideosController.GetQualities (EducationalPortal.API)'
2022-07-10 12:46:49.0906|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.VideosController.GetVideos (EducationalPortal.API)'
2022-07-10 12:46:49.0906|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetVideos", controller = "Videos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EducationalPortal.Application.Models.DTO.EducationalMaterials.VideoDto]]] GetVideos(EducationalPortal.Application.Paging.PageParameters) on controller EducationalPortal.API.Controllers.VideosController (EducationalPortal.API).
2022-07-10 12:46:49.0906|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-07-10 12:46:49.1080|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetQualities", controller = "Videos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EducationalPortal.Application.Models.DTO.EducationalMaterials.Properties.QualityDto]]] GetQualities() on controller EducationalPortal.API.Controllers.VideosController (EducationalPortal.API).
2022-07-10 12:46:49.1080|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-07-10 12:46:49.1255|WARN|Microsoft.EntityFrameworkCore.Query|The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-07-10 12:46:49.1255|WARN|Microsoft.EntityFrameworkCore.Query|The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-07-10 12:46:49.2604|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (130ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[Link], [m].[Name], [v].[Duration], [v].[QualityId]
FROM [Materials] AS [m]
INNER JOIN [Videos] AS [v] ON [m].[Id] = [v].[Id]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-07-10 12:46:49.2877|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Materials] AS [m]
INNER JOIN [Videos] AS [v] ON [m].[Id] = [v].[Id]
2022-07-10 12:46:49.3029|INFO|EducationalPortal.Infrastructure.Services.EducationalMaterials.VideosService|Returned videos page 1 from database.
2022-07-10 12:46:49.3029|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'EducationalPortal.Application.Paging.PagedList`1[[EducationalPortal.Application.Models.DTO.EducationalMaterials.VideoDto, EducationalPortal.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-07-10 12:46:49.3029|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [q].[Id], [q].[Name]
FROM [Qualities] AS [q]
2022-07-10 12:46:49.3113|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.VideosController.GetVideos (EducationalPortal.API) in 208.3148ms
2022-07-10 12:46:49.3113|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.VideosController.GetVideos (EducationalPortal.API)'
2022-07-10 12:46:49.3113|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/videos?pageSize=3&pageNumber=1 - - - 200 719 application/json;+charset=utf-8 216.5667ms
2022-07-10 12:46:49.3113|INFO|EducationalPortal.Infrastructure.Services.EducationalMaterials.VideosService|Returned all qualities from database.
2022-07-10 12:46:49.3113|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EducationalPortal.Application.Models.DTO.EducationalMaterials.Properties.QualityDto, EducationalPortal.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-07-10 12:46:49.3266|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.VideosController.GetQualities (EducationalPortal.API) in 218.2524ms
2022-07-10 12:46:49.3266|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.VideosController.GetQualities (EducationalPortal.API)'
2022-07-10 12:46:49.3266|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/videos/get-qualities - - - 200 188 application/json;+charset=utf-8 231.6069ms
2022-07-10 12:46:52.5097|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:7106/api/account/my-learning?pageSize=3&pageNumber=1 - -
2022-07-10 12:46:52.5097|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-07-10 12:46:52.5097|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:7106/api/account/my-learning?pageSize=3&pageNumber=1 - - - 204 - - 1.8391ms
2022-07-10 12:46:52.5149|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/account/my-learning?pageSize=3&pageNumber=1 - -
2022-07-10 12:46:52.5149|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-07-10 12:46:52.5149|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.AccountController.MyLearning (EducationalPortal.API)'
2022-07-10 12:46:52.5149|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "MyLearning", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EducationalPortal.Core.Entities.JoinEntities.UsersCourses]]] MyLearning(EducationalPortal.Application.Paging.PageParameters) on controller EducationalPortal.API.Controllers.AccountController (EducationalPortal.API).
2022-07-10 12:46:52.5149|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-07-10 12:46:52.5476|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 450), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[UserId], [t].[CourseId], [t].[LearnedMaterialsCount], [t].[MaterialsCount], [c].[Id], [c].[AuthorId], [c].[Description], [c].[Name], [c].[Price], [c].[ShortDescription], [c].[Thumbnail]
FROM (
    SELECT [u].[UserId], [u].[CourseId], [u].[LearnedMaterialsCount], [u].[MaterialsCount]
    FROM [UsersCourses] AS [u]
    INNER JOIN [Users] AS [u0] ON [u].[UserId] = [u0].[Id]
    WHERE [u0].[Email] = @__email_0
    ORDER BY (SELECT 1)
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t]
INNER JOIN [Courses] AS [c] ON [t].[CourseId] = [c].[Id]
2022-07-10 12:46:52.5476|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [UsersCourses] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[UserId] = [u0].[Id]
WHERE [u0].[Email] = @__email_0
2022-07-10 12:46:52.5476|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Avatar], [t].[Balance], [t].[Email], [t].[Name], [t].[PasswordHash], [t].[Position], [t].[UserTokenId], [t0].[MaterialsId], [t0].[UsersId], [t0].[Id], [t0].[Link], [t0].[Name], [t0].[PublicationDate], [t0].[ResourceId], [t0].[ExtensionId], [t0].[PagesCount], [t0].[PublicationYear], [t0].[Duration], [t0].[QualityId], [t0].[Discriminator]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Balance], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[Position], [u].[UserTokenId]
    FROM [Users] AS [u]
    WHERE [u].[Email] = @__email_0
) AS [t]
LEFT JOIN (
    SELECT [m].[MaterialsId], [m].[UsersId], [t1].[Id], [t1].[Link], [t1].[Name], [t1].[PublicationDate], [t1].[ResourceId], [t1].[ExtensionId], [t1].[PagesCount], [t1].[PublicationYear], [t1].[Duration], [t1].[QualityId], [t1].[Discriminator]
    FROM [MaterialsBaseUser] AS [m]
    INNER JOIN (
        SELECT [m0].[Id], [m0].[Link], [m0].[Name], [a].[PublicationDate], [a].[ResourceId], [b].[ExtensionId], [b].[PagesCount], [b].[PublicationYear], [v].[Duration], [v].[QualityId], CASE
            WHEN [v].[Id] IS NOT NULL THEN N'Video'
            WHEN [b].[Id] IS NOT NULL THEN N'Book'
            WHEN [a].[Id] IS NOT NULL THEN N'Article'
        END AS [Discriminator]
        FROM [Materials] AS [m0]
        LEFT JOIN [Articles] AS [a] ON [m0].[Id] = [a].[Id]
        LEFT JOIN [Books] AS [b] ON [m0].[Id] = [b].[Id]
        LEFT JOIN [Videos] AS [v] ON [m0].[Id] = [v].[Id]
    ) AS [t1] ON [m].[MaterialsId] = [t1].[Id]
) AS [t0] ON [t].[Id] = [t0].[UsersId]
ORDER BY [t].[Id], [t0].[MaterialsId], [t0].[UsersId]
2022-07-10 12:46:52.5599|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[CourseId], [c].[MaterialId], [c].[Index], [t].[Id], [t].[Link], [t].[Name], [t].[PublicationDate], [t].[ResourceId], [t].[ExtensionId], [t].[PagesCount], [t].[PublicationYear], [t].[Duration], [t].[QualityId], [t].[Discriminator]
FROM [CoursesMaterials] AS [c]
INNER JOIN (
    SELECT [m].[Id], [m].[Link], [m].[Name], [a].[PublicationDate], [a].[ResourceId], [b].[ExtensionId], [b].[PagesCount], [b].[PublicationYear], [v].[Duration], [v].[QualityId], CASE
        WHEN [v].[Id] IS NOT NULL THEN N'Video'
        WHEN [b].[Id] IS NOT NULL THEN N'Book'
        WHEN [a].[Id] IS NOT NULL THEN N'Article'
    END AS [Discriminator]
    FROM [Materials] AS [m]
    LEFT JOIN [Articles] AS [a] ON [m].[Id] = [a].[Id]
    LEFT JOIN [Books] AS [b] ON [m].[Id] = [b].[Id]
    LEFT JOIN [Videos] AS [v] ON [m].[Id] = [v].[Id]
) AS [t] ON [c].[MaterialId] = [t].[Id]
WHERE [c].[CourseId] = @__courseId_0
2022-07-10 12:46:52.5599|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [UsersCourses] SET [LearnedMaterialsCount] = @p0, [MaterialsCount] = @p1
WHERE [CourseId] = @p2 AND [UserId] = @p3;
SELECT @@ROWCOUNT;
2022-07-10 12:46:52.5599|INFO|EducationalPortal.Infrastructure.Services.AccountService|Returned users courses page 1 from database.
2022-07-10 12:46:52.5599|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'EducationalPortal.Application.Paging.PagedList`1[[EducationalPortal.Core.Entities.JoinEntities.UsersCourses, EducationalPortal.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-07-10 12:46:52.5599|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.AccountController.MyLearning (EducationalPortal.API) in 48.3954ms
2022-07-10 12:46:52.5599|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.AccountController.MyLearning (EducationalPortal.API)'
2022-07-10 12:46:52.5599|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/account/my-learning?pageSize=3&pageNumber=1 - - - 200 2545 application/json;+charset=utf-8 49.9445ms
2022-07-10 12:46:53.8638|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:7106/api/shopping-cart/total-price - -
2022-07-10 12:46:53.8638|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:7106/api/shopping-cart?pageSize=10&pageNumber=1 - -
2022-07-10 12:46:53.8638|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-07-10 12:46:53.8638|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:7106/api/shopping-cart?pageSize=10&pageNumber=1 - - - 204 - - 1.1784ms
2022-07-10 12:46:53.8638|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-07-10 12:46:53.8638|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:7106/api/shopping-cart/total-price - - - 204 - - 2.8163ms
2022-07-10 12:46:53.8638|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/shopping-cart?pageSize=10&pageNumber=1 - -
2022-07-10 12:46:53.8638|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/shopping-cart/total-price - -
2022-07-10 12:46:53.8638|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-07-10 12:46:53.8638|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-07-10 12:46:53.8638|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.ShoppingCartController.GetTotalPrice (EducationalPortal.API)'
2022-07-10 12:46:53.8638|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.ShoppingCartController.GetCart (EducationalPortal.API)'
2022-07-10 12:46:53.8732|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetTotalPrice", controller = "ShoppingCart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] GetTotalPrice() on controller EducationalPortal.API.Controllers.ShoppingCartController (EducationalPortal.API).
2022-07-10 12:46:53.8732|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetCart", controller = "ShoppingCart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EducationalPortal.Application.Models.DTO.CartItemDto]]] GetCart(EducationalPortal.Application.Paging.PageParameters) on controller EducationalPortal.API.Controllers.ShoppingCartController (EducationalPortal.API).
2022-07-10 12:46:53.8732|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-07-10 12:46:53.8732|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-07-10 12:46:53.8956|WARN|Microsoft.EntityFrameworkCore.Query|The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-07-10 12:46:53.8956|WARN|Microsoft.EntityFrameworkCore.Query|The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-07-10 12:46:53.9179|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (11ms) [Parameters=[@__email_0='?' (Size = 450), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CourseId], [t].[UserId], [c0].[Id], [c0].[AuthorId], [c0].[Description], [c0].[Name], [c0].[Price], [c0].[ShortDescription], [c0].[Thumbnail]
FROM (
    SELECT [c].[Id], [c].[CourseId], [c].[UserId]
    FROM [CartItems] AS [c]
    LEFT JOIN [Users] AS [u] ON [c].[UserId] = [u].[Id]
    WHERE [u].[Email] = @__email_0
    ORDER BY (SELECT 1)
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t]
INNER JOIN [Courses] AS [c0] ON [t].[CourseId] = [c0].[Id]
2022-07-10 12:46:53.9196|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (12ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT COALESCE(SUM([c0].[Price]), 0)
FROM [CartItems] AS [c]
LEFT JOIN [Users] AS [u] ON [c].[UserId] = [u].[Id]
INNER JOIN [Courses] AS [c0] ON [c].[CourseId] = [c0].[Id]
WHERE [u].[Email] = @__email_0
2022-07-10 12:46:53.9196|INFO|EducationalPortal.Infrastructure.Services.ShoppingCartService|Returned total price 0 for cart from database.
2022-07-10 12:46:53.9196|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'System.Int32'.
2022-07-10 12:46:53.9196|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.ShoppingCartController.GetTotalPrice (EducationalPortal.API) in 47.306ms
2022-07-10 12:46:53.9196|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.ShoppingCartController.GetTotalPrice (EducationalPortal.API)'
2022-07-10 12:46:53.9196|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/shopping-cart/total-price - - - 200 1 application/json;+charset=utf-8 52.1619ms
2022-07-10 12:46:53.9196|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [CartItems] AS [c]
LEFT JOIN [Users] AS [u] ON [c].[UserId] = [u].[Id]
WHERE [u].[Email] = @__email_0
2022-07-10 12:46:53.9196|INFO|EducationalPortal.Infrastructure.Services.ShoppingCartService|Returned cart items page 1 from database.
2022-07-10 12:46:53.9196|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'EducationalPortal.Application.Paging.PagedList`1[[EducationalPortal.Application.Models.DTO.CartItemDto, EducationalPortal.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-07-10 12:46:53.9196|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.ShoppingCartController.GetCart (EducationalPortal.API) in 60.6103ms
2022-07-10 12:46:53.9196|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.ShoppingCartController.GetCart (EducationalPortal.API)'
2022-07-10 12:46:53.9196|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/shopping-cart?pageSize=10&pageNumber=1 - - - 200 2 application/json;+charset=utf-8 65.4488ms
2022-07-10 12:46:55.5875|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:7106/api/courses?pageSize=3&pageNumber=1 - -
2022-07-10 12:46:55.5875|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-07-10 12:46:55.5875|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:7106/api/courses?pageSize=3&pageNumber=1 - - - 204 - - 1.9943ms
2022-07-10 12:46:55.5930|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/courses?pageSize=3&pageNumber=1 - -
2022-07-10 12:46:55.5930|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-07-10 12:46:55.5930|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.CoursesController.GetCourses (EducationalPortal.API)'
2022-07-10 12:46:55.5930|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EducationalPortal.Application.Models.DTO.Course.CourseShortDto]]] GetCourses(EducationalPortal.Application.Paging.PageParameters) on controller EducationalPortal.API.Controllers.CoursesController (EducationalPortal.API).
2022-07-10 12:46:55.5930|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-07-10 12:46:55.6070|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[AuthorId], [c].[Description], [c].[Name], [c].[Price], [c].[ShortDescription], [c].[Thumbnail]
FROM [Courses] AS [c]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-07-10 12:46:55.6070|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Courses] AS [c]
2022-07-10 12:46:55.6070|INFO|EducationalPortal.Infrastructure.Services.CoursesService|Returned courses page 1 from database.
2022-07-10 12:46:55.6070|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'EducationalPortal.Application.Paging.PagedList`1[[EducationalPortal.Application.Models.DTO.Course.CourseShortDto, EducationalPortal.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-07-10 12:46:55.6070|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.CoursesController.GetCourses (EducationalPortal.API) in 23.3553ms
2022-07-10 12:46:55.6070|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.CoursesController.GetCourses (EducationalPortal.API)'
2022-07-10 12:46:55.6070|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/courses?pageSize=3&pageNumber=1 - - - 200 818 application/json;+charset=utf-8 24.5063ms
2022-07-10 12:46:56.5782|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:7106/api/account - -
2022-07-10 12:46:56.5782|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-07-10 12:46:56.5782|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:7106/api/account - - - 204 - - 0.8907ms
2022-07-10 12:46:56.5782|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/account - -
2022-07-10 12:46:56.5782|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-07-10 12:46:56.5782|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.AccountController.Profile (EducationalPortal.API)'
2022-07-10 12:46:56.5782|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Profile", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EducationalPortal.Application.Models.DTO.UserDto]] Profile() on controller EducationalPortal.API.Controllers.AccountController (EducationalPortal.API).
2022-07-10 12:46:56.5782|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-07-10 12:46:56.7072|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (29ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Avatar], [t].[Balance], [t].[Email], [t].[Name], [t].[PasswordHash], [t].[Position], [t].[UserTokenId], [c].[Id], [c].[AuthorId], [c].[Description], [c].[Name], [c].[Price], [c].[ShortDescription], [c].[Thumbnail], [t0].[UserId], [t0].[SkillId], [t0].[Level], [t0].[Id], [t0].[Name], [t1].[RolesId], [t1].[UsersId], [t1].[Id], [t1].[Name]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Balance], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[Position], [u].[UserTokenId]
    FROM [Users] AS [u]
    WHERE [u].[Email] = @__email_0
) AS [t]
LEFT JOIN [Courses] AS [c] ON [t].[Id] = [c].[AuthorId]
LEFT JOIN (
    SELECT [u0].[UserId], [u0].[SkillId], [u0].[Level], [s].[Id], [s].[Name]
    FROM [UsersSkills] AS [u0]
    INNER JOIN [Skills] AS [s] ON [u0].[SkillId] = [s].[Id]
) AS [t0] ON [t].[Id] = [t0].[UserId]
LEFT JOIN (
    SELECT [r].[RolesId], [r].[UsersId], [r0].[Id], [r0].[Name]
    FROM [RoleUser] AS [r]
    INNER JOIN [Roles] AS [r0] ON [r].[RolesId] = [r0].[Id]
) AS [t1] ON [t].[Id] = [t1].[UsersId]
ORDER BY [t].[Id], [c].[Id], [t0].[UserId], [t0].[SkillId], [t0].[Id], [t1].[RolesId], [t1].[UsersId]
2022-07-10 12:46:56.7568|INFO|EducationalPortal.Infrastructure.Services.AccountService|Returned user with email: default@gmail.com.
2022-07-10 12:46:56.7568|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'EducationalPortal.Application.Models.DTO.UserDto'.
2022-07-10 12:46:56.7568|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.AccountController.Profile (EducationalPortal.API) in 171.0539ms
2022-07-10 12:46:56.7568|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.AccountController.Profile (EducationalPortal.API)'
2022-07-10 12:46:56.7568|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/account - - - 200 1236 application/json;+charset=utf-8 172.2639ms
2022-07-10 12:49:31.9120|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 OPTIONS https://localhost:7106/api/token/refresh - -
2022-07-10 12:49:31.9120|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-07-10 12:49:31.9120|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 OPTIONS https://localhost:7106/api/token/refresh - - - 204 - - 2.9309ms
2022-07-10 12:49:31.9197|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:7106/api/token/refresh application/json 595
2022-07-10 12:49:31.9197|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-07-10 12:49:31.9197|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:7106/api/token/refresh application/json 595 - 404 0 - 0.6320ms
2022-07-10 21:15:17.5247|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-07-10 21:16:06.2944|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-07-10 21:22:44.8652|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-07-10 21:29:52.9210|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-07-10 21:29:57.2123|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (88ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2022-07-10 21:29:57.5372|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (100ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [EducationalPortal] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
2022-07-10 21:29:57.5688|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (31ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
DROP DATABASE [EducationalPortal];
2022-07-10 21:29:58.2136|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (449ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [EducationalPortal];
2022-07-10 21:29:58.3507|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (137ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [EducationalPortal] SET READ_COMMITTED_SNAPSHOT ON;
END;
2022-07-10 21:29:58.3711|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2022-07-10 21:29:58.6758|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (15ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Authors] (
    [Id] int NOT NULL IDENTITY,
    [FullName] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Authors] PRIMARY KEY ([Id])
);
2022-07-10 21:29:58.6832|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Extensions] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Extensions] PRIMARY KEY ([Id])
);
2022-07-10 21:29:58.6832|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Materials] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    [Link] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Materials] PRIMARY KEY ([Id])
);
2022-07-10 21:29:58.6948|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Qualities] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Qualities] PRIMARY KEY ([Id])
);
2022-07-10 21:29:58.6948|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Resources] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Resources] PRIMARY KEY ([Id])
);
2022-07-10 21:29:58.7115|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Roles] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_Roles] PRIMARY KEY ([Id])
);
2022-07-10 21:29:58.7115|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Skills] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Skills] PRIMARY KEY ([Id])
);
2022-07-10 21:29:58.7115|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [UserToken] (
    [Id] int NOT NULL IDENTITY,
    [RefreshToken] nvarchar(max) NOT NULL,
    [RefreshTokenExpiryTime] datetime2 NOT NULL,
    CONSTRAINT [PK_UserToken] PRIMARY KEY ([Id])
);
2022-07-10 21:29:58.7115|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Books] (
    [Id] int NOT NULL,
    [PagesCount] int NOT NULL,
    [ExtensionId] int NOT NULL,
    [PublicationYear] int NOT NULL,
    CONSTRAINT [PK_Books] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Books_Extensions_ExtensionId] FOREIGN KEY ([ExtensionId]) REFERENCES [Extensions] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Books_Materials_Id] FOREIGN KEY ([Id]) REFERENCES [Materials] ([Id])
);
2022-07-10 21:29:58.7236|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Videos] (
    [Id] int NOT NULL,
    [Duration] datetime2 NOT NULL,
    [QualityId] int NOT NULL,
    CONSTRAINT [PK_Videos] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Videos_Materials_Id] FOREIGN KEY ([Id]) REFERENCES [Materials] ([Id]),
    CONSTRAINT [FK_Videos_Qualities_QualityId] FOREIGN KEY ([QualityId]) REFERENCES [Qualities] ([Id]) ON DELETE CASCADE
);
2022-07-10 21:29:58.7236|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Articles] (
    [Id] int NOT NULL,
    [ResourceId] int NOT NULL,
    [PublicationDate] datetime2 NOT NULL,
    CONSTRAINT [PK_Articles] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Articles_Materials_Id] FOREIGN KEY ([Id]) REFERENCES [Materials] ([Id]),
    CONSTRAINT [FK_Articles_Resources_ResourceId] FOREIGN KEY ([ResourceId]) REFERENCES [Resources] ([Id]) ON DELETE CASCADE
);
2022-07-10 21:29:58.7236|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] nvarchar(450) NOT NULL,
    [Name] nvarchar(max) NOT NULL,
    [Position] nvarchar(max) NULL,
    [Avatar] nvarchar(max) NOT NULL,
    [Email] nvarchar(450) NOT NULL,
    [PasswordHash] nvarchar(max) NOT NULL,
    [Balance] int NOT NULL,
    [UserTokenId] int NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Users_UserToken_UserTokenId] FOREIGN KEY ([UserTokenId]) REFERENCES [UserToken] ([Id])
);
2022-07-10 21:29:58.7236|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [AuthorBook] (
    [AuthorsId] int NOT NULL,
    [BooksId] int NOT NULL,
    CONSTRAINT [PK_AuthorBook] PRIMARY KEY ([AuthorsId], [BooksId]),
    CONSTRAINT [FK_AuthorBook_Authors_AuthorsId] FOREIGN KEY ([AuthorsId]) REFERENCES [Authors] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_AuthorBook_Books_BooksId] FOREIGN KEY ([BooksId]) REFERENCES [Books] ([Id]) ON DELETE CASCADE
);
2022-07-10 21:29:58.7236|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Courses] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    [Thumbnail] nvarchar(max) NOT NULL,
    [ShortDescription] nvarchar(max) NOT NULL,
    [Description] nvarchar(max) NOT NULL,
    [Price] int NOT NULL,
    [AuthorId] nvarchar(450) NULL,
    CONSTRAINT [PK_Courses] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Courses_Users_AuthorId] FOREIGN KEY ([AuthorId]) REFERENCES [Users] ([Id])
);
2022-07-10 21:29:58.7424|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [MaterialsBaseUser] (
    [MaterialsId] int NOT NULL,
    [UsersId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_MaterialsBaseUser] PRIMARY KEY ([MaterialsId], [UsersId]),
    CONSTRAINT [FK_MaterialsBaseUser_Materials_MaterialsId] FOREIGN KEY ([MaterialsId]) REFERENCES [Materials] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_MaterialsBaseUser_Users_UsersId] FOREIGN KEY ([UsersId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2022-07-10 21:29:58.7424|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [RoleUser] (
    [RolesId] int NOT NULL,
    [UsersId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_RoleUser] PRIMARY KEY ([RolesId], [UsersId]),
    CONSTRAINT [FK_RoleUser_Roles_RolesId] FOREIGN KEY ([RolesId]) REFERENCES [Roles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_RoleUser_Users_UsersId] FOREIGN KEY ([UsersId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2022-07-10 21:29:58.7424|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [UsersSkills] (
    [UserId] nvarchar(450) NOT NULL,
    [SkillId] int NOT NULL,
    [Level] int NOT NULL,
    CONSTRAINT [PK_UsersSkills] PRIMARY KEY ([UserId], [SkillId]),
    CONSTRAINT [FK_UsersSkills_Skills_SkillId] FOREIGN KEY ([SkillId]) REFERENCES [Skills] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_UsersSkills_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2022-07-10 21:29:58.7545|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [CartItems] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NULL,
    [CourseId] int NOT NULL,
    CONSTRAINT [PK_CartItems] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_CartItems_Courses_CourseId] FOREIGN KEY ([CourseId]) REFERENCES [Courses] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_CartItems_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id])
);
2022-07-10 21:29:58.7545|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [CoursesMaterials] (
    [CourseId] int NOT NULL,
    [MaterialId] int NOT NULL,
    [Index] int NOT NULL,
    CONSTRAINT [PK_CoursesMaterials] PRIMARY KEY ([CourseId], [MaterialId]),
    CONSTRAINT [FK_CoursesMaterials_Courses_CourseId] FOREIGN KEY ([CourseId]) REFERENCES [Courses] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_CoursesMaterials_Materials_MaterialId] FOREIGN KEY ([MaterialId]) REFERENCES [Materials] ([Id]) ON DELETE CASCADE
);
2022-07-10 21:29:58.7545|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [CoursesSkills] (
    [CourseId] int NOT NULL,
    [SkillId] int NOT NULL,
    CONSTRAINT [PK_CoursesSkills] PRIMARY KEY ([CourseId], [SkillId]),
    CONSTRAINT [FK_CoursesSkills_Courses_CourseId] FOREIGN KEY ([CourseId]) REFERENCES [Courses] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_CoursesSkills_Skills_SkillId] FOREIGN KEY ([SkillId]) REFERENCES [Skills] ([Id]) ON DELETE CASCADE
);
2022-07-10 21:29:58.7545|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [ShoppingHistory] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NULL,
    [CourseId] int NOT NULL,
    [Price] int NOT NULL,
    [Date] datetime2 NOT NULL,
    CONSTRAINT [PK_ShoppingHistory] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_ShoppingHistory_Courses_CourseId] FOREIGN KEY ([CourseId]) REFERENCES [Courses] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_ShoppingHistory_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id])
);
2022-07-10 21:29:58.7545|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [UsersCourses] (
    [UserId] nvarchar(450) NOT NULL,
    [CourseId] int NOT NULL,
    [MaterialsCount] int NOT NULL,
    [LearnedMaterialsCount] int NOT NULL,
    CONSTRAINT [PK_UsersCourses] PRIMARY KEY ([UserId], [CourseId]),
    CONSTRAINT [FK_UsersCourses_Courses_CourseId] FOREIGN KEY ([CourseId]) REFERENCES [Courses] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_UsersCourses_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2022-07-10 21:29:58.7710|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Articles_ResourceId] ON [Articles] ([ResourceId]);
2022-07-10 21:29:58.7710|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_AuthorBook_BooksId] ON [AuthorBook] ([BooksId]);
2022-07-10 21:29:58.7710|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Books_ExtensionId] ON [Books] ([ExtensionId]);
2022-07-10 21:29:58.7710|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_CartItems_CourseId] ON [CartItems] ([CourseId]);
2022-07-10 21:29:58.7710|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_CartItems_UserId] ON [CartItems] ([UserId]);
2022-07-10 21:29:58.7710|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Courses_AuthorId] ON [Courses] ([AuthorId]);
2022-07-10 21:29:58.7710|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_CoursesMaterials_MaterialId] ON [CoursesMaterials] ([MaterialId]);
2022-07-10 21:29:58.7710|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_CoursesSkills_SkillId] ON [CoursesSkills] ([SkillId]);
2022-07-10 21:29:58.7710|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_MaterialsBaseUser_UsersId] ON [MaterialsBaseUser] ([UsersId]);
2022-07-10 21:29:58.7710|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Roles_Name] ON [Roles] ([Name]);
2022-07-10 21:29:58.7710|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_RoleUser_UsersId] ON [RoleUser] ([UsersId]);
2022-07-10 21:29:58.7870|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_ShoppingHistory_CourseId] ON [ShoppingHistory] ([CourseId]);
2022-07-10 21:29:58.7870|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_ShoppingHistory_UserId] ON [ShoppingHistory] ([UserId]);
2022-07-10 21:29:58.7870|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Users_Email] ON [Users] ([Email]);
2022-07-10 21:29:58.7870|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Users_UserTokenId] ON [Users] ([UserTokenId]);
2022-07-10 21:29:58.7870|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_UsersCourses_CourseId] ON [UsersCourses] ([CourseId]);
2022-07-10 21:29:58.7870|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_UsersSkills_SkillId] ON [UsersSkills] ([SkillId]);
2022-07-10 21:29:58.7870|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Videos_QualityId] ON [Videos] ([QualityId]);
2022-07-10 21:29:59.3788|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (167ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
DECLARE @inserted0 TABLE ([Id] int, [_Position] [int]);
MERGE [Qualities] USING (
VALUES (@p0, 0),
(@p1, 1),
(@p2, 2),
(@p3, 3),
(@p4, 4),
(@p5, 5),
(@p6, 6),
(@p7, 7)) AS i ([Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name])
VALUES (i.[Name])
OUTPUT INSERTED.[Id], i._Position
INTO @inserted0;

SELECT [i].[Id] FROM @inserted0 i
ORDER BY [i].[_Position];
2022-07-10 21:29:59.5905|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:29:59.6017|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (6ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Videos] ([Id], [Duration], [QualityId])
VALUES (@p2, @p3, @p4);
2022-07-10 21:29:59.6146|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Extensions] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Extensions]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:29:59.6376|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Authors] ([FullName])
VALUES (@p0);
SELECT [Id]
FROM [Authors]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:29:59.7025|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:29:59.7114|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Books] ([Id], [ExtensionId], [PagesCount], [PublicationYear])
VALUES (@p2, @p3, @p4, @p5);
2022-07-10 21:29:59.7114|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AuthorBook] ([AuthorsId], [BooksId])
VALUES (@p6, @p7);
2022-07-10 21:29:59.7402|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Resources] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Resources]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:29:59.7593|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:29:59.7593|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Articles] ([Id], [PublicationDate], [ResourceId])
VALUES (@p2, @p3, @p4);
2022-07-10 21:29:59.8029|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Skills] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Skills]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:29:59.8029|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Skills] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Skills]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:29:59.8029|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Skills] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Skills]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:29:59.8347|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Roles] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Roles]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:29:59.8347|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Roles] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Roles]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:29:59.8347|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Roles] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Roles]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:29:59.8347|INFO|EducationalPortal.Infrastructure.Services.Identity.PasswordHasher|Hashed password.
2022-07-10 21:29:59.9597|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (8ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (Size = 450), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [Avatar], [Balance], [Email], [Name], [PasswordHash], [Position], [UserTokenId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2022-07-10 21:29:59.9869|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (22ms) [Parameters=[@p8='?' (DbType = Int32), @p9='?' (Size = 450), @p10='?' (DbType = Int32), @p11='?' (Size = 450), @p12='?' (DbType = Int32), @p13='?' (Size = 450), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (Size = 450), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (Size = 450), @p20='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [RoleUser] ([RolesId], [UsersId])
VALUES (@p8, @p9),
(@p10, @p11);
INSERT INTO [UsersSkills] ([SkillId], [UserId], [Level])
VALUES (@p12, @p13, @p14),
(@p15, @p16, @p17),
(@p18, @p19, @p20);
2022-07-10 21:30:00.0732|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Courses] ([AuthorId], [Description], [Name], [Price], [ShortDescription], [Thumbnail])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [Id]
FROM [Courses]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:30:00.0880|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (9ms) [Parameters=[@p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [CoursesMaterials] ([CourseId], [MaterialId], [Index])
VALUES (@p6, @p7, @p8),
(@p9, @p10, @p11),
(@p12, @p13, @p14);
INSERT INTO [CoursesSkills] ([CourseId], [SkillId])
VALUES (@p15, @p16),
(@p17, @p18),
(@p19, @p20);
2022-07-10 21:30:00.1037|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [UsersCourses] ([CourseId], [UserId], [LearnedMaterialsCount], [MaterialsCount])
VALUES (@p0, @p1, @p2, @p3);
2022-07-10 21:30:00.1152|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (8ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
DECLARE @inserted0 TABLE ([Id] int, [_Position] [int]);
MERGE [Skills] USING (
VALUES (@p0, 0),
(@p1, 1),
(@p2, 2),
(@p3, 3),
(@p4, 4),
(@p5, 5),
(@p6, 6),
(@p7, 7),
(@p8, 8)) AS i ([Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name])
VALUES (i.[Name])
OUTPUT INSERTED.[Id], i._Position
INTO @inserted0;

SELECT [i].[Id] FROM @inserted0 i
ORDER BY [i].[_Position];
2022-07-10 21:30:00.1152|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:30:00.1152|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Videos] ([Id], [Duration], [QualityId])
VALUES (@p2, @p3, @p4);
2022-07-10 21:30:00.1152|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:30:00.1152|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Videos] ([Id], [Duration], [QualityId])
VALUES (@p2, @p3, @p4);
2022-07-10 21:30:00.1152|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:30:00.1152|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Videos] ([Id], [Duration], [QualityId])
VALUES (@p2, @p3, @p4);
2022-07-10 21:30:00.1152|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Authors] ([FullName])
VALUES (@p0);
SELECT [Id]
FROM [Authors]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:30:00.1152|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:30:00.1152|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Books] ([Id], [ExtensionId], [PagesCount], [PublicationYear])
VALUES (@p2, @p3, @p4, @p5);
2022-07-10 21:30:00.1289|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AuthorBook] ([AuthorsId], [BooksId])
VALUES (@p6, @p7);
2022-07-10 21:30:00.1289|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Authors] ([FullName])
VALUES (@p0);
SELECT [Id]
FROM [Authors]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:30:00.1289|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:30:00.1289|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Books] ([Id], [ExtensionId], [PagesCount], [PublicationYear])
VALUES (@p2, @p3, @p4, @p5);
2022-07-10 21:30:00.1289|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AuthorBook] ([AuthorsId], [BooksId])
VALUES (@p6, @p7);
2022-07-10 21:30:00.1289|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Resources] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Resources]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:30:00.1289|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:30:00.1289|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Articles] ([Id], [PublicationDate], [ResourceId])
VALUES (@p2, @p3, @p4);
2022-07-10 21:30:00.1464|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:30:00.1464|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Articles] ([Id], [PublicationDate], [ResourceId])
VALUES (@p2, @p3, @p4);
2022-07-10 21:30:00.1464|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Courses] ([AuthorId], [Description], [Name], [Price], [ShortDescription], [Thumbnail])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [Id]
FROM [Courses]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:30:00.1694|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (14ms) [Parameters=[@p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (DbType = Int32), @p24='?' (DbType = Int32), @p25='?' (DbType = Int32), @p26='?' (DbType = Int32), @p27='?' (DbType = Int32), @p28='?' (DbType = Int32), @p29='?' (DbType = Int32), @p30='?' (DbType = Int32), @p31='?' (DbType = Int32), @p32='?' (DbType = Int32), @p33='?' (DbType = Int32), @p34='?' (DbType = Int32), @p35='?' (DbType = Int32), @p36='?' (DbType = Int32), @p37='?' (DbType = Int32), @p38='?' (DbType = Int32), @p39='?' (DbType = Int32), @p40='?' (DbType = Int32), @p41='?' (DbType = Int32), @p42='?' (DbType = Int32), @p43='?' (DbType = Int32), @p44='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [CoursesMaterials] ([CourseId], [MaterialId], [Index])
VALUES (@p6, @p7, @p8),
(@p9, @p10, @p11),
(@p12, @p13, @p14),
(@p15, @p16, @p17),
(@p18, @p19, @p20),
(@p21, @p22, @p23),
(@p24, @p25, @p26);
INSERT INTO [CoursesSkills] ([CourseId], [SkillId])
VALUES (@p27, @p28),
(@p29, @p30),
(@p31, @p32),
(@p33, @p34),
(@p35, @p36),
(@p37, @p38),
(@p39, @p40),
(@p41, @p42),
(@p43, @p44);
2022-07-10 21:30:00.1694|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Courses] ([AuthorId], [Description], [Name], [Price], [ShortDescription], [Thumbnail])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [Id]
FROM [Courses]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:30:00.1788|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[@p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [CoursesMaterials] ([CourseId], [MaterialId], [Index])
VALUES (@p6, @p7, @p8),
(@p9, @p10, @p11);
INSERT INTO [CoursesSkills] ([CourseId], [SkillId])
VALUES (@p12, @p13),
(@p14, @p15),
(@p16, @p17);
2022-07-10 21:30:01.3232|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\rareb\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-07-10 21:30:02.0149|INFO|Microsoft.Hosting.Lifetime|Now listening on: https://localhost:7106
2022-07-10 21:30:02.0149|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:7105
2022-07-10 21:30:02.0149|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down.
2022-07-10 21:30:02.0149|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development
2022-07-10 21:30:02.0149|INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\rareb\Desktop\github\educational-portal\EducationalPortal\EducationalPortal.API\
2022-07-10 21:30:31.1536|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:7105/swagger - -
2022-07-10 21:30:31.3400|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:7105/swagger - - - 301 0 - 189.4677ms
2022-07-10 21:30:31.3825|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:7105/swagger/index.html - -
2022-07-10 21:30:32.0613|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:7105/swagger/swagger-ui-bundle.js - -
2022-07-10 21:30:32.0613|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:7105/swagger/swagger-ui-standalone-preset.js - -
2022-07-10 21:30:32.0613|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:7105/swagger/swagger-ui.css - -
2022-07-10 21:30:32.0910|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:7105/_vs/browserLink - -
2022-07-10 21:30:32.1008|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:7105/swagger/index.html - - - 200 - text/html;charset=utf-8 718.1770ms
2022-07-10 21:30:32.1158|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:7105/_framework/aspnetcore-browser-refresh.js - -
2022-07-10 21:30:32.1377|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:7105/_framework/aspnetcore-browser-refresh.js - - - 200 12012 application/javascript;+charset=utf-8 20.5268ms
2022-07-10 21:30:32.2446|INFO|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2022-07-10 21:30:32.2446|INFO|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2022-07-10 21:30:32.2446|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:7105/swagger/swagger-ui-standalone-preset.js - - - 200 339486 application/javascript 183.7801ms
2022-07-10 21:30:32.2446|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:7105/swagger/swagger-ui.css - - - 200 143943 text/css 180.0711ms
2022-07-10 21:30:32.2715|INFO|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2022-07-10 21:30:32.2715|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:7105/swagger/swagger-ui-bundle.js - - - 200 1095087 application/javascript 210.4278ms
2022-07-10 21:30:32.5297|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:7105/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 438.6150ms
2022-07-10 21:30:32.7519|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:7105/swagger/v1/swagger.json - -
2022-07-10 21:30:32.8222|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:7105/swagger/favicon-32x32.png - -
2022-07-10 21:30:32.8222|INFO|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2022-07-10 21:30:32.8222|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:7105/swagger/favicon-32x32.png - - - 200 628 image/png 0.3950ms
2022-07-10 21:30:33.1516|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:7105/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 399.6329ms
2022-07-10 21:39:32.1427|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:7105/swagger/index.html - -
2022-07-10 21:39:32.1756|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:7105/swagger/index.html - - - 200 - text/html;charset=utf-8 32.8916ms
2022-07-10 21:39:32.1936|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:7105/_framework/aspnetcore-browser-refresh.js - -
2022-07-10 21:39:32.1936|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:7105/_framework/aspnetcore-browser-refresh.js - - - 200 12012 application/javascript;+charset=utf-8 0.5333ms
2022-07-10 21:39:32.1936|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:7105/_vs/browserLink - -
2022-07-10 21:39:32.2210|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:7105/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 26.6568ms
2022-07-10 21:39:32.7535|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:7105/swagger/v1/swagger.json - -
2022-07-10 21:39:32.8230|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:7105/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 69.4848ms
2022-07-10 21:39:43.7138|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET http://localhost:7105/_framework/aspnetcore-browser-refresh.js - -
2022-07-10 21:39:43.7138|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET http://localhost:7105/_framework/aspnetcore-browser-refresh.js - - - 200 12012 application/javascript;+charset=utf-8 3.1442ms
2022-07-10 21:46:34.5058|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-07-10 21:46:36.8427|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (93ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2022-07-10 21:46:37.1246|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (103ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [EducationalPortal] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
2022-07-10 21:46:37.1511|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (26ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
DROP DATABASE [EducationalPortal];
2022-07-10 21:46:37.6084|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (296ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [EducationalPortal];
2022-07-10 21:46:37.7057|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (97ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [EducationalPortal] SET READ_COMMITTED_SNAPSHOT ON;
END;
2022-07-10 21:46:37.7286|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2022-07-10 21:46:38.0279|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Authors] (
    [Id] int NOT NULL IDENTITY,
    [FullName] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Authors] PRIMARY KEY ([Id])
);
2022-07-10 21:46:38.0279|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Extensions] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Extensions] PRIMARY KEY ([Id])
);
2022-07-10 21:46:38.0279|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Materials] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    [Link] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Materials] PRIMARY KEY ([Id])
);
2022-07-10 21:46:38.0279|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Qualities] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Qualities] PRIMARY KEY ([Id])
);
2022-07-10 21:46:38.0386|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Resources] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Resources] PRIMARY KEY ([Id])
);
2022-07-10 21:46:38.0386|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Roles] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_Roles] PRIMARY KEY ([Id])
);
2022-07-10 21:46:38.0386|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Skills] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Skills] PRIMARY KEY ([Id])
);
2022-07-10 21:46:38.0386|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [UserToken] (
    [Id] int NOT NULL IDENTITY,
    [RefreshToken] nvarchar(max) NOT NULL,
    [RefreshTokenExpiryTime] datetime2 NOT NULL,
    CONSTRAINT [PK_UserToken] PRIMARY KEY ([Id])
);
2022-07-10 21:46:38.0386|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Books] (
    [Id] int NOT NULL,
    [PagesCount] int NOT NULL,
    [ExtensionId] int NOT NULL,
    [PublicationYear] int NOT NULL,
    CONSTRAINT [PK_Books] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Books_Extensions_ExtensionId] FOREIGN KEY ([ExtensionId]) REFERENCES [Extensions] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Books_Materials_Id] FOREIGN KEY ([Id]) REFERENCES [Materials] ([Id])
);
2022-07-10 21:46:38.0609|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (12ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Videos] (
    [Id] int NOT NULL,
    [Duration] datetime2 NOT NULL,
    [QualityId] int NOT NULL,
    CONSTRAINT [PK_Videos] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Videos_Materials_Id] FOREIGN KEY ([Id]) REFERENCES [Materials] ([Id]),
    CONSTRAINT [FK_Videos_Qualities_QualityId] FOREIGN KEY ([QualityId]) REFERENCES [Qualities] ([Id]) ON DELETE CASCADE
);
2022-07-10 21:46:38.0694|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Articles] (
    [Id] int NOT NULL,
    [ResourceId] int NOT NULL,
    [PublicationDate] datetime2 NOT NULL,
    CONSTRAINT [PK_Articles] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Articles_Materials_Id] FOREIGN KEY ([Id]) REFERENCES [Materials] ([Id]),
    CONSTRAINT [FK_Articles_Resources_ResourceId] FOREIGN KEY ([ResourceId]) REFERENCES [Resources] ([Id]) ON DELETE CASCADE
);
2022-07-10 21:46:38.0694|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] nvarchar(450) NOT NULL,
    [Name] nvarchar(max) NOT NULL,
    [Position] nvarchar(max) NULL,
    [Avatar] nvarchar(max) NOT NULL,
    [Email] nvarchar(450) NOT NULL,
    [PasswordHash] nvarchar(max) NOT NULL,
    [Balance] int NOT NULL,
    [UserTokenId] int NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Users_UserToken_UserTokenId] FOREIGN KEY ([UserTokenId]) REFERENCES [UserToken] ([Id])
);
2022-07-10 21:46:38.0694|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [AuthorBook] (
    [AuthorsId] int NOT NULL,
    [BooksId] int NOT NULL,
    CONSTRAINT [PK_AuthorBook] PRIMARY KEY ([AuthorsId], [BooksId]),
    CONSTRAINT [FK_AuthorBook_Authors_AuthorsId] FOREIGN KEY ([AuthorsId]) REFERENCES [Authors] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_AuthorBook_Books_BooksId] FOREIGN KEY ([BooksId]) REFERENCES [Books] ([Id]) ON DELETE CASCADE
);
2022-07-10 21:46:38.0694|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Courses] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    [Thumbnail] nvarchar(max) NOT NULL,
    [ShortDescription] nvarchar(max) NOT NULL,
    [Description] nvarchar(max) NOT NULL,
    [Price] int NOT NULL,
    [AuthorId] nvarchar(450) NULL,
    CONSTRAINT [PK_Courses] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Courses_Users_AuthorId] FOREIGN KEY ([AuthorId]) REFERENCES [Users] ([Id])
);
2022-07-10 21:46:38.0918|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [MaterialsBaseUser] (
    [MaterialsId] int NOT NULL,
    [UsersId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_MaterialsBaseUser] PRIMARY KEY ([MaterialsId], [UsersId]),
    CONSTRAINT [FK_MaterialsBaseUser_Materials_MaterialsId] FOREIGN KEY ([MaterialsId]) REFERENCES [Materials] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_MaterialsBaseUser_Users_UsersId] FOREIGN KEY ([UsersId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2022-07-10 21:46:38.0918|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [RoleUser] (
    [RolesId] int NOT NULL,
    [UsersId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_RoleUser] PRIMARY KEY ([RolesId], [UsersId]),
    CONSTRAINT [FK_RoleUser_Roles_RolesId] FOREIGN KEY ([RolesId]) REFERENCES [Roles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_RoleUser_Users_UsersId] FOREIGN KEY ([UsersId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2022-07-10 21:46:38.1026|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [UsersSkills] (
    [UserId] nvarchar(450) NOT NULL,
    [SkillId] int NOT NULL,
    [Level] int NOT NULL,
    CONSTRAINT [PK_UsersSkills] PRIMARY KEY ([UserId], [SkillId]),
    CONSTRAINT [FK_UsersSkills_Skills_SkillId] FOREIGN KEY ([SkillId]) REFERENCES [Skills] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_UsersSkills_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2022-07-10 21:46:38.1026|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [CartItems] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NULL,
    [CourseId] int NOT NULL,
    CONSTRAINT [PK_CartItems] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_CartItems_Courses_CourseId] FOREIGN KEY ([CourseId]) REFERENCES [Courses] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_CartItems_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id])
);
2022-07-10 21:46:38.1026|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [CoursesMaterials] (
    [CourseId] int NOT NULL,
    [MaterialId] int NOT NULL,
    [Index] int NOT NULL,
    CONSTRAINT [PK_CoursesMaterials] PRIMARY KEY ([CourseId], [MaterialId]),
    CONSTRAINT [FK_CoursesMaterials_Courses_CourseId] FOREIGN KEY ([CourseId]) REFERENCES [Courses] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_CoursesMaterials_Materials_MaterialId] FOREIGN KEY ([MaterialId]) REFERENCES [Materials] ([Id]) ON DELETE CASCADE
);
2022-07-10 21:46:38.1026|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [CoursesSkills] (
    [CourseId] int NOT NULL,
    [SkillId] int NOT NULL,
    CONSTRAINT [PK_CoursesSkills] PRIMARY KEY ([CourseId], [SkillId]),
    CONSTRAINT [FK_CoursesSkills_Courses_CourseId] FOREIGN KEY ([CourseId]) REFERENCES [Courses] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_CoursesSkills_Skills_SkillId] FOREIGN KEY ([SkillId]) REFERENCES [Skills] ([Id]) ON DELETE CASCADE
);
2022-07-10 21:46:38.1156|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [ShoppingHistory] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NULL,
    [CourseId] int NOT NULL,
    [Price] int NOT NULL,
    [Date] datetime2 NOT NULL,
    CONSTRAINT [PK_ShoppingHistory] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_ShoppingHistory_Courses_CourseId] FOREIGN KEY ([CourseId]) REFERENCES [Courses] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_ShoppingHistory_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id])
);
2022-07-10 21:46:38.1156|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [UsersCourses] (
    [UserId] nvarchar(450) NOT NULL,
    [CourseId] int NOT NULL,
    [MaterialsCount] int NOT NULL,
    [LearnedMaterialsCount] int NOT NULL,
    CONSTRAINT [PK_UsersCourses] PRIMARY KEY ([UserId], [CourseId]),
    CONSTRAINT [FK_UsersCourses_Courses_CourseId] FOREIGN KEY ([CourseId]) REFERENCES [Courses] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_UsersCourses_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2022-07-10 21:46:38.1156|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Articles_ResourceId] ON [Articles] ([ResourceId]);
2022-07-10 21:46:38.1156|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_AuthorBook_BooksId] ON [AuthorBook] ([BooksId]);
2022-07-10 21:46:38.1156|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Books_ExtensionId] ON [Books] ([ExtensionId]);
2022-07-10 21:46:38.1156|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_CartItems_CourseId] ON [CartItems] ([CourseId]);
2022-07-10 21:46:38.1156|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_CartItems_UserId] ON [CartItems] ([UserId]);
2022-07-10 21:46:38.1156|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Courses_AuthorId] ON [Courses] ([AuthorId]);
2022-07-10 21:46:38.1303|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_CoursesMaterials_MaterialId] ON [CoursesMaterials] ([MaterialId]);
2022-07-10 21:46:38.1303|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_CoursesSkills_SkillId] ON [CoursesSkills] ([SkillId]);
2022-07-10 21:46:38.1303|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_MaterialsBaseUser_UsersId] ON [MaterialsBaseUser] ([UsersId]);
2022-07-10 21:46:38.1303|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Roles_Name] ON [Roles] ([Name]);
2022-07-10 21:46:38.1303|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_RoleUser_UsersId] ON [RoleUser] ([UsersId]);
2022-07-10 21:46:38.1303|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_ShoppingHistory_CourseId] ON [ShoppingHistory] ([CourseId]);
2022-07-10 21:46:38.1303|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_ShoppingHistory_UserId] ON [ShoppingHistory] ([UserId]);
2022-07-10 21:46:38.1303|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Users_Email] ON [Users] ([Email]);
2022-07-10 21:46:38.1303|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Users_UserTokenId] ON [Users] ([UserTokenId]);
2022-07-10 21:46:38.1303|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_UsersCourses_CourseId] ON [UsersCourses] ([CourseId]);
2022-07-10 21:46:38.1303|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_UsersSkills_SkillId] ON [UsersSkills] ([SkillId]);
2022-07-10 21:46:38.1453|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Videos_QualityId] ON [Videos] ([QualityId]);
2022-07-10 21:46:38.6914|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (85ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
DECLARE @inserted0 TABLE ([Id] int, [_Position] [int]);
MERGE [Qualities] USING (
VALUES (@p0, 0),
(@p1, 1),
(@p2, 2),
(@p3, 3),
(@p4, 4),
(@p5, 5),
(@p6, 6),
(@p7, 7)) AS i ([Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name])
VALUES (i.[Name])
OUTPUT INSERTED.[Id], i._Position
INTO @inserted0;

SELECT [i].[Id] FROM @inserted0 i
ORDER BY [i].[_Position];
2022-07-10 21:46:38.8853|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:46:38.8958|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Videos] ([Id], [Duration], [QualityId])
VALUES (@p2, @p3, @p4);
2022-07-10 21:46:38.8958|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Extensions] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Extensions]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:46:38.9441|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Authors] ([FullName])
VALUES (@p0);
SELECT [Id]
FROM [Authors]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:46:39.0171|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:46:39.0261|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Books] ([Id], [ExtensionId], [PagesCount], [PublicationYear])
VALUES (@p2, @p3, @p4, @p5);
2022-07-10 21:46:39.0261|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AuthorBook] ([AuthorsId], [BooksId])
VALUES (@p6, @p7);
2022-07-10 21:46:39.0435|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Resources] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Resources]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:46:39.0587|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:46:39.0587|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Articles] ([Id], [PublicationDate], [ResourceId])
VALUES (@p2, @p3, @p4);
2022-07-10 21:46:39.0876|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Skills] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Skills]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:46:39.0876|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Skills] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Skills]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:46:39.0876|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Skills] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Skills]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:46:39.1139|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Roles] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Roles]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:46:39.1139|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Roles] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Roles]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:46:39.1139|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Roles] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Roles]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:46:39.1309|INFO|EducationalPortal.Infrastructure.Services.Identity.PasswordHasher|Hashed password.
2022-07-10 21:46:39.2442|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (Size = 450), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [Avatar], [Balance], [Email], [Name], [PasswordHash], [Position], [UserTokenId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2022-07-10 21:46:39.2597|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (13ms) [Parameters=[@p8='?' (DbType = Int32), @p9='?' (Size = 450), @p10='?' (DbType = Int32), @p11='?' (Size = 450), @p12='?' (DbType = Int32), @p13='?' (Size = 450), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (Size = 450), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (Size = 450), @p20='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [RoleUser] ([RolesId], [UsersId])
VALUES (@p8, @p9),
(@p10, @p11);
INSERT INTO [UsersSkills] ([SkillId], [UserId], [Level])
VALUES (@p12, @p13, @p14),
(@p15, @p16, @p17),
(@p18, @p19, @p20);
2022-07-10 21:46:39.3262|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Courses] ([AuthorId], [Description], [Name], [Price], [ShortDescription], [Thumbnail])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [Id]
FROM [Courses]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:46:39.3515|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (19ms) [Parameters=[@p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [CoursesMaterials] ([CourseId], [MaterialId], [Index])
VALUES (@p6, @p7, @p8),
(@p9, @p10, @p11),
(@p12, @p13, @p14);
INSERT INTO [CoursesSkills] ([CourseId], [SkillId])
VALUES (@p15, @p16),
(@p17, @p18),
(@p19, @p20);
2022-07-10 21:46:39.3788|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [UsersCourses] ([CourseId], [UserId], [LearnedMaterialsCount], [MaterialsCount])
VALUES (@p0, @p1, @p2, @p3);
2022-07-10 21:46:39.3913|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (9ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
DECLARE @inserted0 TABLE ([Id] int, [_Position] [int]);
MERGE [Skills] USING (
VALUES (@p0, 0),
(@p1, 1),
(@p2, 2),
(@p3, 3),
(@p4, 4),
(@p5, 5),
(@p6, 6),
(@p7, 7),
(@p8, 8)) AS i ([Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name])
VALUES (i.[Name])
OUTPUT INSERTED.[Id], i._Position
INTO @inserted0;

SELECT [i].[Id] FROM @inserted0 i
ORDER BY [i].[_Position];
2022-07-10 21:46:39.3913|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:46:39.3913|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Videos] ([Id], [Duration], [QualityId])
VALUES (@p2, @p3, @p4);
2022-07-10 21:46:39.3954|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:46:39.3954|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Videos] ([Id], [Duration], [QualityId])
VALUES (@p2, @p3, @p4);
2022-07-10 21:46:39.3954|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:46:39.3954|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Videos] ([Id], [Duration], [QualityId])
VALUES (@p2, @p3, @p4);
2022-07-10 21:46:39.3954|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Authors] ([FullName])
VALUES (@p0);
SELECT [Id]
FROM [Authors]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:46:39.3954|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:46:39.3954|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Books] ([Id], [ExtensionId], [PagesCount], [PublicationYear])
VALUES (@p2, @p3, @p4, @p5);
2022-07-10 21:46:39.3954|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AuthorBook] ([AuthorsId], [BooksId])
VALUES (@p6, @p7);
2022-07-10 21:46:39.3954|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Authors] ([FullName])
VALUES (@p0);
SELECT [Id]
FROM [Authors]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:46:39.3954|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:46:39.3954|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Books] ([Id], [ExtensionId], [PagesCount], [PublicationYear])
VALUES (@p2, @p3, @p4, @p5);
2022-07-10 21:46:39.3954|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AuthorBook] ([AuthorsId], [BooksId])
VALUES (@p6, @p7);
2022-07-10 21:46:39.4109|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Resources] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Resources]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:46:39.4109|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:46:39.4109|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Articles] ([Id], [PublicationDate], [ResourceId])
VALUES (@p2, @p3, @p4);
2022-07-10 21:46:39.4109|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:46:39.4109|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Articles] ([Id], [PublicationDate], [ResourceId])
VALUES (@p2, @p3, @p4);
2022-07-10 21:46:39.4109|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Courses] ([AuthorId], [Description], [Name], [Price], [ShortDescription], [Thumbnail])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [Id]
FROM [Courses]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:46:39.4304|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (9ms) [Parameters=[@p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (DbType = Int32), @p24='?' (DbType = Int32), @p25='?' (DbType = Int32), @p26='?' (DbType = Int32), @p27='?' (DbType = Int32), @p28='?' (DbType = Int32), @p29='?' (DbType = Int32), @p30='?' (DbType = Int32), @p31='?' (DbType = Int32), @p32='?' (DbType = Int32), @p33='?' (DbType = Int32), @p34='?' (DbType = Int32), @p35='?' (DbType = Int32), @p36='?' (DbType = Int32), @p37='?' (DbType = Int32), @p38='?' (DbType = Int32), @p39='?' (DbType = Int32), @p40='?' (DbType = Int32), @p41='?' (DbType = Int32), @p42='?' (DbType = Int32), @p43='?' (DbType = Int32), @p44='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [CoursesMaterials] ([CourseId], [MaterialId], [Index])
VALUES (@p6, @p7, @p8),
(@p9, @p10, @p11),
(@p12, @p13, @p14),
(@p15, @p16, @p17),
(@p18, @p19, @p20),
(@p21, @p22, @p23),
(@p24, @p25, @p26);
INSERT INTO [CoursesSkills] ([CourseId], [SkillId])
VALUES (@p27, @p28),
(@p29, @p30),
(@p31, @p32),
(@p33, @p34),
(@p35, @p36),
(@p37, @p38),
(@p39, @p40),
(@p41, @p42),
(@p43, @p44);
2022-07-10 21:46:39.4304|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Courses] ([AuthorId], [Description], [Name], [Price], [ShortDescription], [Thumbnail])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [Id]
FROM [Courses]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:46:39.4304|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[@p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [CoursesMaterials] ([CourseId], [MaterialId], [Index])
VALUES (@p6, @p7, @p8),
(@p9, @p10, @p11);
INSERT INTO [CoursesSkills] ([CourseId], [SkillId])
VALUES (@p12, @p13),
(@p14, @p15),
(@p16, @p17);
2022-07-10 21:46:39.8211|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\rareb\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-07-10 21:46:40.1728|INFO|Microsoft.Hosting.Lifetime|Now listening on: https://localhost:7106
2022-07-10 21:46:40.1728|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:7105
2022-07-10 21:46:40.1728|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down.
2022-07-10 21:46:40.1728|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development
2022-07-10 21:46:40.1728|INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\rareb\Desktop\github\educational-portal\EducationalPortal\EducationalPortal.API\
2022-07-10 21:47:51.0582|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-07-10 21:47:52.1941|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (94ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2022-07-10 21:47:52.4634|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (68ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [EducationalPortal] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
2022-07-10 21:47:52.4897|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (26ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
DROP DATABASE [EducationalPortal];
2022-07-10 21:47:53.1400|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (484ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [EducationalPortal];
2022-07-10 21:47:53.2087|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (68ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [EducationalPortal] SET READ_COMMITTED_SNAPSHOT ON;
END;
2022-07-10 21:47:53.2295|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2022-07-10 21:47:53.6353|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (12ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Authors] (
    [Id] int NOT NULL IDENTITY,
    [FullName] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Authors] PRIMARY KEY ([Id])
);
2022-07-10 21:47:53.6353|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Extensions] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Extensions] PRIMARY KEY ([Id])
);
2022-07-10 21:47:53.6353|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Materials] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    [Link] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Materials] PRIMARY KEY ([Id])
);
2022-07-10 21:47:53.6353|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Qualities] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Qualities] PRIMARY KEY ([Id])
);
2022-07-10 21:47:53.6353|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Resources] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Resources] PRIMARY KEY ([Id])
);
2022-07-10 21:47:53.6453|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Roles] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_Roles] PRIMARY KEY ([Id])
);
2022-07-10 21:47:53.6453|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Skills] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Skills] PRIMARY KEY ([Id])
);
2022-07-10 21:47:53.6453|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [UserToken] (
    [Id] int NOT NULL IDENTITY,
    [RefreshToken] nvarchar(max) NOT NULL,
    [RefreshTokenExpiryTime] datetime2 NOT NULL,
    CONSTRAINT [PK_UserToken] PRIMARY KEY ([Id])
);
2022-07-10 21:47:53.6453|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Books] (
    [Id] int NOT NULL,
    [PagesCount] int NOT NULL,
    [ExtensionId] int NOT NULL,
    [PublicationYear] int NOT NULL,
    CONSTRAINT [PK_Books] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Books_Extensions_ExtensionId] FOREIGN KEY ([ExtensionId]) REFERENCES [Extensions] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Books_Materials_Id] FOREIGN KEY ([Id]) REFERENCES [Materials] ([Id])
);
2022-07-10 21:47:53.6453|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Videos] (
    [Id] int NOT NULL,
    [Duration] datetime2 NOT NULL,
    [QualityId] int NOT NULL,
    CONSTRAINT [PK_Videos] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Videos_Materials_Id] FOREIGN KEY ([Id]) REFERENCES [Materials] ([Id]),
    CONSTRAINT [FK_Videos_Qualities_QualityId] FOREIGN KEY ([QualityId]) REFERENCES [Qualities] ([Id]) ON DELETE CASCADE
);
2022-07-10 21:47:53.6453|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Articles] (
    [Id] int NOT NULL,
    [ResourceId] int NOT NULL,
    [PublicationDate] datetime2 NOT NULL,
    CONSTRAINT [PK_Articles] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Articles_Materials_Id] FOREIGN KEY ([Id]) REFERENCES [Materials] ([Id]),
    CONSTRAINT [FK_Articles_Resources_ResourceId] FOREIGN KEY ([ResourceId]) REFERENCES [Resources] ([Id]) ON DELETE CASCADE
);
2022-07-10 21:47:53.6453|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] nvarchar(450) NOT NULL,
    [Name] nvarchar(max) NOT NULL,
    [Position] nvarchar(max) NULL,
    [Avatar] nvarchar(max) NOT NULL,
    [Email] nvarchar(450) NOT NULL,
    [PasswordHash] nvarchar(max) NOT NULL,
    [Balance] int NOT NULL,
    [UserTokenId] int NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Users_UserToken_UserTokenId] FOREIGN KEY ([UserTokenId]) REFERENCES [UserToken] ([Id])
);
2022-07-10 21:47:53.6622|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [AuthorBook] (
    [AuthorsId] int NOT NULL,
    [BooksId] int NOT NULL,
    CONSTRAINT [PK_AuthorBook] PRIMARY KEY ([AuthorsId], [BooksId]),
    CONSTRAINT [FK_AuthorBook_Authors_AuthorsId] FOREIGN KEY ([AuthorsId]) REFERENCES [Authors] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_AuthorBook_Books_BooksId] FOREIGN KEY ([BooksId]) REFERENCES [Books] ([Id]) ON DELETE CASCADE
);
2022-07-10 21:47:53.6622|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Courses] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    [Thumbnail] nvarchar(max) NOT NULL,
    [ShortDescription] nvarchar(max) NOT NULL,
    [Description] nvarchar(max) NOT NULL,
    [Price] int NOT NULL,
    [AuthorId] nvarchar(450) NULL,
    CONSTRAINT [PK_Courses] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Courses_Users_AuthorId] FOREIGN KEY ([AuthorId]) REFERENCES [Users] ([Id])
);
2022-07-10 21:47:53.6622|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [MaterialsBaseUser] (
    [MaterialsId] int NOT NULL,
    [UsersId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_MaterialsBaseUser] PRIMARY KEY ([MaterialsId], [UsersId]),
    CONSTRAINT [FK_MaterialsBaseUser_Materials_MaterialsId] FOREIGN KEY ([MaterialsId]) REFERENCES [Materials] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_MaterialsBaseUser_Users_UsersId] FOREIGN KEY ([UsersId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2022-07-10 21:47:53.6622|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [RoleUser] (
    [RolesId] int NOT NULL,
    [UsersId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_RoleUser] PRIMARY KEY ([RolesId], [UsersId]),
    CONSTRAINT [FK_RoleUser_Roles_RolesId] FOREIGN KEY ([RolesId]) REFERENCES [Roles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_RoleUser_Users_UsersId] FOREIGN KEY ([UsersId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2022-07-10 21:47:53.6803|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [UsersSkills] (
    [UserId] nvarchar(450) NOT NULL,
    [SkillId] int NOT NULL,
    [Level] int NOT NULL,
    CONSTRAINT [PK_UsersSkills] PRIMARY KEY ([UserId], [SkillId]),
    CONSTRAINT [FK_UsersSkills_Skills_SkillId] FOREIGN KEY ([SkillId]) REFERENCES [Skills] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_UsersSkills_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2022-07-10 21:47:53.6803|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [CartItems] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NULL,
    [CourseId] int NOT NULL,
    CONSTRAINT [PK_CartItems] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_CartItems_Courses_CourseId] FOREIGN KEY ([CourseId]) REFERENCES [Courses] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_CartItems_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id])
);
2022-07-10 21:47:53.6803|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [CoursesMaterials] (
    [CourseId] int NOT NULL,
    [MaterialId] int NOT NULL,
    [Index] int NOT NULL,
    CONSTRAINT [PK_CoursesMaterials] PRIMARY KEY ([CourseId], [MaterialId]),
    CONSTRAINT [FK_CoursesMaterials_Courses_CourseId] FOREIGN KEY ([CourseId]) REFERENCES [Courses] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_CoursesMaterials_Materials_MaterialId] FOREIGN KEY ([MaterialId]) REFERENCES [Materials] ([Id]) ON DELETE CASCADE
);
2022-07-10 21:47:53.6803|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [CoursesSkills] (
    [CourseId] int NOT NULL,
    [SkillId] int NOT NULL,
    CONSTRAINT [PK_CoursesSkills] PRIMARY KEY ([CourseId], [SkillId]),
    CONSTRAINT [FK_CoursesSkills_Courses_CourseId] FOREIGN KEY ([CourseId]) REFERENCES [Courses] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_CoursesSkills_Skills_SkillId] FOREIGN KEY ([SkillId]) REFERENCES [Skills] ([Id]) ON DELETE CASCADE
);
2022-07-10 21:47:53.6921|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [ShoppingHistory] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NULL,
    [CourseId] int NOT NULL,
    [Price] int NOT NULL,
    [Date] datetime2 NOT NULL,
    CONSTRAINT [PK_ShoppingHistory] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_ShoppingHistory_Courses_CourseId] FOREIGN KEY ([CourseId]) REFERENCES [Courses] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_ShoppingHistory_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id])
);
2022-07-10 21:47:53.6921|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [UsersCourses] (
    [UserId] nvarchar(450) NOT NULL,
    [CourseId] int NOT NULL,
    [MaterialsCount] int NOT NULL,
    [LearnedMaterialsCount] int NOT NULL,
    CONSTRAINT [PK_UsersCourses] PRIMARY KEY ([UserId], [CourseId]),
    CONSTRAINT [FK_UsersCourses_Courses_CourseId] FOREIGN KEY ([CourseId]) REFERENCES [Courses] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_UsersCourses_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2022-07-10 21:47:53.6921|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Articles_ResourceId] ON [Articles] ([ResourceId]);
2022-07-10 21:47:53.6921|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_AuthorBook_BooksId] ON [AuthorBook] ([BooksId]);
2022-07-10 21:47:53.6921|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Books_ExtensionId] ON [Books] ([ExtensionId]);
2022-07-10 21:47:53.6921|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_CartItems_CourseId] ON [CartItems] ([CourseId]);
2022-07-10 21:47:53.6921|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_CartItems_UserId] ON [CartItems] ([UserId]);
2022-07-10 21:47:53.6921|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Courses_AuthorId] ON [Courses] ([AuthorId]);
2022-07-10 21:47:53.6921|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_CoursesMaterials_MaterialId] ON [CoursesMaterials] ([MaterialId]);
2022-07-10 21:47:53.7071|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_CoursesSkills_SkillId] ON [CoursesSkills] ([SkillId]);
2022-07-10 21:47:53.7071|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_MaterialsBaseUser_UsersId] ON [MaterialsBaseUser] ([UsersId]);
2022-07-10 21:47:53.7071|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Roles_Name] ON [Roles] ([Name]);
2022-07-10 21:47:53.7071|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_RoleUser_UsersId] ON [RoleUser] ([UsersId]);
2022-07-10 21:47:53.7071|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_ShoppingHistory_CourseId] ON [ShoppingHistory] ([CourseId]);
2022-07-10 21:47:53.7071|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_ShoppingHistory_UserId] ON [ShoppingHistory] ([UserId]);
2022-07-10 21:47:53.7071|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Users_Email] ON [Users] ([Email]);
2022-07-10 21:47:53.7071|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Users_UserTokenId] ON [Users] ([UserTokenId]);
2022-07-10 21:47:53.7071|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_UsersCourses_CourseId] ON [UsersCourses] ([CourseId]);
2022-07-10 21:47:53.7071|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_UsersSkills_SkillId] ON [UsersSkills] ([SkillId]);
2022-07-10 21:47:53.7071|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Videos_QualityId] ON [Videos] ([QualityId]);
2022-07-10 21:47:54.2138|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (94ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
DECLARE @inserted0 TABLE ([Id] int, [_Position] [int]);
MERGE [Qualities] USING (
VALUES (@p0, 0),
(@p1, 1),
(@p2, 2),
(@p3, 3),
(@p4, 4),
(@p5, 5),
(@p6, 6),
(@p7, 7)) AS i ([Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name])
VALUES (i.[Name])
OUTPUT INSERTED.[Id], i._Position
INTO @inserted0;

SELECT [i].[Id] FROM @inserted0 i
ORDER BY [i].[_Position];
2022-07-10 21:47:54.4112|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:47:54.4112|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Videos] ([Id], [Duration], [QualityId])
VALUES (@p2, @p3, @p4);
2022-07-10 21:47:54.4437|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Extensions] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Extensions]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:47:54.4644|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Authors] ([FullName])
VALUES (@p0);
SELECT [Id]
FROM [Authors]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:47:54.5285|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:47:54.5373|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Books] ([Id], [ExtensionId], [PagesCount], [PublicationYear])
VALUES (@p2, @p3, @p4, @p5);
2022-07-10 21:47:54.5373|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AuthorBook] ([AuthorsId], [BooksId])
VALUES (@p6, @p7);
2022-07-10 21:47:54.5555|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Resources] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Resources]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:47:54.5681|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:47:54.5681|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Articles] ([Id], [PublicationDate], [ResourceId])
VALUES (@p2, @p3, @p4);
2022-07-10 21:47:54.6076|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Skills] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Skills]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:47:54.6076|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Skills] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Skills]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:47:54.6151|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Skills] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Skills]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:47:54.6413|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Roles] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Roles]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:47:54.6413|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Roles] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Roles]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:47:54.6413|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Roles] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Roles]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:47:54.6517|INFO|EducationalPortal.Infrastructure.Services.Identity.PasswordHasher|Hashed password.
2022-07-10 21:47:54.7363|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (Size = 450), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [Avatar], [Balance], [Email], [Name], [PasswordHash], [Position], [UserTokenId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2022-07-10 21:47:54.7489|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (10ms) [Parameters=[@p8='?' (DbType = Int32), @p9='?' (Size = 450), @p10='?' (DbType = Int32), @p11='?' (Size = 450), @p12='?' (DbType = Int32), @p13='?' (Size = 450), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (Size = 450), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (Size = 450), @p20='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [RoleUser] ([RolesId], [UsersId])
VALUES (@p8, @p9),
(@p10, @p11);
INSERT INTO [UsersSkills] ([SkillId], [UserId], [Level])
VALUES (@p12, @p13, @p14),
(@p15, @p16, @p17),
(@p18, @p19, @p20);
2022-07-10 21:47:54.8170|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Courses] ([AuthorId], [Description], [Name], [Price], [ShortDescription], [Thumbnail])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [Id]
FROM [Courses]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:47:54.8385|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (10ms) [Parameters=[@p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [CoursesMaterials] ([CourseId], [MaterialId], [Index])
VALUES (@p6, @p7, @p8),
(@p9, @p10, @p11),
(@p12, @p13, @p14);
INSERT INTO [CoursesSkills] ([CourseId], [SkillId])
VALUES (@p15, @p16),
(@p17, @p18),
(@p19, @p20);
2022-07-10 21:47:54.8548|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [UsersCourses] ([CourseId], [UserId], [LearnedMaterialsCount], [MaterialsCount])
VALUES (@p0, @p1, @p2, @p3);
2022-07-10 21:47:54.8651|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (8ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
DECLARE @inserted0 TABLE ([Id] int, [_Position] [int]);
MERGE [Skills] USING (
VALUES (@p0, 0),
(@p1, 1),
(@p2, 2),
(@p3, 3),
(@p4, 4),
(@p5, 5),
(@p6, 6),
(@p7, 7),
(@p8, 8)) AS i ([Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name])
VALUES (i.[Name])
OUTPUT INSERTED.[Id], i._Position
INTO @inserted0;

SELECT [i].[Id] FROM @inserted0 i
ORDER BY [i].[_Position];
2022-07-10 21:47:54.8651|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:47:54.8651|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Videos] ([Id], [Duration], [QualityId])
VALUES (@p2, @p3, @p4);
2022-07-10 21:47:54.8651|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:47:54.8651|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Videos] ([Id], [Duration], [QualityId])
VALUES (@p2, @p3, @p4);
2022-07-10 21:47:54.8651|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:47:54.8651|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Videos] ([Id], [Duration], [QualityId])
VALUES (@p2, @p3, @p4);
2022-07-10 21:47:54.8651|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Authors] ([FullName])
VALUES (@p0);
SELECT [Id]
FROM [Authors]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:47:54.8651|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:47:54.8651|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Books] ([Id], [ExtensionId], [PagesCount], [PublicationYear])
VALUES (@p2, @p3, @p4, @p5);
2022-07-10 21:47:54.8651|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AuthorBook] ([AuthorsId], [BooksId])
VALUES (@p6, @p7);
2022-07-10 21:47:54.8799|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Authors] ([FullName])
VALUES (@p0);
SELECT [Id]
FROM [Authors]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:47:54.8799|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:47:54.8799|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Books] ([Id], [ExtensionId], [PagesCount], [PublicationYear])
VALUES (@p2, @p3, @p4, @p5);
2022-07-10 21:47:54.8799|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AuthorBook] ([AuthorsId], [BooksId])
VALUES (@p6, @p7);
2022-07-10 21:47:54.8799|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Resources] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Resources]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:47:54.8799|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:47:54.8799|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Articles] ([Id], [PublicationDate], [ResourceId])
VALUES (@p2, @p3, @p4);
2022-07-10 21:47:54.8799|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:47:54.8799|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Articles] ([Id], [PublicationDate], [ResourceId])
VALUES (@p2, @p3, @p4);
2022-07-10 21:47:54.8799|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Courses] ([AuthorId], [Description], [Name], [Price], [ShortDescription], [Thumbnail])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [Id]
FROM [Courses]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:47:54.9013|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (6ms) [Parameters=[@p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (DbType = Int32), @p24='?' (DbType = Int32), @p25='?' (DbType = Int32), @p26='?' (DbType = Int32), @p27='?' (DbType = Int32), @p28='?' (DbType = Int32), @p29='?' (DbType = Int32), @p30='?' (DbType = Int32), @p31='?' (DbType = Int32), @p32='?' (DbType = Int32), @p33='?' (DbType = Int32), @p34='?' (DbType = Int32), @p35='?' (DbType = Int32), @p36='?' (DbType = Int32), @p37='?' (DbType = Int32), @p38='?' (DbType = Int32), @p39='?' (DbType = Int32), @p40='?' (DbType = Int32), @p41='?' (DbType = Int32), @p42='?' (DbType = Int32), @p43='?' (DbType = Int32), @p44='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [CoursesMaterials] ([CourseId], [MaterialId], [Index])
VALUES (@p6, @p7, @p8),
(@p9, @p10, @p11),
(@p12, @p13, @p14),
(@p15, @p16, @p17),
(@p18, @p19, @p20),
(@p21, @p22, @p23),
(@p24, @p25, @p26);
INSERT INTO [CoursesSkills] ([CourseId], [SkillId])
VALUES (@p27, @p28),
(@p29, @p30),
(@p31, @p32),
(@p33, @p34),
(@p35, @p36),
(@p37, @p38),
(@p39, @p40),
(@p41, @p42),
(@p43, @p44);
2022-07-10 21:47:54.9013|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Courses] ([AuthorId], [Description], [Name], [Price], [ShortDescription], [Thumbnail])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [Id]
FROM [Courses]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:47:54.9013|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[@p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [CoursesMaterials] ([CourseId], [MaterialId], [Index])
VALUES (@p6, @p7, @p8),
(@p9, @p10, @p11);
INSERT INTO [CoursesSkills] ([CourseId], [SkillId])
VALUES (@p12, @p13),
(@p14, @p15),
(@p16, @p17);
2022-07-10 21:47:55.2865|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\rareb\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-07-10 21:47:55.5999|INFO|Microsoft.Hosting.Lifetime|Now listening on: https://localhost:7106
2022-07-10 21:47:55.5999|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:7105
2022-07-10 21:47:55.5999|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down.
2022-07-10 21:47:55.5999|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development
2022-07-10 21:47:55.5999|INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\rareb\Desktop\github\educational-portal\EducationalPortal\EducationalPortal.API\
2022-07-10 21:49:52.9268|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-07-10 21:49:53.9297|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (83ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2022-07-10 21:49:54.1146|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [EducationalPortal] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
2022-07-10 21:49:54.1393|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (24ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
DROP DATABASE [EducationalPortal];
2022-07-10 21:49:54.5531|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (236ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [EducationalPortal];
2022-07-10 21:49:54.6362|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (83ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [EducationalPortal] SET READ_COMMITTED_SNAPSHOT ON;
END;
2022-07-10 21:49:54.6532|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2022-07-10 21:49:54.9267|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Authors] (
    [Id] int NOT NULL IDENTITY,
    [FullName] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Authors] PRIMARY KEY ([Id])
);
2022-07-10 21:49:54.9267|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Extensions] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Extensions] PRIMARY KEY ([Id])
);
2022-07-10 21:49:54.9267|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Materials] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    [Link] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Materials] PRIMARY KEY ([Id])
);
2022-07-10 21:49:54.9267|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Qualities] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Qualities] PRIMARY KEY ([Id])
);
2022-07-10 21:49:54.9267|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Resources] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Resources] PRIMARY KEY ([Id])
);
2022-07-10 21:49:54.9267|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Roles] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_Roles] PRIMARY KEY ([Id])
);
2022-07-10 21:49:54.9267|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Skills] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Skills] PRIMARY KEY ([Id])
);
2022-07-10 21:49:54.9267|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [UserToken] (
    [Id] int NOT NULL IDENTITY,
    [RefreshToken] nvarchar(max) NOT NULL,
    [RefreshTokenExpiryTime] datetime2 NOT NULL,
    CONSTRAINT [PK_UserToken] PRIMARY KEY ([Id])
);
2022-07-10 21:49:54.9435|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Books] (
    [Id] int NOT NULL,
    [PagesCount] int NOT NULL,
    [ExtensionId] int NOT NULL,
    [PublicationYear] int NOT NULL,
    CONSTRAINT [PK_Books] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Books_Extensions_ExtensionId] FOREIGN KEY ([ExtensionId]) REFERENCES [Extensions] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Books_Materials_Id] FOREIGN KEY ([Id]) REFERENCES [Materials] ([Id])
);
2022-07-10 21:49:54.9435|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Videos] (
    [Id] int NOT NULL,
    [Duration] datetime2 NOT NULL,
    [QualityId] int NOT NULL,
    CONSTRAINT [PK_Videos] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Videos_Materials_Id] FOREIGN KEY ([Id]) REFERENCES [Materials] ([Id]),
    CONSTRAINT [FK_Videos_Qualities_QualityId] FOREIGN KEY ([QualityId]) REFERENCES [Qualities] ([Id]) ON DELETE CASCADE
);
2022-07-10 21:49:54.9435|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Articles] (
    [Id] int NOT NULL,
    [ResourceId] int NOT NULL,
    [PublicationDate] datetime2 NOT NULL,
    CONSTRAINT [PK_Articles] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Articles_Materials_Id] FOREIGN KEY ([Id]) REFERENCES [Materials] ([Id]),
    CONSTRAINT [FK_Articles_Resources_ResourceId] FOREIGN KEY ([ResourceId]) REFERENCES [Resources] ([Id]) ON DELETE CASCADE
);
2022-07-10 21:49:54.9435|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] nvarchar(450) NOT NULL,
    [Name] nvarchar(max) NOT NULL,
    [Position] nvarchar(max) NULL,
    [Avatar] nvarchar(max) NOT NULL,
    [Email] nvarchar(450) NOT NULL,
    [PasswordHash] nvarchar(max) NOT NULL,
    [Balance] int NOT NULL,
    [UserTokenId] int NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Users_UserToken_UserTokenId] FOREIGN KEY ([UserTokenId]) REFERENCES [UserToken] ([Id])
);
2022-07-10 21:49:54.9435|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [AuthorBook] (
    [AuthorsId] int NOT NULL,
    [BooksId] int NOT NULL,
    CONSTRAINT [PK_AuthorBook] PRIMARY KEY ([AuthorsId], [BooksId]),
    CONSTRAINT [FK_AuthorBook_Authors_AuthorsId] FOREIGN KEY ([AuthorsId]) REFERENCES [Authors] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_AuthorBook_Books_BooksId] FOREIGN KEY ([BooksId]) REFERENCES [Books] ([Id]) ON DELETE CASCADE
);
2022-07-10 21:49:54.9435|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Courses] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    [Thumbnail] nvarchar(max) NOT NULL,
    [ShortDescription] nvarchar(max) NOT NULL,
    [Description] nvarchar(max) NOT NULL,
    [Price] int NOT NULL,
    [AuthorId] nvarchar(450) NULL,
    CONSTRAINT [PK_Courses] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Courses_Users_AuthorId] FOREIGN KEY ([AuthorId]) REFERENCES [Users] ([Id])
);
2022-07-10 21:49:54.9597|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [MaterialsBaseUser] (
    [MaterialsId] int NOT NULL,
    [UsersId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_MaterialsBaseUser] PRIMARY KEY ([MaterialsId], [UsersId]),
    CONSTRAINT [FK_MaterialsBaseUser_Materials_MaterialsId] FOREIGN KEY ([MaterialsId]) REFERENCES [Materials] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_MaterialsBaseUser_Users_UsersId] FOREIGN KEY ([UsersId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2022-07-10 21:49:54.9597|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [RoleUser] (
    [RolesId] int NOT NULL,
    [UsersId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_RoleUser] PRIMARY KEY ([RolesId], [UsersId]),
    CONSTRAINT [FK_RoleUser_Roles_RolesId] FOREIGN KEY ([RolesId]) REFERENCES [Roles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_RoleUser_Users_UsersId] FOREIGN KEY ([UsersId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2022-07-10 21:49:54.9597|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [UsersSkills] (
    [UserId] nvarchar(450) NOT NULL,
    [SkillId] int NOT NULL,
    [Level] int NOT NULL,
    CONSTRAINT [PK_UsersSkills] PRIMARY KEY ([UserId], [SkillId]),
    CONSTRAINT [FK_UsersSkills_Skills_SkillId] FOREIGN KEY ([SkillId]) REFERENCES [Skills] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_UsersSkills_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2022-07-10 21:49:54.9731|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [CartItems] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NULL,
    [CourseId] int NOT NULL,
    CONSTRAINT [PK_CartItems] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_CartItems_Courses_CourseId] FOREIGN KEY ([CourseId]) REFERENCES [Courses] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_CartItems_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id])
);
2022-07-10 21:49:54.9731|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [CoursesMaterials] (
    [CourseId] int NOT NULL,
    [MaterialId] int NOT NULL,
    [Index] int NOT NULL,
    CONSTRAINT [PK_CoursesMaterials] PRIMARY KEY ([CourseId], [MaterialId]),
    CONSTRAINT [FK_CoursesMaterials_Courses_CourseId] FOREIGN KEY ([CourseId]) REFERENCES [Courses] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_CoursesMaterials_Materials_MaterialId] FOREIGN KEY ([MaterialId]) REFERENCES [Materials] ([Id]) ON DELETE CASCADE
);
2022-07-10 21:49:54.9731|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [CoursesSkills] (
    [CourseId] int NOT NULL,
    [SkillId] int NOT NULL,
    CONSTRAINT [PK_CoursesSkills] PRIMARY KEY ([CourseId], [SkillId]),
    CONSTRAINT [FK_CoursesSkills_Courses_CourseId] FOREIGN KEY ([CourseId]) REFERENCES [Courses] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_CoursesSkills_Skills_SkillId] FOREIGN KEY ([SkillId]) REFERENCES [Skills] ([Id]) ON DELETE CASCADE
);
2022-07-10 21:49:54.9731|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [ShoppingHistory] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NULL,
    [CourseId] int NOT NULL,
    [Price] int NOT NULL,
    [Date] datetime2 NOT NULL,
    CONSTRAINT [PK_ShoppingHistory] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_ShoppingHistory_Courses_CourseId] FOREIGN KEY ([CourseId]) REFERENCES [Courses] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_ShoppingHistory_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id])
);
2022-07-10 21:49:54.9889|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [UsersCourses] (
    [UserId] nvarchar(450) NOT NULL,
    [CourseId] int NOT NULL,
    [MaterialsCount] int NOT NULL,
    [LearnedMaterialsCount] int NOT NULL,
    CONSTRAINT [PK_UsersCourses] PRIMARY KEY ([UserId], [CourseId]),
    CONSTRAINT [FK_UsersCourses_Courses_CourseId] FOREIGN KEY ([CourseId]) REFERENCES [Courses] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_UsersCourses_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2022-07-10 21:49:54.9889|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Articles_ResourceId] ON [Articles] ([ResourceId]);
2022-07-10 21:49:54.9889|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_AuthorBook_BooksId] ON [AuthorBook] ([BooksId]);
2022-07-10 21:49:54.9889|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Books_ExtensionId] ON [Books] ([ExtensionId]);
2022-07-10 21:49:54.9889|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_CartItems_CourseId] ON [CartItems] ([CourseId]);
2022-07-10 21:49:54.9889|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_CartItems_UserId] ON [CartItems] ([UserId]);
2022-07-10 21:49:54.9889|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Courses_AuthorId] ON [Courses] ([AuthorId]);
2022-07-10 21:49:55.0056|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_CoursesMaterials_MaterialId] ON [CoursesMaterials] ([MaterialId]);
2022-07-10 21:49:55.0056|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_CoursesSkills_SkillId] ON [CoursesSkills] ([SkillId]);
2022-07-10 21:49:55.0056|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_MaterialsBaseUser_UsersId] ON [MaterialsBaseUser] ([UsersId]);
2022-07-10 21:49:55.0056|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Roles_Name] ON [Roles] ([Name]);
2022-07-10 21:49:55.0056|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_RoleUser_UsersId] ON [RoleUser] ([UsersId]);
2022-07-10 21:49:55.0056|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_ShoppingHistory_CourseId] ON [ShoppingHistory] ([CourseId]);
2022-07-10 21:49:55.0056|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_ShoppingHistory_UserId] ON [ShoppingHistory] ([UserId]);
2022-07-10 21:49:55.0208|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Users_Email] ON [Users] ([Email]);
2022-07-10 21:49:55.0208|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Users_UserTokenId] ON [Users] ([UserTokenId]);
2022-07-10 21:49:55.0208|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_UsersCourses_CourseId] ON [UsersCourses] ([CourseId]);
2022-07-10 21:49:55.0208|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_UsersSkills_SkillId] ON [UsersSkills] ([SkillId]);
2022-07-10 21:49:55.0208|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Videos_QualityId] ON [Videos] ([QualityId]);
2022-07-10 21:49:55.5703|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (73ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
DECLARE @inserted0 TABLE ([Id] int, [_Position] [int]);
MERGE [Qualities] USING (
VALUES (@p0, 0),
(@p1, 1),
(@p2, 2),
(@p3, 3),
(@p4, 4),
(@p5, 5),
(@p6, 6),
(@p7, 7)) AS i ([Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name])
VALUES (i.[Name])
OUTPUT INSERTED.[Id], i._Position
INTO @inserted0;

SELECT [i].[Id] FROM @inserted0 i
ORDER BY [i].[_Position];
2022-07-10 21:49:55.7863|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:49:55.7863|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (6ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Videos] ([Id], [Duration], [QualityId])
VALUES (@p2, @p3, @p4);
2022-07-10 21:49:55.8144|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Extensions] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Extensions]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:49:55.8398|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Authors] ([FullName])
VALUES (@p0);
SELECT [Id]
FROM [Authors]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:49:55.9223|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:49:55.9310|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Books] ([Id], [ExtensionId], [PagesCount], [PublicationYear])
VALUES (@p2, @p3, @p4, @p5);
2022-07-10 21:49:55.9310|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AuthorBook] ([AuthorsId], [BooksId])
VALUES (@p6, @p7);
2022-07-10 21:49:55.9477|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Resources] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Resources]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:49:55.9593|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:49:55.9593|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Articles] ([Id], [PublicationDate], [ResourceId])
VALUES (@p2, @p3, @p4);
2022-07-10 21:49:55.9855|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Skills] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Skills]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:49:55.9900|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Skills] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Skills]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:49:55.9900|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Skills] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Skills]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:49:56.0129|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Roles] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Roles]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:49:56.0129|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Roles] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Roles]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:49:56.0129|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Roles] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Roles]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:49:56.0230|INFO|EducationalPortal.Infrastructure.Services.Identity.PasswordHasher|Hashed password.
2022-07-10 21:49:56.1398|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (Size = 450), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [Avatar], [Balance], [Email], [Name], [PasswordHash], [Position], [UserTokenId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2022-07-10 21:49:56.1533|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (11ms) [Parameters=[@p8='?' (DbType = Int32), @p9='?' (Size = 450), @p10='?' (DbType = Int32), @p11='?' (Size = 450), @p12='?' (DbType = Int32), @p13='?' (Size = 450), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (Size = 450), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (Size = 450), @p20='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [RoleUser] ([RolesId], [UsersId])
VALUES (@p8, @p9),
(@p10, @p11);
INSERT INTO [UsersSkills] ([SkillId], [UserId], [Level])
VALUES (@p12, @p13, @p14),
(@p15, @p16, @p17),
(@p18, @p19, @p20);
2022-07-10 21:49:56.2122|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Courses] ([AuthorId], [Description], [Name], [Price], [ShortDescription], [Thumbnail])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [Id]
FROM [Courses]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:49:56.2275|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (8ms) [Parameters=[@p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [CoursesMaterials] ([CourseId], [MaterialId], [Index])
VALUES (@p6, @p7, @p8),
(@p9, @p10, @p11),
(@p12, @p13, @p14);
INSERT INTO [CoursesSkills] ([CourseId], [SkillId])
VALUES (@p15, @p16),
(@p17, @p18),
(@p19, @p20);
2022-07-10 21:49:56.2432|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [UsersCourses] ([CourseId], [UserId], [LearnedMaterialsCount], [MaterialsCount])
VALUES (@p0, @p1, @p2, @p3);
2022-07-10 21:49:56.2545|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (8ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
DECLARE @inserted0 TABLE ([Id] int, [_Position] [int]);
MERGE [Skills] USING (
VALUES (@p0, 0),
(@p1, 1),
(@p2, 2),
(@p3, 3),
(@p4, 4),
(@p5, 5),
(@p6, 6),
(@p7, 7),
(@p8, 8)) AS i ([Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name])
VALUES (i.[Name])
OUTPUT INSERTED.[Id], i._Position
INTO @inserted0;

SELECT [i].[Id] FROM @inserted0 i
ORDER BY [i].[_Position];
2022-07-10 21:49:56.2545|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:49:56.2545|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Videos] ([Id], [Duration], [QualityId])
VALUES (@p2, @p3, @p4);
2022-07-10 21:49:56.2545|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:49:56.2545|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Videos] ([Id], [Duration], [QualityId])
VALUES (@p2, @p3, @p4);
2022-07-10 21:49:56.2545|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:49:56.2545|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Videos] ([Id], [Duration], [QualityId])
VALUES (@p2, @p3, @p4);
2022-07-10 21:49:56.2545|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Authors] ([FullName])
VALUES (@p0);
SELECT [Id]
FROM [Authors]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:49:56.2545|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:49:56.2545|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Books] ([Id], [ExtensionId], [PagesCount], [PublicationYear])
VALUES (@p2, @p3, @p4, @p5);
2022-07-10 21:49:56.2545|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AuthorBook] ([AuthorsId], [BooksId])
VALUES (@p6, @p7);
2022-07-10 21:49:56.2712|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Authors] ([FullName])
VALUES (@p0);
SELECT [Id]
FROM [Authors]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:49:56.2712|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:49:56.2712|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Books] ([Id], [ExtensionId], [PagesCount], [PublicationYear])
VALUES (@p2, @p3, @p4, @p5);
2022-07-10 21:49:56.2712|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AuthorBook] ([AuthorsId], [BooksId])
VALUES (@p6, @p7);
2022-07-10 21:49:56.2712|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Resources] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Resources]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:49:56.3008|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (7ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:49:56.3024|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Articles] ([Id], [PublicationDate], [ResourceId])
VALUES (@p2, @p3, @p4);
2022-07-10 21:49:56.3024|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (9ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:49:56.3171|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Articles] ([Id], [PublicationDate], [ResourceId])
VALUES (@p2, @p3, @p4);
2022-07-10 21:49:56.3171|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Courses] ([AuthorId], [Description], [Name], [Price], [ShortDescription], [Thumbnail])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [Id]
FROM [Courses]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:49:56.3376|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (11ms) [Parameters=[@p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (DbType = Int32), @p24='?' (DbType = Int32), @p25='?' (DbType = Int32), @p26='?' (DbType = Int32), @p27='?' (DbType = Int32), @p28='?' (DbType = Int32), @p29='?' (DbType = Int32), @p30='?' (DbType = Int32), @p31='?' (DbType = Int32), @p32='?' (DbType = Int32), @p33='?' (DbType = Int32), @p34='?' (DbType = Int32), @p35='?' (DbType = Int32), @p36='?' (DbType = Int32), @p37='?' (DbType = Int32), @p38='?' (DbType = Int32), @p39='?' (DbType = Int32), @p40='?' (DbType = Int32), @p41='?' (DbType = Int32), @p42='?' (DbType = Int32), @p43='?' (DbType = Int32), @p44='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [CoursesMaterials] ([CourseId], [MaterialId], [Index])
VALUES (@p6, @p7, @p8),
(@p9, @p10, @p11),
(@p12, @p13, @p14),
(@p15, @p16, @p17),
(@p18, @p19, @p20),
(@p21, @p22, @p23),
(@p24, @p25, @p26);
INSERT INTO [CoursesSkills] ([CourseId], [SkillId])
VALUES (@p27, @p28),
(@p29, @p30),
(@p31, @p32),
(@p33, @p34),
(@p35, @p36),
(@p37, @p38),
(@p39, @p40),
(@p41, @p42),
(@p43, @p44);
2022-07-10 21:49:56.3376|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Courses] ([AuthorId], [Description], [Name], [Price], [ShortDescription], [Thumbnail])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [Id]
FROM [Courses]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:49:56.3516|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (8ms) [Parameters=[@p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [CoursesMaterials] ([CourseId], [MaterialId], [Index])
VALUES (@p6, @p7, @p8),
(@p9, @p10, @p11);
INSERT INTO [CoursesSkills] ([CourseId], [SkillId])
VALUES (@p12, @p13),
(@p14, @p15),
(@p16, @p17);
2022-07-10 21:49:56.6950|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\rareb\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-07-10 21:51:21.4013|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-07-10 21:51:22.4980|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (90ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2022-07-10 21:51:22.8168|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (103ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [EducationalPortal] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
2022-07-10 21:51:22.8393|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (22ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
DROP DATABASE [EducationalPortal];
2022-07-10 21:51:23.3391|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (343ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [EducationalPortal];
2022-07-10 21:51:23.4559|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (117ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [EducationalPortal] SET READ_COMMITTED_SNAPSHOT ON;
END;
2022-07-10 21:51:23.4778|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2022-07-10 21:51:23.8100|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (16ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Authors] (
    [Id] int NOT NULL IDENTITY,
    [FullName] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Authors] PRIMARY KEY ([Id])
);
2022-07-10 21:51:23.8245|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (12ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Extensions] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Extensions] PRIMARY KEY ([Id])
);
2022-07-10 21:51:23.8364|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Materials] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    [Link] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Materials] PRIMARY KEY ([Id])
);
2022-07-10 21:51:23.8364|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Qualities] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Qualities] PRIMARY KEY ([Id])
);
2022-07-10 21:51:23.8364|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Resources] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Resources] PRIMARY KEY ([Id])
);
2022-07-10 21:51:23.8364|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Roles] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_Roles] PRIMARY KEY ([Id])
);
2022-07-10 21:51:23.8364|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Skills] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Skills] PRIMARY KEY ([Id])
);
2022-07-10 21:51:23.8364|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [UserToken] (
    [Id] int NOT NULL IDENTITY,
    [RefreshToken] nvarchar(max) NOT NULL,
    [RefreshTokenExpiryTime] datetime2 NOT NULL,
    CONSTRAINT [PK_UserToken] PRIMARY KEY ([Id])
);
2022-07-10 21:51:23.8502|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Books] (
    [Id] int NOT NULL,
    [PagesCount] int NOT NULL,
    [ExtensionId] int NOT NULL,
    [PublicationYear] int NOT NULL,
    CONSTRAINT [PK_Books] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Books_Extensions_ExtensionId] FOREIGN KEY ([ExtensionId]) REFERENCES [Extensions] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Books_Materials_Id] FOREIGN KEY ([Id]) REFERENCES [Materials] ([Id])
);
2022-07-10 21:51:23.8502|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Videos] (
    [Id] int NOT NULL,
    [Duration] datetime2 NOT NULL,
    [QualityId] int NOT NULL,
    CONSTRAINT [PK_Videos] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Videos_Materials_Id] FOREIGN KEY ([Id]) REFERENCES [Materials] ([Id]),
    CONSTRAINT [FK_Videos_Qualities_QualityId] FOREIGN KEY ([QualityId]) REFERENCES [Qualities] ([Id]) ON DELETE CASCADE
);
2022-07-10 21:51:23.8502|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Articles] (
    [Id] int NOT NULL,
    [ResourceId] int NOT NULL,
    [PublicationDate] datetime2 NOT NULL,
    CONSTRAINT [PK_Articles] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Articles_Materials_Id] FOREIGN KEY ([Id]) REFERENCES [Materials] ([Id]),
    CONSTRAINT [FK_Articles_Resources_ResourceId] FOREIGN KEY ([ResourceId]) REFERENCES [Resources] ([Id]) ON DELETE CASCADE
);
2022-07-10 21:51:23.8502|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] nvarchar(450) NOT NULL,
    [Name] nvarchar(max) NOT NULL,
    [Position] nvarchar(max) NULL,
    [Avatar] nvarchar(max) NOT NULL,
    [Email] nvarchar(450) NOT NULL,
    [PasswordHash] nvarchar(max) NOT NULL,
    [Balance] int NOT NULL,
    [UserTokenId] int NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Users_UserToken_UserTokenId] FOREIGN KEY ([UserTokenId]) REFERENCES [UserToken] ([Id])
);
2022-07-10 21:51:23.8502|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [AuthorBook] (
    [AuthorsId] int NOT NULL,
    [BooksId] int NOT NULL,
    CONSTRAINT [PK_AuthorBook] PRIMARY KEY ([AuthorsId], [BooksId]),
    CONSTRAINT [FK_AuthorBook_Authors_AuthorsId] FOREIGN KEY ([AuthorsId]) REFERENCES [Authors] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_AuthorBook_Books_BooksId] FOREIGN KEY ([BooksId]) REFERENCES [Books] ([Id]) ON DELETE CASCADE
);
2022-07-10 21:51:23.8639|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Courses] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    [Thumbnail] nvarchar(max) NOT NULL,
    [ShortDescription] nvarchar(max) NOT NULL,
    [Description] nvarchar(max) NOT NULL,
    [Price] int NOT NULL,
    [AuthorId] nvarchar(450) NULL,
    CONSTRAINT [PK_Courses] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Courses_Users_AuthorId] FOREIGN KEY ([AuthorId]) REFERENCES [Users] ([Id])
);
2022-07-10 21:51:23.8639|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [MaterialsBaseUser] (
    [MaterialsId] int NOT NULL,
    [UsersId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_MaterialsBaseUser] PRIMARY KEY ([MaterialsId], [UsersId]),
    CONSTRAINT [FK_MaterialsBaseUser_Materials_MaterialsId] FOREIGN KEY ([MaterialsId]) REFERENCES [Materials] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_MaterialsBaseUser_Users_UsersId] FOREIGN KEY ([UsersId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2022-07-10 21:51:23.8639|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [RoleUser] (
    [RolesId] int NOT NULL,
    [UsersId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_RoleUser] PRIMARY KEY ([RolesId], [UsersId]),
    CONSTRAINT [FK_RoleUser_Roles_RolesId] FOREIGN KEY ([RolesId]) REFERENCES [Roles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_RoleUser_Users_UsersId] FOREIGN KEY ([UsersId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2022-07-10 21:51:23.8639|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [UsersSkills] (
    [UserId] nvarchar(450) NOT NULL,
    [SkillId] int NOT NULL,
    [Level] int NOT NULL,
    CONSTRAINT [PK_UsersSkills] PRIMARY KEY ([UserId], [SkillId]),
    CONSTRAINT [FK_UsersSkills_Skills_SkillId] FOREIGN KEY ([SkillId]) REFERENCES [Skills] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_UsersSkills_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2022-07-10 21:51:23.8639|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [CartItems] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NULL,
    [CourseId] int NOT NULL,
    CONSTRAINT [PK_CartItems] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_CartItems_Courses_CourseId] FOREIGN KEY ([CourseId]) REFERENCES [Courses] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_CartItems_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id])
);
2022-07-10 21:51:23.8803|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [CoursesMaterials] (
    [CourseId] int NOT NULL,
    [MaterialId] int NOT NULL,
    [Index] int NOT NULL,
    CONSTRAINT [PK_CoursesMaterials] PRIMARY KEY ([CourseId], [MaterialId]),
    CONSTRAINT [FK_CoursesMaterials_Courses_CourseId] FOREIGN KEY ([CourseId]) REFERENCES [Courses] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_CoursesMaterials_Materials_MaterialId] FOREIGN KEY ([MaterialId]) REFERENCES [Materials] ([Id]) ON DELETE CASCADE
);
2022-07-10 21:51:23.8803|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [CoursesSkills] (
    [CourseId] int NOT NULL,
    [SkillId] int NOT NULL,
    CONSTRAINT [PK_CoursesSkills] PRIMARY KEY ([CourseId], [SkillId]),
    CONSTRAINT [FK_CoursesSkills_Courses_CourseId] FOREIGN KEY ([CourseId]) REFERENCES [Courses] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_CoursesSkills_Skills_SkillId] FOREIGN KEY ([SkillId]) REFERENCES [Skills] ([Id]) ON DELETE CASCADE
);
2022-07-10 21:51:23.8803|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [ShoppingHistory] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NULL,
    [CourseId] int NOT NULL,
    [Price] int NOT NULL,
    [Date] datetime2 NOT NULL,
    CONSTRAINT [PK_ShoppingHistory] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_ShoppingHistory_Courses_CourseId] FOREIGN KEY ([CourseId]) REFERENCES [Courses] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_ShoppingHistory_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id])
);
2022-07-10 21:51:23.8803|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [UsersCourses] (
    [UserId] nvarchar(450) NOT NULL,
    [CourseId] int NOT NULL,
    [MaterialsCount] int NOT NULL,
    [LearnedMaterialsCount] int NOT NULL,
    CONSTRAINT [PK_UsersCourses] PRIMARY KEY ([UserId], [CourseId]),
    CONSTRAINT [FK_UsersCourses_Courses_CourseId] FOREIGN KEY ([CourseId]) REFERENCES [Courses] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_UsersCourses_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2022-07-10 21:51:23.8803|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Articles_ResourceId] ON [Articles] ([ResourceId]);
2022-07-10 21:51:23.8948|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_AuthorBook_BooksId] ON [AuthorBook] ([BooksId]);
2022-07-10 21:51:23.8948|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Books_ExtensionId] ON [Books] ([ExtensionId]);
2022-07-10 21:51:23.8948|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_CartItems_CourseId] ON [CartItems] ([CourseId]);
2022-07-10 21:51:23.8948|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_CartItems_UserId] ON [CartItems] ([UserId]);
2022-07-10 21:51:23.8948|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Courses_AuthorId] ON [Courses] ([AuthorId]);
2022-07-10 21:51:23.8948|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_CoursesMaterials_MaterialId] ON [CoursesMaterials] ([MaterialId]);
2022-07-10 21:51:23.8948|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_CoursesSkills_SkillId] ON [CoursesSkills] ([SkillId]);
2022-07-10 21:51:23.8948|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_MaterialsBaseUser_UsersId] ON [MaterialsBaseUser] ([UsersId]);
2022-07-10 21:51:23.8948|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Roles_Name] ON [Roles] ([Name]);
2022-07-10 21:51:23.8948|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_RoleUser_UsersId] ON [RoleUser] ([UsersId]);
2022-07-10 21:51:23.8948|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_ShoppingHistory_CourseId] ON [ShoppingHistory] ([CourseId]);
2022-07-10 21:51:23.8948|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_ShoppingHistory_UserId] ON [ShoppingHistory] ([UserId]);
2022-07-10 21:51:23.9118|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Users_Email] ON [Users] ([Email]);
2022-07-10 21:51:23.9118|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Users_UserTokenId] ON [Users] ([UserTokenId]);
2022-07-10 21:51:23.9118|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_UsersCourses_CourseId] ON [UsersCourses] ([CourseId]);
2022-07-10 21:51:23.9118|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_UsersSkills_SkillId] ON [UsersSkills] ([SkillId]);
2022-07-10 21:51:23.9118|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Videos_QualityId] ON [Videos] ([QualityId]);
2022-07-10 21:51:24.4794|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (125ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
DECLARE @inserted0 TABLE ([Id] int, [_Position] [int]);
MERGE [Qualities] USING (
VALUES (@p0, 0),
(@p1, 1),
(@p2, 2),
(@p3, 3),
(@p4, 4),
(@p5, 5),
(@p6, 6),
(@p7, 7)) AS i ([Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name])
VALUES (i.[Name])
OUTPUT INSERTED.[Id], i._Position
INTO @inserted0;

SELECT [i].[Id] FROM @inserted0 i
ORDER BY [i].[_Position];
2022-07-10 21:51:24.6733|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:51:24.6856|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Videos] ([Id], [Duration], [QualityId])
VALUES (@p2, @p3, @p4);
2022-07-10 21:51:24.7032|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Extensions] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Extensions]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:51:24.7225|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Authors] ([FullName])
VALUES (@p0);
SELECT [Id]
FROM [Authors]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:51:24.7847|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:51:24.7936|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Books] ([Id], [ExtensionId], [PagesCount], [PublicationYear])
VALUES (@p2, @p3, @p4, @p5);
2022-07-10 21:51:24.7936|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AuthorBook] ([AuthorsId], [BooksId])
VALUES (@p6, @p7);
2022-07-10 21:51:24.8098|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Resources] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Resources]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:51:24.8244|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:51:24.8244|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Articles] ([Id], [PublicationDate], [ResourceId])
VALUES (@p2, @p3, @p4);
2022-07-10 21:51:24.8545|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Skills] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Skills]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:51:24.8718|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Skills] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Skills]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:51:24.8718|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Skills] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Skills]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:51:24.9172|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (8ms) [Parameters=[@p0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Roles] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Roles]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:51:24.9172|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Roles] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Roles]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:51:24.9172|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Roles] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Roles]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:51:24.9295|INFO|EducationalPortal.Infrastructure.Services.Identity.PasswordHasher|Hashed password.
2022-07-10 21:51:25.0254|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (Size = 450), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [Avatar], [Balance], [Email], [Name], [PasswordHash], [Position], [UserTokenId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2022-07-10 21:51:25.0391|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (11ms) [Parameters=[@p8='?' (DbType = Int32), @p9='?' (Size = 450), @p10='?' (DbType = Int32), @p11='?' (Size = 450), @p12='?' (DbType = Int32), @p13='?' (Size = 450), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (Size = 450), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (Size = 450), @p20='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [RoleUser] ([RolesId], [UsersId])
VALUES (@p8, @p9),
(@p10, @p11);
INSERT INTO [UsersSkills] ([SkillId], [UserId], [Level])
VALUES (@p12, @p13, @p14),
(@p15, @p16, @p17),
(@p18, @p19, @p20);
2022-07-10 21:51:25.1305|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Courses] ([AuthorId], [Description], [Name], [Price], [ShortDescription], [Thumbnail])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [Id]
FROM [Courses]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:51:25.1490|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (9ms) [Parameters=[@p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [CoursesMaterials] ([CourseId], [MaterialId], [Index])
VALUES (@p6, @p7, @p8),
(@p9, @p10, @p11),
(@p12, @p13, @p14);
INSERT INTO [CoursesSkills] ([CourseId], [SkillId])
VALUES (@p15, @p16),
(@p17, @p18),
(@p19, @p20);
2022-07-10 21:51:25.1666|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [UsersCourses] ([CourseId], [UserId], [LearnedMaterialsCount], [MaterialsCount])
VALUES (@p0, @p1, @p2, @p3);
2022-07-10 21:51:25.1778|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (8ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
DECLARE @inserted0 TABLE ([Id] int, [_Position] [int]);
MERGE [Skills] USING (
VALUES (@p0, 0),
(@p1, 1),
(@p2, 2),
(@p3, 3),
(@p4, 4),
(@p5, 5),
(@p6, 6),
(@p7, 7),
(@p8, 8)) AS i ([Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name])
VALUES (i.[Name])
OUTPUT INSERTED.[Id], i._Position
INTO @inserted0;

SELECT [i].[Id] FROM @inserted0 i
ORDER BY [i].[_Position];
2022-07-10 21:51:25.1778|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:51:25.1778|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Videos] ([Id], [Duration], [QualityId])
VALUES (@p2, @p3, @p4);
2022-07-10 21:51:25.1778|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:51:25.1778|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Videos] ([Id], [Duration], [QualityId])
VALUES (@p2, @p3, @p4);
2022-07-10 21:51:25.1778|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:51:25.1778|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Videos] ([Id], [Duration], [QualityId])
VALUES (@p2, @p3, @p4);
2022-07-10 21:51:25.1778|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Authors] ([FullName])
VALUES (@p0);
SELECT [Id]
FROM [Authors]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:51:25.1778|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:51:25.1778|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Books] ([Id], [ExtensionId], [PagesCount], [PublicationYear])
VALUES (@p2, @p3, @p4, @p5);
2022-07-10 21:51:25.1778|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AuthorBook] ([AuthorsId], [BooksId])
VALUES (@p6, @p7);
2022-07-10 21:51:25.1778|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Authors] ([FullName])
VALUES (@p0);
SELECT [Id]
FROM [Authors]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:51:25.1936|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:51:25.1936|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Books] ([Id], [ExtensionId], [PagesCount], [PublicationYear])
VALUES (@p2, @p3, @p4, @p5);
2022-07-10 21:51:25.1936|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AuthorBook] ([AuthorsId], [BooksId])
VALUES (@p6, @p7);
2022-07-10 21:51:25.1936|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Resources] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Resources]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:51:25.1936|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:51:25.1936|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Articles] ([Id], [PublicationDate], [ResourceId])
VALUES (@p2, @p3, @p4);
2022-07-10 21:51:25.1936|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:51:25.1936|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Articles] ([Id], [PublicationDate], [ResourceId])
VALUES (@p2, @p3, @p4);
2022-07-10 21:51:25.1936|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Courses] ([AuthorId], [Description], [Name], [Price], [ShortDescription], [Thumbnail])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [Id]
FROM [Courses]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:51:25.2113|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (6ms) [Parameters=[@p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (DbType = Int32), @p24='?' (DbType = Int32), @p25='?' (DbType = Int32), @p26='?' (DbType = Int32), @p27='?' (DbType = Int32), @p28='?' (DbType = Int32), @p29='?' (DbType = Int32), @p30='?' (DbType = Int32), @p31='?' (DbType = Int32), @p32='?' (DbType = Int32), @p33='?' (DbType = Int32), @p34='?' (DbType = Int32), @p35='?' (DbType = Int32), @p36='?' (DbType = Int32), @p37='?' (DbType = Int32), @p38='?' (DbType = Int32), @p39='?' (DbType = Int32), @p40='?' (DbType = Int32), @p41='?' (DbType = Int32), @p42='?' (DbType = Int32), @p43='?' (DbType = Int32), @p44='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [CoursesMaterials] ([CourseId], [MaterialId], [Index])
VALUES (@p6, @p7, @p8),
(@p9, @p10, @p11),
(@p12, @p13, @p14),
(@p15, @p16, @p17),
(@p18, @p19, @p20),
(@p21, @p22, @p23),
(@p24, @p25, @p26);
INSERT INTO [CoursesSkills] ([CourseId], [SkillId])
VALUES (@p27, @p28),
(@p29, @p30),
(@p31, @p32),
(@p33, @p34),
(@p35, @p36),
(@p37, @p38),
(@p39, @p40),
(@p41, @p42),
(@p43, @p44);
2022-07-10 21:51:25.2113|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Courses] ([AuthorId], [Description], [Name], [Price], [ShortDescription], [Thumbnail])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [Id]
FROM [Courses]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:51:25.2113|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[@p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [CoursesMaterials] ([CourseId], [MaterialId], [Index])
VALUES (@p6, @p7, @p8),
(@p9, @p10, @p11);
INSERT INTO [CoursesSkills] ([CourseId], [SkillId])
VALUES (@p12, @p13),
(@p14, @p15),
(@p16, @p17);
2022-07-10 21:51:25.6113|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\rareb\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-07-10 21:51:25.9591|INFO|Microsoft.Hosting.Lifetime|Now listening on: https://localhost:7106
2022-07-10 21:51:25.9591|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5106
2022-07-10 21:51:25.9591|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down.
2022-07-10 21:51:25.9591|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development
2022-07-10 21:51:25.9591|INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\rareb\Desktop\github\educational-portal\EducationalPortal\EducationalPortal.API\
2022-07-10 21:51:27.0385|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger - -
2022-07-10 21:51:27.4716|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger - - - 301 0 - 442.2047ms
2022-07-10 21:51:27.5401|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/index.html - -
2022-07-10 21:51:28.2239|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/_framework/aspnetcore-browser-refresh.js - -
2022-07-10 21:51:28.2239|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/swagger-ui-standalone-preset.js - -
2022-07-10 21:51:28.2239|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/swagger-ui.css - -
2022-07-10 21:51:28.2239|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/swagger-ui-bundle.js - -
2022-07-10 21:51:28.2401|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/_framework/aspnetcore-browser-refresh.js - - - 200 12012 application/javascript;+charset=utf-8 16.0871ms
2022-07-10 21:51:28.2401|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/_vs/browserLink - -
2022-07-10 21:51:28.2401|INFO|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|The file /swagger-ui-bundle.js was not modified
2022-07-10 21:51:28.2401|INFO|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|The file /swagger-ui.css was not modified
2022-07-10 21:51:28.2401|INFO|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|The file /swagger-ui-standalone-preset.js was not modified
2022-07-10 21:51:28.2401|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/swagger-ui-standalone-preset.js - - - 304 - application/javascript 19.4508ms
2022-07-10 21:51:28.2401|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/swagger-ui.css - - - 304 - text/css 19.7262ms
2022-07-10 21:51:28.2401|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/swagger-ui-bundle.js - - - 304 - application/javascript 18.6335ms
2022-07-10 21:51:28.2401|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/index.html - - - 200 - text/html;charset=utf-8 706.9954ms
2022-07-10 21:51:28.3827|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 142.4265ms
2022-07-10 21:51:28.9209|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/v1/swagger.json - -
2022-07-10 21:51:29.0724|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/favicon-32x32.png - -
2022-07-10 21:51:29.1061|INFO|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2022-07-10 21:51:29.1061|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/favicon-32x32.png - - - 200 628 image/png 33.9495ms
2022-07-10 21:51:29.5883|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 667.3737ms
2022-07-10 21:58:40.6538|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-07-10 21:58:52.1624|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (270ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2022-07-10 21:58:52.6374|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (151ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [EducationalPortal] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
2022-07-10 21:58:52.6767|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (39ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
DROP DATABASE [EducationalPortal];
2022-07-10 21:58:53.4351|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (409ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [EducationalPortal];
2022-07-10 21:58:53.5243|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (89ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [EducationalPortal] SET READ_COMMITTED_SNAPSHOT ON;
END;
2022-07-10 21:58:53.5422|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2022-07-10 21:58:53.8806|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Authors] (
    [Id] int NOT NULL IDENTITY,
    [FullName] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Authors] PRIMARY KEY ([Id])
);
2022-07-10 21:58:53.8806|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Extensions] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Extensions] PRIMARY KEY ([Id])
);
2022-07-10 21:58:53.8806|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Materials] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    [Link] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Materials] PRIMARY KEY ([Id])
);
2022-07-10 21:58:53.8806|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Qualities] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Qualities] PRIMARY KEY ([Id])
);
2022-07-10 21:58:53.8806|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Resources] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Resources] PRIMARY KEY ([Id])
);
2022-07-10 21:58:53.8958|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Roles] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_Roles] PRIMARY KEY ([Id])
);
2022-07-10 21:58:53.8958|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Skills] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Skills] PRIMARY KEY ([Id])
);
2022-07-10 21:58:53.8958|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [UserToken] (
    [Id] int NOT NULL IDENTITY,
    [RefreshToken] nvarchar(max) NOT NULL,
    [RefreshTokenExpiryTime] datetime2 NOT NULL,
    CONSTRAINT [PK_UserToken] PRIMARY KEY ([Id])
);
2022-07-10 21:58:53.8958|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Books] (
    [Id] int NOT NULL,
    [PagesCount] int NOT NULL,
    [ExtensionId] int NOT NULL,
    [PublicationYear] int NOT NULL,
    CONSTRAINT [PK_Books] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Books_Extensions_ExtensionId] FOREIGN KEY ([ExtensionId]) REFERENCES [Extensions] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Books_Materials_Id] FOREIGN KEY ([Id]) REFERENCES [Materials] ([Id])
);
2022-07-10 21:58:53.8958|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Videos] (
    [Id] int NOT NULL,
    [Duration] datetime2 NOT NULL,
    [QualityId] int NOT NULL,
    CONSTRAINT [PK_Videos] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Videos_Materials_Id] FOREIGN KEY ([Id]) REFERENCES [Materials] ([Id]),
    CONSTRAINT [FK_Videos_Qualities_QualityId] FOREIGN KEY ([QualityId]) REFERENCES [Qualities] ([Id]) ON DELETE CASCADE
);
2022-07-10 21:58:53.8958|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Articles] (
    [Id] int NOT NULL,
    [ResourceId] int NOT NULL,
    [PublicationDate] datetime2 NOT NULL,
    CONSTRAINT [PK_Articles] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Articles_Materials_Id] FOREIGN KEY ([Id]) REFERENCES [Materials] ([Id]),
    CONSTRAINT [FK_Articles_Resources_ResourceId] FOREIGN KEY ([ResourceId]) REFERENCES [Resources] ([Id]) ON DELETE CASCADE
);
2022-07-10 21:58:53.8958|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] nvarchar(450) NOT NULL,
    [Name] nvarchar(max) NOT NULL,
    [Position] nvarchar(max) NULL,
    [Avatar] nvarchar(max) NOT NULL,
    [Email] nvarchar(450) NOT NULL,
    [PasswordHash] nvarchar(max) NOT NULL,
    [Balance] int NOT NULL,
    [UserTokenId] int NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Users_UserToken_UserTokenId] FOREIGN KEY ([UserTokenId]) REFERENCES [UserToken] ([Id])
);
2022-07-10 21:58:53.9132|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [AuthorBook] (
    [AuthorsId] int NOT NULL,
    [BooksId] int NOT NULL,
    CONSTRAINT [PK_AuthorBook] PRIMARY KEY ([AuthorsId], [BooksId]),
    CONSTRAINT [FK_AuthorBook_Authors_AuthorsId] FOREIGN KEY ([AuthorsId]) REFERENCES [Authors] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_AuthorBook_Books_BooksId] FOREIGN KEY ([BooksId]) REFERENCES [Books] ([Id]) ON DELETE CASCADE
);
2022-07-10 21:58:53.9132|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Courses] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    [Thumbnail] nvarchar(max) NOT NULL,
    [ShortDescription] nvarchar(max) NOT NULL,
    [Description] nvarchar(max) NOT NULL,
    [Price] int NOT NULL,
    [AuthorId] nvarchar(450) NULL,
    CONSTRAINT [PK_Courses] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Courses_Users_AuthorId] FOREIGN KEY ([AuthorId]) REFERENCES [Users] ([Id])
);
2022-07-10 21:58:53.9132|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [MaterialsBaseUser] (
    [MaterialsId] int NOT NULL,
    [UsersId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_MaterialsBaseUser] PRIMARY KEY ([MaterialsId], [UsersId]),
    CONSTRAINT [FK_MaterialsBaseUser_Materials_MaterialsId] FOREIGN KEY ([MaterialsId]) REFERENCES [Materials] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_MaterialsBaseUser_Users_UsersId] FOREIGN KEY ([UsersId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2022-07-10 21:58:53.9132|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [RoleUser] (
    [RolesId] int NOT NULL,
    [UsersId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_RoleUser] PRIMARY KEY ([RolesId], [UsersId]),
    CONSTRAINT [FK_RoleUser_Roles_RolesId] FOREIGN KEY ([RolesId]) REFERENCES [Roles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_RoleUser_Users_UsersId] FOREIGN KEY ([UsersId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2022-07-10 21:58:53.9260|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [UsersSkills] (
    [UserId] nvarchar(450) NOT NULL,
    [SkillId] int NOT NULL,
    [Level] int NOT NULL,
    CONSTRAINT [PK_UsersSkills] PRIMARY KEY ([UserId], [SkillId]),
    CONSTRAINT [FK_UsersSkills_Skills_SkillId] FOREIGN KEY ([SkillId]) REFERENCES [Skills] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_UsersSkills_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2022-07-10 21:58:53.9260|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [CartItems] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NULL,
    [CourseId] int NOT NULL,
    CONSTRAINT [PK_CartItems] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_CartItems_Courses_CourseId] FOREIGN KEY ([CourseId]) REFERENCES [Courses] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_CartItems_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id])
);
2022-07-10 21:58:53.9260|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [CoursesMaterials] (
    [CourseId] int NOT NULL,
    [MaterialId] int NOT NULL,
    [Index] int NOT NULL,
    CONSTRAINT [PK_CoursesMaterials] PRIMARY KEY ([CourseId], [MaterialId]),
    CONSTRAINT [FK_CoursesMaterials_Courses_CourseId] FOREIGN KEY ([CourseId]) REFERENCES [Courses] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_CoursesMaterials_Materials_MaterialId] FOREIGN KEY ([MaterialId]) REFERENCES [Materials] ([Id]) ON DELETE CASCADE
);
2022-07-10 21:58:53.9260|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [CoursesSkills] (
    [CourseId] int NOT NULL,
    [SkillId] int NOT NULL,
    CONSTRAINT [PK_CoursesSkills] PRIMARY KEY ([CourseId], [SkillId]),
    CONSTRAINT [FK_CoursesSkills_Courses_CourseId] FOREIGN KEY ([CourseId]) REFERENCES [Courses] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_CoursesSkills_Skills_SkillId] FOREIGN KEY ([SkillId]) REFERENCES [Skills] ([Id]) ON DELETE CASCADE
);
2022-07-10 21:58:53.9260|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [ShoppingHistory] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NULL,
    [CourseId] int NOT NULL,
    [Price] int NOT NULL,
    [Date] datetime2 NOT NULL,
    CONSTRAINT [PK_ShoppingHistory] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_ShoppingHistory_Courses_CourseId] FOREIGN KEY ([CourseId]) REFERENCES [Courses] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_ShoppingHistory_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id])
);
2022-07-10 21:58:53.9260|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [UsersCourses] (
    [UserId] nvarchar(450) NOT NULL,
    [CourseId] int NOT NULL,
    [MaterialsCount] int NOT NULL,
    [LearnedMaterialsCount] int NOT NULL,
    CONSTRAINT [PK_UsersCourses] PRIMARY KEY ([UserId], [CourseId]),
    CONSTRAINT [FK_UsersCourses_Courses_CourseId] FOREIGN KEY ([CourseId]) REFERENCES [Courses] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_UsersCourses_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2022-07-10 21:58:53.9424|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Articles_ResourceId] ON [Articles] ([ResourceId]);
2022-07-10 21:58:53.9424|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_AuthorBook_BooksId] ON [AuthorBook] ([BooksId]);
2022-07-10 21:58:53.9424|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Books_ExtensionId] ON [Books] ([ExtensionId]);
2022-07-10 21:58:53.9424|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_CartItems_CourseId] ON [CartItems] ([CourseId]);
2022-07-10 21:58:53.9424|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_CartItems_UserId] ON [CartItems] ([UserId]);
2022-07-10 21:58:53.9424|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Courses_AuthorId] ON [Courses] ([AuthorId]);
2022-07-10 21:58:53.9424|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_CoursesMaterials_MaterialId] ON [CoursesMaterials] ([MaterialId]);
2022-07-10 21:58:53.9424|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_CoursesSkills_SkillId] ON [CoursesSkills] ([SkillId]);
2022-07-10 21:58:53.9424|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_MaterialsBaseUser_UsersId] ON [MaterialsBaseUser] ([UsersId]);
2022-07-10 21:58:53.9424|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Roles_Name] ON [Roles] ([Name]);
2022-07-10 21:58:53.9424|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_RoleUser_UsersId] ON [RoleUser] ([UsersId]);
2022-07-10 21:58:53.9424|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_ShoppingHistory_CourseId] ON [ShoppingHistory] ([CourseId]);
2022-07-10 21:58:53.9578|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_ShoppingHistory_UserId] ON [ShoppingHistory] ([UserId]);
2022-07-10 21:58:53.9578|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Users_Email] ON [Users] ([Email]);
2022-07-10 21:58:53.9578|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Users_UserTokenId] ON [Users] ([UserTokenId]);
2022-07-10 21:58:53.9578|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_UsersCourses_CourseId] ON [UsersCourses] ([CourseId]);
2022-07-10 21:58:53.9578|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_UsersSkills_SkillId] ON [UsersSkills] ([SkillId]);
2022-07-10 21:58:53.9578|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Videos_QualityId] ON [Videos] ([QualityId]);
2022-07-10 21:58:54.6606|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (105ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
DECLARE @inserted0 TABLE ([Id] int, [_Position] [int]);
MERGE [Qualities] USING (
VALUES (@p0, 0),
(@p1, 1),
(@p2, 2),
(@p3, 3),
(@p4, 4),
(@p5, 5),
(@p6, 6),
(@p7, 7)) AS i ([Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name])
VALUES (i.[Name])
OUTPUT INSERTED.[Id], i._Position
INTO @inserted0;

SELECT [i].[Id] FROM @inserted0 i
ORDER BY [i].[_Position];
2022-07-10 21:58:54.8998|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (9ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:58:54.9172|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (7ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Videos] ([Id], [Duration], [QualityId])
VALUES (@p2, @p3, @p4);
2022-07-10 21:58:54.9352|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Extensions] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Extensions]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:58:54.9641|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Authors] ([FullName])
VALUES (@p0);
SELECT [Id]
FROM [Authors]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:58:55.0574|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:58:55.0737|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (10ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Books] ([Id], [ExtensionId], [PagesCount], [PublicationYear])
VALUES (@p2, @p3, @p4, @p5);
2022-07-10 21:58:55.0737|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[@p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AuthorBook] ([AuthorsId], [BooksId])
VALUES (@p6, @p7);
2022-07-10 21:58:55.1265|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Resources] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Resources]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:58:55.1466|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:58:55.1466|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Articles] ([Id], [PublicationDate], [ResourceId])
VALUES (@p2, @p3, @p4);
2022-07-10 21:58:55.1828|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Skills] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Skills]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:58:55.1828|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Skills] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Skills]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:58:55.1828|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Skills] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Skills]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:58:55.2133|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Roles] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Roles]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:58:55.2133|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Roles] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Roles]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:58:55.2133|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Roles] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Roles]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:58:55.2276|INFO|EducationalPortal.Infrastructure.Services.Identity.PasswordHasher|Hashed password.
2022-07-10 21:58:55.3858|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (Size = 450), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [Avatar], [Balance], [Email], [Name], [PasswordHash], [Position], [UserTokenId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2022-07-10 21:58:55.4004|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (12ms) [Parameters=[@p8='?' (DbType = Int32), @p9='?' (Size = 450), @p10='?' (DbType = Int32), @p11='?' (Size = 450), @p12='?' (DbType = Int32), @p13='?' (Size = 450), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (Size = 450), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (Size = 450), @p20='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [RoleUser] ([RolesId], [UsersId])
VALUES (@p8, @p9),
(@p10, @p11);
INSERT INTO [UsersSkills] ([SkillId], [UserId], [Level])
VALUES (@p12, @p13, @p14),
(@p15, @p16, @p17),
(@p18, @p19, @p20);
2022-07-10 21:58:55.4692|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Courses] ([AuthorId], [Description], [Name], [Price], [ShortDescription], [Thumbnail])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [Id]
FROM [Courses]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:58:55.4882|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (11ms) [Parameters=[@p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [CoursesMaterials] ([CourseId], [MaterialId], [Index])
VALUES (@p6, @p7, @p8),
(@p9, @p10, @p11),
(@p12, @p13, @p14);
INSERT INTO [CoursesSkills] ([CourseId], [SkillId])
VALUES (@p15, @p16),
(@p17, @p18),
(@p19, @p20);
2022-07-10 21:58:55.5254|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [UsersCourses] ([CourseId], [UserId], [LearnedMaterialsCount], [MaterialsCount])
VALUES (@p0, @p1, @p2, @p3);
2022-07-10 21:58:55.5501|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (18ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
DECLARE @inserted0 TABLE ([Id] int, [_Position] [int]);
MERGE [Skills] USING (
VALUES (@p0, 0),
(@p1, 1),
(@p2, 2),
(@p3, 3),
(@p4, 4),
(@p5, 5),
(@p6, 6),
(@p7, 7),
(@p8, 8)) AS i ([Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name])
VALUES (i.[Name])
OUTPUT INSERTED.[Id], i._Position
INTO @inserted0;

SELECT [i].[Id] FROM @inserted0 i
ORDER BY [i].[_Position];
2022-07-10 21:58:55.5540|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:58:55.5540|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Videos] ([Id], [Duration], [QualityId])
VALUES (@p2, @p3, @p4);
2022-07-10 21:58:55.5540|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:58:55.5540|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Videos] ([Id], [Duration], [QualityId])
VALUES (@p2, @p3, @p4);
2022-07-10 21:58:55.5540|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:58:55.5540|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Videos] ([Id], [Duration], [QualityId])
VALUES (@p2, @p3, @p4);
2022-07-10 21:58:55.5540|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Authors] ([FullName])
VALUES (@p0);
SELECT [Id]
FROM [Authors]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:58:55.5540|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:58:55.5540|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Books] ([Id], [ExtensionId], [PagesCount], [PublicationYear])
VALUES (@p2, @p3, @p4, @p5);
2022-07-10 21:58:55.5540|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AuthorBook] ([AuthorsId], [BooksId])
VALUES (@p6, @p7);
2022-07-10 21:58:55.5689|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Authors] ([FullName])
VALUES (@p0);
SELECT [Id]
FROM [Authors]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:58:55.5689|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:58:55.5689|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Books] ([Id], [ExtensionId], [PagesCount], [PublicationYear])
VALUES (@p2, @p3, @p4, @p5);
2022-07-10 21:58:55.5689|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AuthorBook] ([AuthorsId], [BooksId])
VALUES (@p6, @p7);
2022-07-10 21:58:55.5689|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Resources] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Resources]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:58:55.5689|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:58:55.5689|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Articles] ([Id], [PublicationDate], [ResourceId])
VALUES (@p2, @p3, @p4);
2022-07-10 21:58:55.5689|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:58:55.5689|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Articles] ([Id], [PublicationDate], [ResourceId])
VALUES (@p2, @p3, @p4);
2022-07-10 21:58:55.5867|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Courses] ([AuthorId], [Description], [Name], [Price], [ShortDescription], [Thumbnail])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [Id]
FROM [Courses]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:58:55.5867|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (8ms) [Parameters=[@p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (DbType = Int32), @p24='?' (DbType = Int32), @p25='?' (DbType = Int32), @p26='?' (DbType = Int32), @p27='?' (DbType = Int32), @p28='?' (DbType = Int32), @p29='?' (DbType = Int32), @p30='?' (DbType = Int32), @p31='?' (DbType = Int32), @p32='?' (DbType = Int32), @p33='?' (DbType = Int32), @p34='?' (DbType = Int32), @p35='?' (DbType = Int32), @p36='?' (DbType = Int32), @p37='?' (DbType = Int32), @p38='?' (DbType = Int32), @p39='?' (DbType = Int32), @p40='?' (DbType = Int32), @p41='?' (DbType = Int32), @p42='?' (DbType = Int32), @p43='?' (DbType = Int32), @p44='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [CoursesMaterials] ([CourseId], [MaterialId], [Index])
VALUES (@p6, @p7, @p8),
(@p9, @p10, @p11),
(@p12, @p13, @p14),
(@p15, @p16, @p17),
(@p18, @p19, @p20),
(@p21, @p22, @p23),
(@p24, @p25, @p26);
INSERT INTO [CoursesSkills] ([CourseId], [SkillId])
VALUES (@p27, @p28),
(@p29, @p30),
(@p31, @p32),
(@p33, @p34),
(@p35, @p36),
(@p37, @p38),
(@p39, @p40),
(@p41, @p42),
(@p43, @p44);
2022-07-10 21:58:55.6003|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Courses] ([AuthorId], [Description], [Name], [Price], [ShortDescription], [Thumbnail])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [Id]
FROM [Courses]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 21:58:55.6003|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (6ms) [Parameters=[@p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [CoursesMaterials] ([CourseId], [MaterialId], [Index])
VALUES (@p6, @p7, @p8),
(@p9, @p10, @p11);
INSERT INTO [CoursesSkills] ([CourseId], [SkillId])
VALUES (@p12, @p13),
(@p14, @p15),
(@p16, @p17);
2022-07-10 21:58:56.0707|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\rareb\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-07-10 21:58:56.3799|INFO|Microsoft.Hosting.Lifetime|Now listening on: https://localhost:7106
2022-07-10 21:58:56.3799|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:7105
2022-07-10 21:58:56.3799|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down.
2022-07-10 21:58:56.3799|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development
2022-07-10 21:58:56.3799|INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\rareb\Desktop\github\educational-portal\EducationalPortal\EducationalPortal.API\
2022-07-10 21:59:57.9462|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-07-10 21:59:59.1892|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (131ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2022-07-10 21:59:59.4451|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (69ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [EducationalPortal] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
2022-07-10 21:59:59.4675|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (22ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
DROP DATABASE [EducationalPortal];
2022-07-10 21:59:59.9056|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (256ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [EducationalPortal];
2022-07-10 22:00:00.0472|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (141ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [EducationalPortal] SET READ_COMMITTED_SNAPSHOT ON;
END;
2022-07-10 22:00:00.0796|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2022-07-10 22:00:00.4691|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (16ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Authors] (
    [Id] int NOT NULL IDENTITY,
    [FullName] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Authors] PRIMARY KEY ([Id])
);
2022-07-10 22:00:00.4862|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (15ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Extensions] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Extensions] PRIMARY KEY ([Id])
);
2022-07-10 22:00:00.4862|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Materials] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    [Link] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Materials] PRIMARY KEY ([Id])
);
2022-07-10 22:00:00.4907|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Qualities] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Qualities] PRIMARY KEY ([Id])
);
2022-07-10 22:00:00.4907|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Resources] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Resources] PRIMARY KEY ([Id])
);
2022-07-10 22:00:00.4907|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Roles] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_Roles] PRIMARY KEY ([Id])
);
2022-07-10 22:00:00.4907|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Skills] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Skills] PRIMARY KEY ([Id])
);
2022-07-10 22:00:00.4907|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [UserToken] (
    [Id] int NOT NULL IDENTITY,
    [RefreshToken] nvarchar(max) NOT NULL,
    [RefreshTokenExpiryTime] datetime2 NOT NULL,
    CONSTRAINT [PK_UserToken] PRIMARY KEY ([Id])
);
2022-07-10 22:00:00.4907|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Books] (
    [Id] int NOT NULL,
    [PagesCount] int NOT NULL,
    [ExtensionId] int NOT NULL,
    [PublicationYear] int NOT NULL,
    CONSTRAINT [PK_Books] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Books_Extensions_ExtensionId] FOREIGN KEY ([ExtensionId]) REFERENCES [Extensions] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Books_Materials_Id] FOREIGN KEY ([Id]) REFERENCES [Materials] ([Id])
);
2022-07-10 22:00:00.5051|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Videos] (
    [Id] int NOT NULL,
    [Duration] datetime2 NOT NULL,
    [QualityId] int NOT NULL,
    CONSTRAINT [PK_Videos] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Videos_Materials_Id] FOREIGN KEY ([Id]) REFERENCES [Materials] ([Id]),
    CONSTRAINT [FK_Videos_Qualities_QualityId] FOREIGN KEY ([QualityId]) REFERENCES [Qualities] ([Id]) ON DELETE CASCADE
);
2022-07-10 22:00:00.5051|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Articles] (
    [Id] int NOT NULL,
    [ResourceId] int NOT NULL,
    [PublicationDate] datetime2 NOT NULL,
    CONSTRAINT [PK_Articles] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Articles_Materials_Id] FOREIGN KEY ([Id]) REFERENCES [Materials] ([Id]),
    CONSTRAINT [FK_Articles_Resources_ResourceId] FOREIGN KEY ([ResourceId]) REFERENCES [Resources] ([Id]) ON DELETE CASCADE
);
2022-07-10 22:00:00.5051|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] nvarchar(450) NOT NULL,
    [Name] nvarchar(max) NOT NULL,
    [Position] nvarchar(max) NULL,
    [Avatar] nvarchar(max) NOT NULL,
    [Email] nvarchar(450) NOT NULL,
    [PasswordHash] nvarchar(max) NOT NULL,
    [Balance] int NOT NULL,
    [UserTokenId] int NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Users_UserToken_UserTokenId] FOREIGN KEY ([UserTokenId]) REFERENCES [UserToken] ([Id])
);
2022-07-10 22:00:00.5051|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [AuthorBook] (
    [AuthorsId] int NOT NULL,
    [BooksId] int NOT NULL,
    CONSTRAINT [PK_AuthorBook] PRIMARY KEY ([AuthorsId], [BooksId]),
    CONSTRAINT [FK_AuthorBook_Authors_AuthorsId] FOREIGN KEY ([AuthorsId]) REFERENCES [Authors] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_AuthorBook_Books_BooksId] FOREIGN KEY ([BooksId]) REFERENCES [Books] ([Id]) ON DELETE CASCADE
);
2022-07-10 22:00:00.5228|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Courses] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    [Thumbnail] nvarchar(max) NOT NULL,
    [ShortDescription] nvarchar(max) NOT NULL,
    [Description] nvarchar(max) NOT NULL,
    [Price] int NOT NULL,
    [AuthorId] nvarchar(450) NULL,
    CONSTRAINT [PK_Courses] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Courses_Users_AuthorId] FOREIGN KEY ([AuthorId]) REFERENCES [Users] ([Id])
);
2022-07-10 22:00:00.5228|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [MaterialsBaseUser] (
    [MaterialsId] int NOT NULL,
    [UsersId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_MaterialsBaseUser] PRIMARY KEY ([MaterialsId], [UsersId]),
    CONSTRAINT [FK_MaterialsBaseUser_Materials_MaterialsId] FOREIGN KEY ([MaterialsId]) REFERENCES [Materials] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_MaterialsBaseUser_Users_UsersId] FOREIGN KEY ([UsersId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2022-07-10 22:00:00.5228|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [RoleUser] (
    [RolesId] int NOT NULL,
    [UsersId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_RoleUser] PRIMARY KEY ([RolesId], [UsersId]),
    CONSTRAINT [FK_RoleUser_Roles_RolesId] FOREIGN KEY ([RolesId]) REFERENCES [Roles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_RoleUser_Users_UsersId] FOREIGN KEY ([UsersId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2022-07-10 22:00:00.5228|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [UsersSkills] (
    [UserId] nvarchar(450) NOT NULL,
    [SkillId] int NOT NULL,
    [Level] int NOT NULL,
    CONSTRAINT [PK_UsersSkills] PRIMARY KEY ([UserId], [SkillId]),
    CONSTRAINT [FK_UsersSkills_Skills_SkillId] FOREIGN KEY ([SkillId]) REFERENCES [Skills] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_UsersSkills_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2022-07-10 22:00:00.5370|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [CartItems] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NULL,
    [CourseId] int NOT NULL,
    CONSTRAINT [PK_CartItems] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_CartItems_Courses_CourseId] FOREIGN KEY ([CourseId]) REFERENCES [Courses] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_CartItems_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id])
);
2022-07-10 22:00:00.5370|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [CoursesMaterials] (
    [CourseId] int NOT NULL,
    [MaterialId] int NOT NULL,
    [Index] int NOT NULL,
    CONSTRAINT [PK_CoursesMaterials] PRIMARY KEY ([CourseId], [MaterialId]),
    CONSTRAINT [FK_CoursesMaterials_Courses_CourseId] FOREIGN KEY ([CourseId]) REFERENCES [Courses] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_CoursesMaterials_Materials_MaterialId] FOREIGN KEY ([MaterialId]) REFERENCES [Materials] ([Id]) ON DELETE CASCADE
);
2022-07-10 22:00:00.5370|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [CoursesSkills] (
    [CourseId] int NOT NULL,
    [SkillId] int NOT NULL,
    CONSTRAINT [PK_CoursesSkills] PRIMARY KEY ([CourseId], [SkillId]),
    CONSTRAINT [FK_CoursesSkills_Courses_CourseId] FOREIGN KEY ([CourseId]) REFERENCES [Courses] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_CoursesSkills_Skills_SkillId] FOREIGN KEY ([SkillId]) REFERENCES [Skills] ([Id]) ON DELETE CASCADE
);
2022-07-10 22:00:00.5370|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [ShoppingHistory] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NULL,
    [CourseId] int NOT NULL,
    [Price] int NOT NULL,
    [Date] datetime2 NOT NULL,
    CONSTRAINT [PK_ShoppingHistory] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_ShoppingHistory_Courses_CourseId] FOREIGN KEY ([CourseId]) REFERENCES [Courses] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_ShoppingHistory_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id])
);
2022-07-10 22:00:00.5560|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [UsersCourses] (
    [UserId] nvarchar(450) NOT NULL,
    [CourseId] int NOT NULL,
    [MaterialsCount] int NOT NULL,
    [LearnedMaterialsCount] int NOT NULL,
    CONSTRAINT [PK_UsersCourses] PRIMARY KEY ([UserId], [CourseId]),
    CONSTRAINT [FK_UsersCourses_Courses_CourseId] FOREIGN KEY ([CourseId]) REFERENCES [Courses] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_UsersCourses_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2022-07-10 22:00:00.5560|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Articles_ResourceId] ON [Articles] ([ResourceId]);
2022-07-10 22:00:00.5560|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_AuthorBook_BooksId] ON [AuthorBook] ([BooksId]);
2022-07-10 22:00:00.5560|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Books_ExtensionId] ON [Books] ([ExtensionId]);
2022-07-10 22:00:00.5560|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_CartItems_CourseId] ON [CartItems] ([CourseId]);
2022-07-10 22:00:00.5560|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_CartItems_UserId] ON [CartItems] ([UserId]);
2022-07-10 22:00:00.5686|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Courses_AuthorId] ON [Courses] ([AuthorId]);
2022-07-10 22:00:00.5686|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_CoursesMaterials_MaterialId] ON [CoursesMaterials] ([MaterialId]);
2022-07-10 22:00:00.5686|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_CoursesSkills_SkillId] ON [CoursesSkills] ([SkillId]);
2022-07-10 22:00:00.5686|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_MaterialsBaseUser_UsersId] ON [MaterialsBaseUser] ([UsersId]);
2022-07-10 22:00:00.5686|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Roles_Name] ON [Roles] ([Name]);
2022-07-10 22:00:00.5686|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_RoleUser_UsersId] ON [RoleUser] ([UsersId]);
2022-07-10 22:00:00.5686|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_ShoppingHistory_CourseId] ON [ShoppingHistory] ([CourseId]);
2022-07-10 22:00:00.5826|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_ShoppingHistory_UserId] ON [ShoppingHistory] ([UserId]);
2022-07-10 22:00:00.5826|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Users_Email] ON [Users] ([Email]);
2022-07-10 22:00:00.5826|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Users_UserTokenId] ON [Users] ([UserTokenId]);
2022-07-10 22:00:00.5826|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_UsersCourses_CourseId] ON [UsersCourses] ([CourseId]);
2022-07-10 22:00:00.5826|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_UsersSkills_SkillId] ON [UsersSkills] ([SkillId]);
2022-07-10 22:00:00.5826|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Videos_QualityId] ON [Videos] ([QualityId]);
2022-07-10 22:00:01.1634|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (178ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
DECLARE @inserted0 TABLE ([Id] int, [_Position] [int]);
MERGE [Qualities] USING (
VALUES (@p0, 0),
(@p1, 1),
(@p2, 2),
(@p3, 3),
(@p4, 4),
(@p5, 5),
(@p6, 6),
(@p7, 7)) AS i ([Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name])
VALUES (i.[Name])
OUTPUT INSERTED.[Id], i._Position
INTO @inserted0;

SELECT [i].[Id] FROM @inserted0 i
ORDER BY [i].[_Position];
2022-07-10 22:00:01.3881|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:00:01.4052|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (8ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Videos] ([Id], [Duration], [QualityId])
VALUES (@p2, @p3, @p4);
2022-07-10 22:00:01.4289|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Extensions] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Extensions]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:00:01.4499|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Authors] ([FullName])
VALUES (@p0);
SELECT [Id]
FROM [Authors]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:00:01.5119|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:00:01.5206|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Books] ([Id], [ExtensionId], [PagesCount], [PublicationYear])
VALUES (@p2, @p3, @p4, @p5);
2022-07-10 22:00:01.5206|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AuthorBook] ([AuthorsId], [BooksId])
VALUES (@p6, @p7);
2022-07-10 22:00:01.5360|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Resources] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Resources]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:00:01.5360|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:00:01.5360|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Articles] ([Id], [PublicationDate], [ResourceId])
VALUES (@p2, @p3, @p4);
2022-07-10 22:00:01.5747|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Skills] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Skills]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:00:01.5747|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Skills] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Skills]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:00:01.5747|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Skills] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Skills]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:00:01.6212|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (9ms) [Parameters=[@p0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Roles] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Roles]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:00:01.6212|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Roles] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Roles]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:00:01.6212|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Roles] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Roles]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:00:01.6462|INFO|EducationalPortal.Infrastructure.Services.Identity.PasswordHasher|Hashed password.
2022-07-10 22:00:01.8072|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (6ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (Size = 450), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [Avatar], [Balance], [Email], [Name], [PasswordHash], [Position], [UserTokenId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2022-07-10 22:00:01.8557|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (40ms) [Parameters=[@p8='?' (DbType = Int32), @p9='?' (Size = 450), @p10='?' (DbType = Int32), @p11='?' (Size = 450), @p12='?' (DbType = Int32), @p13='?' (Size = 450), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (Size = 450), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (Size = 450), @p20='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [RoleUser] ([RolesId], [UsersId])
VALUES (@p8, @p9),
(@p10, @p11);
INSERT INTO [UsersSkills] ([SkillId], [UserId], [Level])
VALUES (@p12, @p13, @p14),
(@p15, @p16, @p17),
(@p18, @p19, @p20);
2022-07-10 22:00:01.9413|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Courses] ([AuthorId], [Description], [Name], [Price], [ShortDescription], [Thumbnail])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [Id]
FROM [Courses]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:00:01.9630|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (12ms) [Parameters=[@p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [CoursesMaterials] ([CourseId], [MaterialId], [Index])
VALUES (@p6, @p7, @p8),
(@p9, @p10, @p11),
(@p12, @p13, @p14);
INSERT INTO [CoursesSkills] ([CourseId], [SkillId])
VALUES (@p15, @p16),
(@p17, @p18),
(@p19, @p20);
2022-07-10 22:00:01.9807|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [UsersCourses] ([CourseId], [UserId], [LearnedMaterialsCount], [MaterialsCount])
VALUES (@p0, @p1, @p2, @p3);
2022-07-10 22:00:01.9920|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (9ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
DECLARE @inserted0 TABLE ([Id] int, [_Position] [int]);
MERGE [Skills] USING (
VALUES (@p0, 0),
(@p1, 1),
(@p2, 2),
(@p3, 3),
(@p4, 4),
(@p5, 5),
(@p6, 6),
(@p7, 7),
(@p8, 8)) AS i ([Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name])
VALUES (i.[Name])
OUTPUT INSERTED.[Id], i._Position
INTO @inserted0;

SELECT [i].[Id] FROM @inserted0 i
ORDER BY [i].[_Position];
2022-07-10 22:00:01.9920|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:00:01.9920|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Videos] ([Id], [Duration], [QualityId])
VALUES (@p2, @p3, @p4);
2022-07-10 22:00:01.9920|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:00:01.9920|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Videos] ([Id], [Duration], [QualityId])
VALUES (@p2, @p3, @p4);
2022-07-10 22:00:01.9920|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:00:01.9920|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Videos] ([Id], [Duration], [QualityId])
VALUES (@p2, @p3, @p4);
2022-07-10 22:00:01.9920|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Authors] ([FullName])
VALUES (@p0);
SELECT [Id]
FROM [Authors]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:00:01.9920|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:00:01.9920|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Books] ([Id], [ExtensionId], [PagesCount], [PublicationYear])
VALUES (@p2, @p3, @p4, @p5);
2022-07-10 22:00:01.9920|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AuthorBook] ([AuthorsId], [BooksId])
VALUES (@p6, @p7);
2022-07-10 22:00:02.0062|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Authors] ([FullName])
VALUES (@p0);
SELECT [Id]
FROM [Authors]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:00:02.0062|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:00:02.0062|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Books] ([Id], [ExtensionId], [PagesCount], [PublicationYear])
VALUES (@p2, @p3, @p4, @p5);
2022-07-10 22:00:02.0062|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AuthorBook] ([AuthorsId], [BooksId])
VALUES (@p6, @p7);
2022-07-10 22:00:02.0062|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Resources] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Resources]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:00:02.0062|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:00:02.0062|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Articles] ([Id], [PublicationDate], [ResourceId])
VALUES (@p2, @p3, @p4);
2022-07-10 22:00:02.0062|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:00:02.0062|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Articles] ([Id], [PublicationDate], [ResourceId])
VALUES (@p2, @p3, @p4);
2022-07-10 22:00:02.0062|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Courses] ([AuthorId], [Description], [Name], [Price], [ShortDescription], [Thumbnail])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [Id]
FROM [Courses]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:00:02.0316|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (11ms) [Parameters=[@p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (DbType = Int32), @p24='?' (DbType = Int32), @p25='?' (DbType = Int32), @p26='?' (DbType = Int32), @p27='?' (DbType = Int32), @p28='?' (DbType = Int32), @p29='?' (DbType = Int32), @p30='?' (DbType = Int32), @p31='?' (DbType = Int32), @p32='?' (DbType = Int32), @p33='?' (DbType = Int32), @p34='?' (DbType = Int32), @p35='?' (DbType = Int32), @p36='?' (DbType = Int32), @p37='?' (DbType = Int32), @p38='?' (DbType = Int32), @p39='?' (DbType = Int32), @p40='?' (DbType = Int32), @p41='?' (DbType = Int32), @p42='?' (DbType = Int32), @p43='?' (DbType = Int32), @p44='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [CoursesMaterials] ([CourseId], [MaterialId], [Index])
VALUES (@p6, @p7, @p8),
(@p9, @p10, @p11),
(@p12, @p13, @p14),
(@p15, @p16, @p17),
(@p18, @p19, @p20),
(@p21, @p22, @p23),
(@p24, @p25, @p26);
INSERT INTO [CoursesSkills] ([CourseId], [SkillId])
VALUES (@p27, @p28),
(@p29, @p30),
(@p31, @p32),
(@p33, @p34),
(@p35, @p36),
(@p37, @p38),
(@p39, @p40),
(@p41, @p42),
(@p43, @p44);
2022-07-10 22:00:02.0365|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Courses] ([AuthorId], [Description], [Name], [Price], [ShortDescription], [Thumbnail])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [Id]
FROM [Courses]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:00:02.0365|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (10ms) [Parameters=[@p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [CoursesMaterials] ([CourseId], [MaterialId], [Index])
VALUES (@p6, @p7, @p8),
(@p9, @p10, @p11);
INSERT INTO [CoursesSkills] ([CourseId], [SkillId])
VALUES (@p12, @p13),
(@p14, @p15),
(@p16, @p17);
2022-07-10 22:00:02.4093|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\rareb\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-07-10 22:00:02.7293|INFO|Microsoft.Hosting.Lifetime|Now listening on: https://localhost:7106
2022-07-10 22:00:02.7293|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5106
2022-07-10 22:00:02.7293|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down.
2022-07-10 22:00:02.7293|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development
2022-07-10 22:00:02.7293|INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\rareb\Desktop\github\educational-portal\EducationalPortal\EducationalPortal.API\
2022-07-10 22:00:04.5805|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/index.html - -
2022-07-10 22:00:05.1733|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/_vs/browserLink - -
2022-07-10 22:00:05.1733|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/_framework/aspnetcore-browser-refresh.js - -
2022-07-10 22:00:05.1899|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/index.html - - - 200 - text/html;charset=utf-8 617.8837ms
2022-07-10 22:00:05.2235|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/_framework/aspnetcore-browser-refresh.js - - - 200 12012 application/javascript;+charset=utf-8 50.2113ms
2022-07-10 22:00:05.3095|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 136.1898ms
2022-07-10 22:00:05.8506|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/v1/swagger.json - -
2022-07-10 22:00:06.2803|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 429.6522ms
2022-07-10 22:01:48.5969|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-07-10 22:01:49.6536|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (101ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2022-07-10 22:01:49.9140|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (71ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [EducationalPortal] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
2022-07-10 22:01:49.9479|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (33ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
DROP DATABASE [EducationalPortal];
2022-07-10 22:01:50.4074|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (316ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [EducationalPortal];
2022-07-10 22:01:50.4742|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (66ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [EducationalPortal] SET READ_COMMITTED_SNAPSHOT ON;
END;
2022-07-10 22:01:50.4915|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2022-07-10 22:01:50.7878|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Authors] (
    [Id] int NOT NULL IDENTITY,
    [FullName] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Authors] PRIMARY KEY ([Id])
);
2022-07-10 22:01:50.7878|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Extensions] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Extensions] PRIMARY KEY ([Id])
);
2022-07-10 22:01:50.8027|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Materials] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    [Link] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Materials] PRIMARY KEY ([Id])
);
2022-07-10 22:01:50.8027|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Qualities] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Qualities] PRIMARY KEY ([Id])
);
2022-07-10 22:01:50.8027|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Resources] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Resources] PRIMARY KEY ([Id])
);
2022-07-10 22:01:50.8027|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Roles] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_Roles] PRIMARY KEY ([Id])
);
2022-07-10 22:01:50.8027|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Skills] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Skills] PRIMARY KEY ([Id])
);
2022-07-10 22:01:50.8174|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [UserToken] (
    [Id] int NOT NULL IDENTITY,
    [RefreshToken] nvarchar(max) NOT NULL,
    [RefreshTokenExpiryTime] datetime2 NOT NULL,
    CONSTRAINT [PK_UserToken] PRIMARY KEY ([Id])
);
2022-07-10 22:01:50.8174|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Books] (
    [Id] int NOT NULL,
    [PagesCount] int NOT NULL,
    [ExtensionId] int NOT NULL,
    [PublicationYear] int NOT NULL,
    CONSTRAINT [PK_Books] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Books_Extensions_ExtensionId] FOREIGN KEY ([ExtensionId]) REFERENCES [Extensions] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Books_Materials_Id] FOREIGN KEY ([Id]) REFERENCES [Materials] ([Id])
);
2022-07-10 22:01:50.8174|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Videos] (
    [Id] int NOT NULL,
    [Duration] datetime2 NOT NULL,
    [QualityId] int NOT NULL,
    CONSTRAINT [PK_Videos] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Videos_Materials_Id] FOREIGN KEY ([Id]) REFERENCES [Materials] ([Id]),
    CONSTRAINT [FK_Videos_Qualities_QualityId] FOREIGN KEY ([QualityId]) REFERENCES [Qualities] ([Id]) ON DELETE CASCADE
);
2022-07-10 22:01:50.8347|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Articles] (
    [Id] int NOT NULL,
    [ResourceId] int NOT NULL,
    [PublicationDate] datetime2 NOT NULL,
    CONSTRAINT [PK_Articles] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Articles_Materials_Id] FOREIGN KEY ([Id]) REFERENCES [Materials] ([Id]),
    CONSTRAINT [FK_Articles_Resources_ResourceId] FOREIGN KEY ([ResourceId]) REFERENCES [Resources] ([Id]) ON DELETE CASCADE
);
2022-07-10 22:01:50.8347|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] nvarchar(450) NOT NULL,
    [Name] nvarchar(max) NOT NULL,
    [Position] nvarchar(max) NULL,
    [Avatar] nvarchar(max) NOT NULL,
    [Email] nvarchar(450) NOT NULL,
    [PasswordHash] nvarchar(max) NOT NULL,
    [Balance] int NOT NULL,
    [UserTokenId] int NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Users_UserToken_UserTokenId] FOREIGN KEY ([UserTokenId]) REFERENCES [UserToken] ([Id])
);
2022-07-10 22:01:50.8347|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [AuthorBook] (
    [AuthorsId] int NOT NULL,
    [BooksId] int NOT NULL,
    CONSTRAINT [PK_AuthorBook] PRIMARY KEY ([AuthorsId], [BooksId]),
    CONSTRAINT [FK_AuthorBook_Authors_AuthorsId] FOREIGN KEY ([AuthorsId]) REFERENCES [Authors] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_AuthorBook_Books_BooksId] FOREIGN KEY ([BooksId]) REFERENCES [Books] ([Id]) ON DELETE CASCADE
);
2022-07-10 22:01:50.8347|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Courses] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    [Thumbnail] nvarchar(max) NOT NULL,
    [ShortDescription] nvarchar(max) NOT NULL,
    [Description] nvarchar(max) NOT NULL,
    [Price] int NOT NULL,
    [AuthorId] nvarchar(450) NULL,
    CONSTRAINT [PK_Courses] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Courses_Users_AuthorId] FOREIGN KEY ([AuthorId]) REFERENCES [Users] ([Id])
);
2022-07-10 22:01:50.8546|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [MaterialsBaseUser] (
    [MaterialsId] int NOT NULL,
    [UsersId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_MaterialsBaseUser] PRIMARY KEY ([MaterialsId], [UsersId]),
    CONSTRAINT [FK_MaterialsBaseUser_Materials_MaterialsId] FOREIGN KEY ([MaterialsId]) REFERENCES [Materials] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_MaterialsBaseUser_Users_UsersId] FOREIGN KEY ([UsersId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2022-07-10 22:01:50.8546|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [RoleUser] (
    [RolesId] int NOT NULL,
    [UsersId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_RoleUser] PRIMARY KEY ([RolesId], [UsersId]),
    CONSTRAINT [FK_RoleUser_Roles_RolesId] FOREIGN KEY ([RolesId]) REFERENCES [Roles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_RoleUser_Users_UsersId] FOREIGN KEY ([UsersId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2022-07-10 22:01:50.8546|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [UsersSkills] (
    [UserId] nvarchar(450) NOT NULL,
    [SkillId] int NOT NULL,
    [Level] int NOT NULL,
    CONSTRAINT [PK_UsersSkills] PRIMARY KEY ([UserId], [SkillId]),
    CONSTRAINT [FK_UsersSkills_Skills_SkillId] FOREIGN KEY ([SkillId]) REFERENCES [Skills] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_UsersSkills_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2022-07-10 22:01:50.8678|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [CartItems] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NULL,
    [CourseId] int NOT NULL,
    CONSTRAINT [PK_CartItems] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_CartItems_Courses_CourseId] FOREIGN KEY ([CourseId]) REFERENCES [Courses] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_CartItems_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id])
);
2022-07-10 22:01:50.8678|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [CoursesMaterials] (
    [CourseId] int NOT NULL,
    [MaterialId] int NOT NULL,
    [Index] int NOT NULL,
    CONSTRAINT [PK_CoursesMaterials] PRIMARY KEY ([CourseId], [MaterialId]),
    CONSTRAINT [FK_CoursesMaterials_Courses_CourseId] FOREIGN KEY ([CourseId]) REFERENCES [Courses] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_CoursesMaterials_Materials_MaterialId] FOREIGN KEY ([MaterialId]) REFERENCES [Materials] ([Id]) ON DELETE CASCADE
);
2022-07-10 22:01:50.8678|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [CoursesSkills] (
    [CourseId] int NOT NULL,
    [SkillId] int NOT NULL,
    CONSTRAINT [PK_CoursesSkills] PRIMARY KEY ([CourseId], [SkillId]),
    CONSTRAINT [FK_CoursesSkills_Courses_CourseId] FOREIGN KEY ([CourseId]) REFERENCES [Courses] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_CoursesSkills_Skills_SkillId] FOREIGN KEY ([SkillId]) REFERENCES [Skills] ([Id]) ON DELETE CASCADE
);
2022-07-10 22:01:50.8841|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [ShoppingHistory] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NULL,
    [CourseId] int NOT NULL,
    [Price] int NOT NULL,
    [Date] datetime2 NOT NULL,
    CONSTRAINT [PK_ShoppingHistory] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_ShoppingHistory_Courses_CourseId] FOREIGN KEY ([CourseId]) REFERENCES [Courses] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_ShoppingHistory_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id])
);
2022-07-10 22:01:50.8841|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [UsersCourses] (
    [UserId] nvarchar(450) NOT NULL,
    [CourseId] int NOT NULL,
    [MaterialsCount] int NOT NULL,
    [LearnedMaterialsCount] int NOT NULL,
    CONSTRAINT [PK_UsersCourses] PRIMARY KEY ([UserId], [CourseId]),
    CONSTRAINT [FK_UsersCourses_Courses_CourseId] FOREIGN KEY ([CourseId]) REFERENCES [Courses] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_UsersCourses_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2022-07-10 22:01:50.8841|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Articles_ResourceId] ON [Articles] ([ResourceId]);
2022-07-10 22:01:50.8954|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_AuthorBook_BooksId] ON [AuthorBook] ([BooksId]);
2022-07-10 22:01:50.8954|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Books_ExtensionId] ON [Books] ([ExtensionId]);
2022-07-10 22:01:50.9256|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (27ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_CartItems_CourseId] ON [CartItems] ([CourseId]);
2022-07-10 22:01:50.9313|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_CartItems_UserId] ON [CartItems] ([UserId]);
2022-07-10 22:01:50.9313|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Courses_AuthorId] ON [Courses] ([AuthorId]);
2022-07-10 22:01:50.9313|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_CoursesMaterials_MaterialId] ON [CoursesMaterials] ([MaterialId]);
2022-07-10 22:01:50.9313|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_CoursesSkills_SkillId] ON [CoursesSkills] ([SkillId]);
2022-07-10 22:01:50.9313|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_MaterialsBaseUser_UsersId] ON [MaterialsBaseUser] ([UsersId]);
2022-07-10 22:01:50.9436|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Roles_Name] ON [Roles] ([Name]);
2022-07-10 22:01:50.9436|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_RoleUser_UsersId] ON [RoleUser] ([UsersId]);
2022-07-10 22:01:50.9436|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_ShoppingHistory_CourseId] ON [ShoppingHistory] ([CourseId]);
2022-07-10 22:01:50.9436|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_ShoppingHistory_UserId] ON [ShoppingHistory] ([UserId]);
2022-07-10 22:01:50.9587|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Users_Email] ON [Users] ([Email]);
2022-07-10 22:01:50.9587|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Users_UserTokenId] ON [Users] ([UserTokenId]);
2022-07-10 22:01:50.9587|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_UsersCourses_CourseId] ON [UsersCourses] ([CourseId]);
2022-07-10 22:01:50.9587|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_UsersSkills_SkillId] ON [UsersSkills] ([SkillId]);
2022-07-10 22:01:50.9587|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Videos_QualityId] ON [Videos] ([QualityId]);
2022-07-10 22:01:51.6902|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (140ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
DECLARE @inserted0 TABLE ([Id] int, [_Position] [int]);
MERGE [Qualities] USING (
VALUES (@p0, 0),
(@p1, 1),
(@p2, 2),
(@p3, 3),
(@p4, 4),
(@p5, 5),
(@p6, 6),
(@p7, 7)) AS i ([Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name])
VALUES (i.[Name])
OUTPUT INSERTED.[Id], i._Position
INTO @inserted0;

SELECT [i].[Id] FROM @inserted0 i
ORDER BY [i].[_Position];
2022-07-10 22:01:52.1599|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:01:52.1786|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (9ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Videos] ([Id], [Duration], [QualityId])
VALUES (@p2, @p3, @p4);
2022-07-10 22:01:52.1990|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Extensions] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Extensions]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:01:52.2294|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Authors] ([FullName])
VALUES (@p0);
SELECT [Id]
FROM [Authors]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:01:52.3514|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:01:52.3514|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Books] ([Id], [ExtensionId], [PagesCount], [PublicationYear])
VALUES (@p2, @p3, @p4, @p5);
2022-07-10 22:01:52.3643|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AuthorBook] ([AuthorsId], [BooksId])
VALUES (@p6, @p7);
2022-07-10 22:01:52.3831|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Resources] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Resources]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:01:52.4179|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (13ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:01:52.4179|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Articles] ([Id], [PublicationDate], [ResourceId])
VALUES (@p2, @p3, @p4);
2022-07-10 22:01:52.4546|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Skills] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Skills]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:01:52.4581|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Skills] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Skills]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:01:52.4581|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Skills] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Skills]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:01:52.5005|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Roles] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Roles]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:01:52.5005|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Roles] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Roles]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:01:52.5005|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Roles] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Roles]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:01:52.5187|INFO|EducationalPortal.Infrastructure.Services.Identity.PasswordHasher|Hashed password.
2022-07-10 22:01:52.6637|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (Size = 450), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [Avatar], [Balance], [Email], [Name], [PasswordHash], [Position], [UserTokenId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2022-07-10 22:01:52.6922|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (25ms) [Parameters=[@p8='?' (DbType = Int32), @p9='?' (Size = 450), @p10='?' (DbType = Int32), @p11='?' (Size = 450), @p12='?' (DbType = Int32), @p13='?' (Size = 450), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (Size = 450), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (Size = 450), @p20='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [RoleUser] ([RolesId], [UsersId])
VALUES (@p8, @p9),
(@p10, @p11);
INSERT INTO [UsersSkills] ([SkillId], [UserId], [Level])
VALUES (@p12, @p13, @p14),
(@p15, @p16, @p17),
(@p18, @p19, @p20);
2022-07-10 22:01:52.7930|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Courses] ([AuthorId], [Description], [Name], [Price], [ShortDescription], [Thumbnail])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [Id]
FROM [Courses]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:01:52.8114|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (9ms) [Parameters=[@p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [CoursesMaterials] ([CourseId], [MaterialId], [Index])
VALUES (@p6, @p7, @p8),
(@p9, @p10, @p11),
(@p12, @p13, @p14);
INSERT INTO [CoursesSkills] ([CourseId], [SkillId])
VALUES (@p15, @p16),
(@p17, @p18),
(@p19, @p20);
2022-07-10 22:01:52.8260|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [UsersCourses] ([CourseId], [UserId], [LearnedMaterialsCount], [MaterialsCount])
VALUES (@p0, @p1, @p2, @p3);
2022-07-10 22:01:52.8370|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (8ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
DECLARE @inserted0 TABLE ([Id] int, [_Position] [int]);
MERGE [Skills] USING (
VALUES (@p0, 0),
(@p1, 1),
(@p2, 2),
(@p3, 3),
(@p4, 4),
(@p5, 5),
(@p6, 6),
(@p7, 7),
(@p8, 8)) AS i ([Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name])
VALUES (i.[Name])
OUTPUT INSERTED.[Id], i._Position
INTO @inserted0;

SELECT [i].[Id] FROM @inserted0 i
ORDER BY [i].[_Position];
2022-07-10 22:01:52.8370|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:01:52.8370|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Videos] ([Id], [Duration], [QualityId])
VALUES (@p2, @p3, @p4);
2022-07-10 22:01:52.8370|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:01:52.8370|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Videos] ([Id], [Duration], [QualityId])
VALUES (@p2, @p3, @p4);
2022-07-10 22:01:52.8370|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:01:52.8370|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Videos] ([Id], [Duration], [QualityId])
VALUES (@p2, @p3, @p4);
2022-07-10 22:01:52.8485|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Authors] ([FullName])
VALUES (@p0);
SELECT [Id]
FROM [Authors]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:01:52.8485|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:01:52.8485|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Books] ([Id], [ExtensionId], [PagesCount], [PublicationYear])
VALUES (@p2, @p3, @p4, @p5);
2022-07-10 22:01:52.8485|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AuthorBook] ([AuthorsId], [BooksId])
VALUES (@p6, @p7);
2022-07-10 22:01:52.8485|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Authors] ([FullName])
VALUES (@p0);
SELECT [Id]
FROM [Authors]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:01:52.8485|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:01:52.8485|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Books] ([Id], [ExtensionId], [PagesCount], [PublicationYear])
VALUES (@p2, @p3, @p4, @p5);
2022-07-10 22:01:52.8485|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AuthorBook] ([AuthorsId], [BooksId])
VALUES (@p6, @p7);
2022-07-10 22:01:52.8485|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Resources] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Resources]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:01:52.8485|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:01:52.8485|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Articles] ([Id], [PublicationDate], [ResourceId])
VALUES (@p2, @p3, @p4);
2022-07-10 22:01:52.8485|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:01:52.8485|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Articles] ([Id], [PublicationDate], [ResourceId])
VALUES (@p2, @p3, @p4);
2022-07-10 22:01:52.8668|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Courses] ([AuthorId], [Description], [Name], [Price], [ShortDescription], [Thumbnail])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [Id]
FROM [Courses]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:01:52.8668|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (6ms) [Parameters=[@p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (DbType = Int32), @p24='?' (DbType = Int32), @p25='?' (DbType = Int32), @p26='?' (DbType = Int32), @p27='?' (DbType = Int32), @p28='?' (DbType = Int32), @p29='?' (DbType = Int32), @p30='?' (DbType = Int32), @p31='?' (DbType = Int32), @p32='?' (DbType = Int32), @p33='?' (DbType = Int32), @p34='?' (DbType = Int32), @p35='?' (DbType = Int32), @p36='?' (DbType = Int32), @p37='?' (DbType = Int32), @p38='?' (DbType = Int32), @p39='?' (DbType = Int32), @p40='?' (DbType = Int32), @p41='?' (DbType = Int32), @p42='?' (DbType = Int32), @p43='?' (DbType = Int32), @p44='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [CoursesMaterials] ([CourseId], [MaterialId], [Index])
VALUES (@p6, @p7, @p8),
(@p9, @p10, @p11),
(@p12, @p13, @p14),
(@p15, @p16, @p17),
(@p18, @p19, @p20),
(@p21, @p22, @p23),
(@p24, @p25, @p26);
INSERT INTO [CoursesSkills] ([CourseId], [SkillId])
VALUES (@p27, @p28),
(@p29, @p30),
(@p31, @p32),
(@p33, @p34),
(@p35, @p36),
(@p37, @p38),
(@p39, @p40),
(@p41, @p42),
(@p43, @p44);
2022-07-10 22:01:52.8668|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Courses] ([AuthorId], [Description], [Name], [Price], [ShortDescription], [Thumbnail])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [Id]
FROM [Courses]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:01:52.8827|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (6ms) [Parameters=[@p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [CoursesMaterials] ([CourseId], [MaterialId], [Index])
VALUES (@p6, @p7, @p8),
(@p9, @p10, @p11);
INSERT INTO [CoursesSkills] ([CourseId], [SkillId])
VALUES (@p12, @p13),
(@p14, @p15),
(@p16, @p17);
2022-07-10 22:01:53.3475|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\rareb\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-07-10 22:01:53.7237|INFO|Microsoft.Hosting.Lifetime|Now listening on: https://localhost:7106
2022-07-10 22:01:53.7237|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:7105
2022-07-10 22:01:53.7237|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down.
2022-07-10 22:01:53.7237|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development
2022-07-10 22:01:53.7237|INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\rareb\Desktop\github\educational-portal\EducationalPortal\EducationalPortal.API\
2022-07-10 22:07:21.5197|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-07-10 22:07:23.3370|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (112ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2022-07-10 22:07:23.6145|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (71ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [EducationalPortal] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
2022-07-10 22:07:23.6416|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (26ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
DROP DATABASE [EducationalPortal];
2022-07-10 22:07:24.1351|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (336ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [EducationalPortal];
2022-07-10 22:07:24.2011|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (66ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [EducationalPortal] SET READ_COMMITTED_SNAPSHOT ON;
END;
2022-07-10 22:07:24.2187|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2022-07-10 22:07:24.4952|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Authors] (
    [Id] int NOT NULL IDENTITY,
    [FullName] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Authors] PRIMARY KEY ([Id])
);
2022-07-10 22:07:24.4952|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Extensions] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Extensions] PRIMARY KEY ([Id])
);
2022-07-10 22:07:24.4952|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Materials] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    [Link] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Materials] PRIMARY KEY ([Id])
);
2022-07-10 22:07:24.5100|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Qualities] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Qualities] PRIMARY KEY ([Id])
);
2022-07-10 22:07:24.5227|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Resources] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Resources] PRIMARY KEY ([Id])
);
2022-07-10 22:07:24.5227|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Roles] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_Roles] PRIMARY KEY ([Id])
);
2022-07-10 22:07:24.5227|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Skills] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Skills] PRIMARY KEY ([Id])
);
2022-07-10 22:07:24.5380|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [UserToken] (
    [Id] int NOT NULL IDENTITY,
    [RefreshToken] nvarchar(max) NOT NULL,
    [RefreshTokenExpiryTime] datetime2 NOT NULL,
    CONSTRAINT [PK_UserToken] PRIMARY KEY ([Id])
);
2022-07-10 22:07:24.5380|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Books] (
    [Id] int NOT NULL,
    [PagesCount] int NOT NULL,
    [ExtensionId] int NOT NULL,
    [PublicationYear] int NOT NULL,
    CONSTRAINT [PK_Books] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Books_Extensions_ExtensionId] FOREIGN KEY ([ExtensionId]) REFERENCES [Extensions] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Books_Materials_Id] FOREIGN KEY ([Id]) REFERENCES [Materials] ([Id])
);
2022-07-10 22:07:24.5380|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Videos] (
    [Id] int NOT NULL,
    [Duration] datetime2 NOT NULL,
    [QualityId] int NOT NULL,
    CONSTRAINT [PK_Videos] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Videos_Materials_Id] FOREIGN KEY ([Id]) REFERENCES [Materials] ([Id]),
    CONSTRAINT [FK_Videos_Qualities_QualityId] FOREIGN KEY ([QualityId]) REFERENCES [Qualities] ([Id]) ON DELETE CASCADE
);
2022-07-10 22:07:24.5551|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Articles] (
    [Id] int NOT NULL,
    [ResourceId] int NOT NULL,
    [PublicationDate] datetime2 NOT NULL,
    CONSTRAINT [PK_Articles] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Articles_Materials_Id] FOREIGN KEY ([Id]) REFERENCES [Materials] ([Id]),
    CONSTRAINT [FK_Articles_Resources_ResourceId] FOREIGN KEY ([ResourceId]) REFERENCES [Resources] ([Id]) ON DELETE CASCADE
);
2022-07-10 22:07:24.5551|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] nvarchar(450) NOT NULL,
    [Name] nvarchar(max) NOT NULL,
    [Position] nvarchar(max) NULL,
    [Avatar] nvarchar(max) NOT NULL,
    [Email] nvarchar(450) NOT NULL,
    [PasswordHash] nvarchar(max) NOT NULL,
    [Balance] int NOT NULL,
    [UserTokenId] int NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Users_UserToken_UserTokenId] FOREIGN KEY ([UserTokenId]) REFERENCES [UserToken] ([Id])
);
2022-07-10 22:07:24.5551|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [AuthorBook] (
    [AuthorsId] int NOT NULL,
    [BooksId] int NOT NULL,
    CONSTRAINT [PK_AuthorBook] PRIMARY KEY ([AuthorsId], [BooksId]),
    CONSTRAINT [FK_AuthorBook_Authors_AuthorsId] FOREIGN KEY ([AuthorsId]) REFERENCES [Authors] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_AuthorBook_Books_BooksId] FOREIGN KEY ([BooksId]) REFERENCES [Books] ([Id]) ON DELETE CASCADE
);
2022-07-10 22:07:24.5894|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (28ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Courses] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    [Thumbnail] nvarchar(max) NOT NULL,
    [ShortDescription] nvarchar(max) NOT NULL,
    [Description] nvarchar(max) NOT NULL,
    [Price] int NOT NULL,
    [AuthorId] nvarchar(450) NULL,
    CONSTRAINT [PK_Courses] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Courses_Users_AuthorId] FOREIGN KEY ([AuthorId]) REFERENCES [Users] ([Id])
);
2022-07-10 22:07:24.5894|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [MaterialsBaseUser] (
    [MaterialsId] int NOT NULL,
    [UsersId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_MaterialsBaseUser] PRIMARY KEY ([MaterialsId], [UsersId]),
    CONSTRAINT [FK_MaterialsBaseUser_Materials_MaterialsId] FOREIGN KEY ([MaterialsId]) REFERENCES [Materials] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_MaterialsBaseUser_Users_UsersId] FOREIGN KEY ([UsersId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2022-07-10 22:07:24.5894|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [RoleUser] (
    [RolesId] int NOT NULL,
    [UsersId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_RoleUser] PRIMARY KEY ([RolesId], [UsersId]),
    CONSTRAINT [FK_RoleUser_Roles_RolesId] FOREIGN KEY ([RolesId]) REFERENCES [Roles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_RoleUser_Users_UsersId] FOREIGN KEY ([UsersId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2022-07-10 22:07:24.6005|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [UsersSkills] (
    [UserId] nvarchar(450) NOT NULL,
    [SkillId] int NOT NULL,
    [Level] int NOT NULL,
    CONSTRAINT [PK_UsersSkills] PRIMARY KEY ([UserId], [SkillId]),
    CONSTRAINT [FK_UsersSkills_Skills_SkillId] FOREIGN KEY ([SkillId]) REFERENCES [Skills] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_UsersSkills_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2022-07-10 22:07:24.6005|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [CartItems] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NULL,
    [CourseId] int NOT NULL,
    CONSTRAINT [PK_CartItems] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_CartItems_Courses_CourseId] FOREIGN KEY ([CourseId]) REFERENCES [Courses] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_CartItems_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id])
);
2022-07-10 22:07:24.6005|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [CoursesMaterials] (
    [CourseId] int NOT NULL,
    [MaterialId] int NOT NULL,
    [Index] int NOT NULL,
    CONSTRAINT [PK_CoursesMaterials] PRIMARY KEY ([CourseId], [MaterialId]),
    CONSTRAINT [FK_CoursesMaterials_Courses_CourseId] FOREIGN KEY ([CourseId]) REFERENCES [Courses] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_CoursesMaterials_Materials_MaterialId] FOREIGN KEY ([MaterialId]) REFERENCES [Materials] ([Id]) ON DELETE CASCADE
);
2022-07-10 22:07:24.6005|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [CoursesSkills] (
    [CourseId] int NOT NULL,
    [SkillId] int NOT NULL,
    CONSTRAINT [PK_CoursesSkills] PRIMARY KEY ([CourseId], [SkillId]),
    CONSTRAINT [FK_CoursesSkills_Courses_CourseId] FOREIGN KEY ([CourseId]) REFERENCES [Courses] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_CoursesSkills_Skills_SkillId] FOREIGN KEY ([SkillId]) REFERENCES [Skills] ([Id]) ON DELETE CASCADE
);
2022-07-10 22:07:24.6146|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [ShoppingHistory] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NULL,
    [CourseId] int NOT NULL,
    [Price] int NOT NULL,
    [Date] datetime2 NOT NULL,
    CONSTRAINT [PK_ShoppingHistory] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_ShoppingHistory_Courses_CourseId] FOREIGN KEY ([CourseId]) REFERENCES [Courses] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_ShoppingHistory_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id])
);
2022-07-10 22:07:24.6146|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [UsersCourses] (
    [UserId] nvarchar(450) NOT NULL,
    [CourseId] int NOT NULL,
    [MaterialsCount] int NOT NULL,
    [LearnedMaterialsCount] int NOT NULL,
    CONSTRAINT [PK_UsersCourses] PRIMARY KEY ([UserId], [CourseId]),
    CONSTRAINT [FK_UsersCourses_Courses_CourseId] FOREIGN KEY ([CourseId]) REFERENCES [Courses] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_UsersCourses_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2022-07-10 22:07:24.6146|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Articles_ResourceId] ON [Articles] ([ResourceId]);
2022-07-10 22:07:24.6146|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_AuthorBook_BooksId] ON [AuthorBook] ([BooksId]);
2022-07-10 22:07:24.6146|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Books_ExtensionId] ON [Books] ([ExtensionId]);
2022-07-10 22:07:24.6146|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_CartItems_CourseId] ON [CartItems] ([CourseId]);
2022-07-10 22:07:24.6146|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_CartItems_UserId] ON [CartItems] ([UserId]);
2022-07-10 22:07:24.6146|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Courses_AuthorId] ON [Courses] ([AuthorId]);
2022-07-10 22:07:24.6146|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_CoursesMaterials_MaterialId] ON [CoursesMaterials] ([MaterialId]);
2022-07-10 22:07:24.6299|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_CoursesSkills_SkillId] ON [CoursesSkills] ([SkillId]);
2022-07-10 22:07:24.6299|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_MaterialsBaseUser_UsersId] ON [MaterialsBaseUser] ([UsersId]);
2022-07-10 22:07:24.6299|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Roles_Name] ON [Roles] ([Name]);
2022-07-10 22:07:24.6299|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_RoleUser_UsersId] ON [RoleUser] ([UsersId]);
2022-07-10 22:07:24.6299|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_ShoppingHistory_CourseId] ON [ShoppingHistory] ([CourseId]);
2022-07-10 22:07:24.6299|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_ShoppingHistory_UserId] ON [ShoppingHistory] ([UserId]);
2022-07-10 22:07:24.6299|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Users_Email] ON [Users] ([Email]);
2022-07-10 22:07:24.6299|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Users_UserTokenId] ON [Users] ([UserTokenId]);
2022-07-10 22:07:24.6299|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_UsersCourses_CourseId] ON [UsersCourses] ([CourseId]);
2022-07-10 22:07:24.6299|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_UsersSkills_SkillId] ON [UsersSkills] ([SkillId]);
2022-07-10 22:07:24.6445|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Videos_QualityId] ON [Videos] ([QualityId]);
2022-07-10 22:07:25.1119|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (71ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
DECLARE @inserted0 TABLE ([Id] int, [_Position] [int]);
MERGE [Qualities] USING (
VALUES (@p0, 0),
(@p1, 1),
(@p2, 2),
(@p3, 3),
(@p4, 4),
(@p5, 5),
(@p6, 6),
(@p7, 7)) AS i ([Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name])
VALUES (i.[Name])
OUTPUT INSERTED.[Id], i._Position
INTO @inserted0;

SELECT [i].[Id] FROM @inserted0 i
ORDER BY [i].[_Position];
2022-07-10 22:07:25.3118|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:07:25.3230|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Videos] ([Id], [Duration], [QualityId])
VALUES (@p2, @p3, @p4);
2022-07-10 22:07:25.3390|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Extensions] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Extensions]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:07:25.3750|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Authors] ([FullName])
VALUES (@p0);
SELECT [Id]
FROM [Authors]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:07:25.4416|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:07:25.4495|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Books] ([Id], [ExtensionId], [PagesCount], [PublicationYear])
VALUES (@p2, @p3, @p4, @p5);
2022-07-10 22:07:25.4495|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AuthorBook] ([AuthorsId], [BooksId])
VALUES (@p6, @p7);
2022-07-10 22:07:25.4653|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Resources] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Resources]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:07:25.4779|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:07:25.4779|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Articles] ([Id], [PublicationDate], [ResourceId])
VALUES (@p2, @p3, @p4);
2022-07-10 22:07:25.5051|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Skills] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Skills]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:07:25.5051|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Skills] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Skills]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:07:25.5051|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Skills] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Skills]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:07:25.5304|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Roles] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Roles]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:07:25.5304|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Roles] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Roles]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:07:25.5304|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Roles] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Roles]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:07:25.5413|INFO|EducationalPortal.Infrastructure.Services.Identity.PasswordHasher|Hashed password.
2022-07-10 22:07:25.6561|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (Size = 450), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [Avatar], [Balance], [Email], [Name], [PasswordHash], [Position], [UserTokenId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2022-07-10 22:07:25.6691|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (11ms) [Parameters=[@p8='?' (DbType = Int32), @p9='?' (Size = 450), @p10='?' (DbType = Int32), @p11='?' (Size = 450), @p12='?' (DbType = Int32), @p13='?' (Size = 450), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (Size = 450), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (Size = 450), @p20='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [RoleUser] ([RolesId], [UsersId])
VALUES (@p8, @p9),
(@p10, @p11);
INSERT INTO [UsersSkills] ([SkillId], [UserId], [Level])
VALUES (@p12, @p13, @p14),
(@p15, @p16, @p17),
(@p18, @p19, @p20);
2022-07-10 22:07:25.7260|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Courses] ([AuthorId], [Description], [Name], [Price], [ShortDescription], [Thumbnail])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [Id]
FROM [Courses]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:07:25.7418|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (9ms) [Parameters=[@p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [CoursesMaterials] ([CourseId], [MaterialId], [Index])
VALUES (@p6, @p7, @p8),
(@p9, @p10, @p11),
(@p12, @p13, @p14);
INSERT INTO [CoursesSkills] ([CourseId], [SkillId])
VALUES (@p15, @p16),
(@p17, @p18),
(@p19, @p20);
2022-07-10 22:07:25.7609|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [UsersCourses] ([CourseId], [UserId], [LearnedMaterialsCount], [MaterialsCount])
VALUES (@p0, @p1, @p2, @p3);
2022-07-10 22:07:25.7717|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (8ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
DECLARE @inserted0 TABLE ([Id] int, [_Position] [int]);
MERGE [Skills] USING (
VALUES (@p0, 0),
(@p1, 1),
(@p2, 2),
(@p3, 3),
(@p4, 4),
(@p5, 5),
(@p6, 6),
(@p7, 7),
(@p8, 8)) AS i ([Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name])
VALUES (i.[Name])
OUTPUT INSERTED.[Id], i._Position
INTO @inserted0;

SELECT [i].[Id] FROM @inserted0 i
ORDER BY [i].[_Position];
2022-07-10 22:07:25.7717|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:07:25.7717|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Videos] ([Id], [Duration], [QualityId])
VALUES (@p2, @p3, @p4);
2022-07-10 22:07:25.7717|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:07:25.7717|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Videos] ([Id], [Duration], [QualityId])
VALUES (@p2, @p3, @p4);
2022-07-10 22:07:25.7717|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:07:25.7861|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Videos] ([Id], [Duration], [QualityId])
VALUES (@p2, @p3, @p4);
2022-07-10 22:07:25.7861|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Authors] ([FullName])
VALUES (@p0);
SELECT [Id]
FROM [Authors]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:07:25.7861|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:07:25.7861|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Books] ([Id], [ExtensionId], [PagesCount], [PublicationYear])
VALUES (@p2, @p3, @p4, @p5);
2022-07-10 22:07:25.7861|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AuthorBook] ([AuthorsId], [BooksId])
VALUES (@p6, @p7);
2022-07-10 22:07:25.7861|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Authors] ([FullName])
VALUES (@p0);
SELECT [Id]
FROM [Authors]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:07:25.8015|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:07:25.8015|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Books] ([Id], [ExtensionId], [PagesCount], [PublicationYear])
VALUES (@p2, @p3, @p4, @p5);
2022-07-10 22:07:25.8015|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AuthorBook] ([AuthorsId], [BooksId])
VALUES (@p6, @p7);
2022-07-10 22:07:25.8015|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Resources] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Resources]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:07:25.8015|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:07:25.8015|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Articles] ([Id], [PublicationDate], [ResourceId])
VALUES (@p2, @p3, @p4);
2022-07-10 22:07:25.8015|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:07:25.8015|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Articles] ([Id], [PublicationDate], [ResourceId])
VALUES (@p2, @p3, @p4);
2022-07-10 22:07:25.8172|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Courses] ([AuthorId], [Description], [Name], [Price], [ShortDescription], [Thumbnail])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [Id]
FROM [Courses]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:07:25.8172|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (7ms) [Parameters=[@p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (DbType = Int32), @p24='?' (DbType = Int32), @p25='?' (DbType = Int32), @p26='?' (DbType = Int32), @p27='?' (DbType = Int32), @p28='?' (DbType = Int32), @p29='?' (DbType = Int32), @p30='?' (DbType = Int32), @p31='?' (DbType = Int32), @p32='?' (DbType = Int32), @p33='?' (DbType = Int32), @p34='?' (DbType = Int32), @p35='?' (DbType = Int32), @p36='?' (DbType = Int32), @p37='?' (DbType = Int32), @p38='?' (DbType = Int32), @p39='?' (DbType = Int32), @p40='?' (DbType = Int32), @p41='?' (DbType = Int32), @p42='?' (DbType = Int32), @p43='?' (DbType = Int32), @p44='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [CoursesMaterials] ([CourseId], [MaterialId], [Index])
VALUES (@p6, @p7, @p8),
(@p9, @p10, @p11),
(@p12, @p13, @p14),
(@p15, @p16, @p17),
(@p18, @p19, @p20),
(@p21, @p22, @p23),
(@p24, @p25, @p26);
INSERT INTO [CoursesSkills] ([CourseId], [SkillId])
VALUES (@p27, @p28),
(@p29, @p30),
(@p31, @p32),
(@p33, @p34),
(@p35, @p36),
(@p37, @p38),
(@p39, @p40),
(@p41, @p42),
(@p43, @p44);
2022-07-10 22:07:25.8172|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Courses] ([AuthorId], [Description], [Name], [Price], [ShortDescription], [Thumbnail])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [Id]
FROM [Courses]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:07:25.8348|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[@p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [CoursesMaterials] ([CourseId], [MaterialId], [Index])
VALUES (@p6, @p7, @p8),
(@p9, @p10, @p11);
INSERT INTO [CoursesSkills] ([CourseId], [SkillId])
VALUES (@p12, @p13),
(@p14, @p15),
(@p16, @p17);
2022-07-10 22:07:26.6170|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\rareb\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-07-10 22:07:27.0368|INFO|Microsoft.Hosting.Lifetime|Now listening on: https://localhost:7106
2022-07-10 22:07:27.0368|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:7105
2022-07-10 22:07:27.0368|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down.
2022-07-10 22:07:27.0368|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development
2022-07-10 22:07:27.0368|INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\rareb\Desktop\github\educational-portal\EducationalPortal\EducationalPortal.API\
2022-07-10 22:09:39.7804|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-07-10 22:09:40.8161|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (89ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2022-07-10 22:09:40.9925|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [EducationalPortal] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
2022-07-10 22:09:41.0273|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (33ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
DROP DATABASE [EducationalPortal];
2022-07-10 22:09:41.4470|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (263ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [EducationalPortal];
2022-07-10 22:09:41.5171|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (70ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [EducationalPortal] SET READ_COMMITTED_SNAPSHOT ON;
END;
2022-07-10 22:09:41.5354|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2022-07-10 22:09:41.9477|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Authors] (
    [Id] int NOT NULL IDENTITY,
    [FullName] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Authors] PRIMARY KEY ([Id])
);
2022-07-10 22:09:41.9477|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Extensions] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Extensions] PRIMARY KEY ([Id])
);
2022-07-10 22:09:41.9477|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Materials] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    [Link] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Materials] PRIMARY KEY ([Id])
);
2022-07-10 22:09:41.9477|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Qualities] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Qualities] PRIMARY KEY ([Id])
);
2022-07-10 22:09:41.9579|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Resources] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Resources] PRIMARY KEY ([Id])
);
2022-07-10 22:09:41.9579|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Roles] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_Roles] PRIMARY KEY ([Id])
);
2022-07-10 22:09:41.9579|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Skills] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Skills] PRIMARY KEY ([Id])
);
2022-07-10 22:09:41.9579|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [UserToken] (
    [Id] int NOT NULL IDENTITY,
    [RefreshToken] nvarchar(max) NOT NULL,
    [RefreshTokenExpiryTime] datetime2 NOT NULL,
    CONSTRAINT [PK_UserToken] PRIMARY KEY ([Id])
);
2022-07-10 22:09:41.9748|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Books] (
    [Id] int NOT NULL,
    [PagesCount] int NOT NULL,
    [ExtensionId] int NOT NULL,
    [PublicationYear] int NOT NULL,
    CONSTRAINT [PK_Books] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Books_Extensions_ExtensionId] FOREIGN KEY ([ExtensionId]) REFERENCES [Extensions] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Books_Materials_Id] FOREIGN KEY ([Id]) REFERENCES [Materials] ([Id])
);
2022-07-10 22:09:41.9748|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Videos] (
    [Id] int NOT NULL,
    [Duration] datetime2 NOT NULL,
    [QualityId] int NOT NULL,
    CONSTRAINT [PK_Videos] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Videos_Materials_Id] FOREIGN KEY ([Id]) REFERENCES [Materials] ([Id]),
    CONSTRAINT [FK_Videos_Qualities_QualityId] FOREIGN KEY ([QualityId]) REFERENCES [Qualities] ([Id]) ON DELETE CASCADE
);
2022-07-10 22:09:41.9748|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Articles] (
    [Id] int NOT NULL,
    [ResourceId] int NOT NULL,
    [PublicationDate] datetime2 NOT NULL,
    CONSTRAINT [PK_Articles] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Articles_Materials_Id] FOREIGN KEY ([Id]) REFERENCES [Materials] ([Id]),
    CONSTRAINT [FK_Articles_Resources_ResourceId] FOREIGN KEY ([ResourceId]) REFERENCES [Resources] ([Id]) ON DELETE CASCADE
);
2022-07-10 22:09:41.9748|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] nvarchar(450) NOT NULL,
    [Name] nvarchar(max) NOT NULL,
    [Position] nvarchar(max) NULL,
    [Avatar] nvarchar(max) NOT NULL,
    [Email] nvarchar(450) NOT NULL,
    [PasswordHash] nvarchar(max) NOT NULL,
    [Balance] int NOT NULL,
    [UserTokenId] int NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Users_UserToken_UserTokenId] FOREIGN KEY ([UserTokenId]) REFERENCES [UserToken] ([Id])
);
2022-07-10 22:09:41.9748|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [AuthorBook] (
    [AuthorsId] int NOT NULL,
    [BooksId] int NOT NULL,
    CONSTRAINT [PK_AuthorBook] PRIMARY KEY ([AuthorsId], [BooksId]),
    CONSTRAINT [FK_AuthorBook_Authors_AuthorsId] FOREIGN KEY ([AuthorsId]) REFERENCES [Authors] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_AuthorBook_Books_BooksId] FOREIGN KEY ([BooksId]) REFERENCES [Books] ([Id]) ON DELETE CASCADE
);
2022-07-10 22:09:41.9896|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Courses] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    [Thumbnail] nvarchar(max) NOT NULL,
    [ShortDescription] nvarchar(max) NOT NULL,
    [Description] nvarchar(max) NOT NULL,
    [Price] int NOT NULL,
    [AuthorId] nvarchar(450) NULL,
    CONSTRAINT [PK_Courses] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Courses_Users_AuthorId] FOREIGN KEY ([AuthorId]) REFERENCES [Users] ([Id])
);
2022-07-10 22:09:41.9896|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [MaterialsBaseUser] (
    [MaterialsId] int NOT NULL,
    [UsersId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_MaterialsBaseUser] PRIMARY KEY ([MaterialsId], [UsersId]),
    CONSTRAINT [FK_MaterialsBaseUser_Materials_MaterialsId] FOREIGN KEY ([MaterialsId]) REFERENCES [Materials] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_MaterialsBaseUser_Users_UsersId] FOREIGN KEY ([UsersId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2022-07-10 22:09:41.9896|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [RoleUser] (
    [RolesId] int NOT NULL,
    [UsersId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_RoleUser] PRIMARY KEY ([RolesId], [UsersId]),
    CONSTRAINT [FK_RoleUser_Roles_RolesId] FOREIGN KEY ([RolesId]) REFERENCES [Roles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_RoleUser_Users_UsersId] FOREIGN KEY ([UsersId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2022-07-10 22:09:42.0065|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [UsersSkills] (
    [UserId] nvarchar(450) NOT NULL,
    [SkillId] int NOT NULL,
    [Level] int NOT NULL,
    CONSTRAINT [PK_UsersSkills] PRIMARY KEY ([UserId], [SkillId]),
    CONSTRAINT [FK_UsersSkills_Skills_SkillId] FOREIGN KEY ([SkillId]) REFERENCES [Skills] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_UsersSkills_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2022-07-10 22:09:42.0065|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [CartItems] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NULL,
    [CourseId] int NOT NULL,
    CONSTRAINT [PK_CartItems] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_CartItems_Courses_CourseId] FOREIGN KEY ([CourseId]) REFERENCES [Courses] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_CartItems_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id])
);
2022-07-10 22:09:42.0065|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [CoursesMaterials] (
    [CourseId] int NOT NULL,
    [MaterialId] int NOT NULL,
    [Index] int NOT NULL,
    CONSTRAINT [PK_CoursesMaterials] PRIMARY KEY ([CourseId], [MaterialId]),
    CONSTRAINT [FK_CoursesMaterials_Courses_CourseId] FOREIGN KEY ([CourseId]) REFERENCES [Courses] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_CoursesMaterials_Materials_MaterialId] FOREIGN KEY ([MaterialId]) REFERENCES [Materials] ([Id]) ON DELETE CASCADE
);
2022-07-10 22:09:42.0204|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [CoursesSkills] (
    [CourseId] int NOT NULL,
    [SkillId] int NOT NULL,
    CONSTRAINT [PK_CoursesSkills] PRIMARY KEY ([CourseId], [SkillId]),
    CONSTRAINT [FK_CoursesSkills_Courses_CourseId] FOREIGN KEY ([CourseId]) REFERENCES [Courses] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_CoursesSkills_Skills_SkillId] FOREIGN KEY ([SkillId]) REFERENCES [Skills] ([Id]) ON DELETE CASCADE
);
2022-07-10 22:09:42.0204|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [ShoppingHistory] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NULL,
    [CourseId] int NOT NULL,
    [Price] int NOT NULL,
    [Date] datetime2 NOT NULL,
    CONSTRAINT [PK_ShoppingHistory] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_ShoppingHistory_Courses_CourseId] FOREIGN KEY ([CourseId]) REFERENCES [Courses] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_ShoppingHistory_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id])
);
2022-07-10 22:09:42.0204|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [UsersCourses] (
    [UserId] nvarchar(450) NOT NULL,
    [CourseId] int NOT NULL,
    [MaterialsCount] int NOT NULL,
    [LearnedMaterialsCount] int NOT NULL,
    CONSTRAINT [PK_UsersCourses] PRIMARY KEY ([UserId], [CourseId]),
    CONSTRAINT [FK_UsersCourses_Courses_CourseId] FOREIGN KEY ([CourseId]) REFERENCES [Courses] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_UsersCourses_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);
2022-07-10 22:09:42.0204|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Articles_ResourceId] ON [Articles] ([ResourceId]);
2022-07-10 22:09:42.0361|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_AuthorBook_BooksId] ON [AuthorBook] ([BooksId]);
2022-07-10 22:09:42.0361|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Books_ExtensionId] ON [Books] ([ExtensionId]);
2022-07-10 22:09:42.0361|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_CartItems_CourseId] ON [CartItems] ([CourseId]);
2022-07-10 22:09:42.0361|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_CartItems_UserId] ON [CartItems] ([UserId]);
2022-07-10 22:09:42.0361|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Courses_AuthorId] ON [Courses] ([AuthorId]);
2022-07-10 22:09:42.0361|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_CoursesMaterials_MaterialId] ON [CoursesMaterials] ([MaterialId]);
2022-07-10 22:09:42.0361|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_CoursesSkills_SkillId] ON [CoursesSkills] ([SkillId]);
2022-07-10 22:09:42.0361|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_MaterialsBaseUser_UsersId] ON [MaterialsBaseUser] ([UsersId]);
2022-07-10 22:09:42.0361|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Roles_Name] ON [Roles] ([Name]);
2022-07-10 22:09:42.0544|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_RoleUser_UsersId] ON [RoleUser] ([UsersId]);
2022-07-10 22:09:42.0544|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_ShoppingHistory_CourseId] ON [ShoppingHistory] ([CourseId]);
2022-07-10 22:09:42.0544|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_ShoppingHistory_UserId] ON [ShoppingHistory] ([UserId]);
2022-07-10 22:09:42.0717|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Users_Email] ON [Users] ([Email]);
2022-07-10 22:09:42.0717|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Users_UserTokenId] ON [Users] ([UserTokenId]);
2022-07-10 22:09:42.1272|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (50ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_UsersCourses_CourseId] ON [UsersCourses] ([CourseId]);
2022-07-10 22:09:42.1272|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_UsersSkills_SkillId] ON [UsersSkills] ([SkillId]);
2022-07-10 22:09:42.1308|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Videos_QualityId] ON [Videos] ([QualityId]);
2022-07-10 22:09:42.6153|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (81ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
DECLARE @inserted0 TABLE ([Id] int, [_Position] [int]);
MERGE [Qualities] USING (
VALUES (@p0, 0),
(@p1, 1),
(@p2, 2),
(@p3, 3),
(@p4, 4),
(@p5, 5),
(@p6, 6),
(@p7, 7)) AS i ([Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name])
VALUES (i.[Name])
OUTPUT INSERTED.[Id], i._Position
INTO @inserted0;

SELECT [i].[Id] FROM @inserted0 i
ORDER BY [i].[_Position];
2022-07-10 22:09:42.8132|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:09:42.8234|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Videos] ([Id], [Duration], [QualityId])
VALUES (@p2, @p3, @p4);
2022-07-10 22:09:42.8374|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Extensions] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Extensions]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:09:42.8574|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Authors] ([FullName])
VALUES (@p0);
SELECT [Id]
FROM [Authors]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:09:42.9457|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:09:42.9595|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (6ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Books] ([Id], [ExtensionId], [PagesCount], [PublicationYear])
VALUES (@p2, @p3, @p4, @p5);
2022-07-10 22:09:42.9595|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[@p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AuthorBook] ([AuthorsId], [BooksId])
VALUES (@p6, @p7);
2022-07-10 22:09:42.9891|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Resources] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Resources]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:09:43.0057|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:09:43.0057|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Articles] ([Id], [PublicationDate], [ResourceId])
VALUES (@p2, @p3, @p4);
2022-07-10 22:09:43.0461|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Skills] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Skills]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:09:43.0516|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Skills] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Skills]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:09:43.0516|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Skills] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Skills]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:09:43.0827|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Roles] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Roles]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:09:43.0827|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Roles] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Roles]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:09:43.0827|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Roles] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Roles]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:09:43.0827|INFO|EducationalPortal.Infrastructure.Services.Identity.PasswordHasher|Hashed password.
2022-07-10 22:09:43.2396|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (Size = 450), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [Avatar], [Balance], [Email], [Name], [PasswordHash], [Position], [UserTokenId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2022-07-10 22:09:43.2396|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (10ms) [Parameters=[@p8='?' (DbType = Int32), @p9='?' (Size = 450), @p10='?' (DbType = Int32), @p11='?' (Size = 450), @p12='?' (DbType = Int32), @p13='?' (Size = 450), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (Size = 450), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (Size = 450), @p20='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [RoleUser] ([RolesId], [UsersId])
VALUES (@p8, @p9),
(@p10, @p11);
INSERT INTO [UsersSkills] ([SkillId], [UserId], [Level])
VALUES (@p12, @p13, @p14),
(@p15, @p16, @p17),
(@p18, @p19, @p20);
2022-07-10 22:09:43.3129|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Courses] ([AuthorId], [Description], [Name], [Price], [ShortDescription], [Thumbnail])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [Id]
FROM [Courses]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:09:43.3282|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (9ms) [Parameters=[@p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [CoursesMaterials] ([CourseId], [MaterialId], [Index])
VALUES (@p6, @p7, @p8),
(@p9, @p10, @p11),
(@p12, @p13, @p14);
INSERT INTO [CoursesSkills] ([CourseId], [SkillId])
VALUES (@p15, @p16),
(@p17, @p18),
(@p19, @p20);
2022-07-10 22:09:43.3594|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [UsersCourses] ([CourseId], [UserId], [LearnedMaterialsCount], [MaterialsCount])
VALUES (@p0, @p1, @p2, @p3);
2022-07-10 22:09:43.3783|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (14ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
DECLARE @inserted0 TABLE ([Id] int, [_Position] [int]);
MERGE [Skills] USING (
VALUES (@p0, 0),
(@p1, 1),
(@p2, 2),
(@p3, 3),
(@p4, 4),
(@p5, 5),
(@p6, 6),
(@p7, 7),
(@p8, 8)) AS i ([Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Name])
VALUES (i.[Name])
OUTPUT INSERTED.[Id], i._Position
INTO @inserted0;

SELECT [i].[Id] FROM @inserted0 i
ORDER BY [i].[_Position];
2022-07-10 22:09:43.3805|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:09:43.3805|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Videos] ([Id], [Duration], [QualityId])
VALUES (@p2, @p3, @p4);
2022-07-10 22:09:43.3805|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:09:43.3805|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Videos] ([Id], [Duration], [QualityId])
VALUES (@p2, @p3, @p4);
2022-07-10 22:09:43.3805|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:09:43.3805|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Videos] ([Id], [Duration], [QualityId])
VALUES (@p2, @p3, @p4);
2022-07-10 22:09:43.3805|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Authors] ([FullName])
VALUES (@p0);
SELECT [Id]
FROM [Authors]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:09:43.3805|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:09:43.3805|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Books] ([Id], [ExtensionId], [PagesCount], [PublicationYear])
VALUES (@p2, @p3, @p4, @p5);
2022-07-10 22:09:43.3805|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AuthorBook] ([AuthorsId], [BooksId])
VALUES (@p6, @p7);
2022-07-10 22:09:43.3964|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Authors] ([FullName])
VALUES (@p0);
SELECT [Id]
FROM [Authors]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:09:43.3964|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:09:43.3964|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Books] ([Id], [ExtensionId], [PagesCount], [PublicationYear])
VALUES (@p2, @p3, @p4, @p5);
2022-07-10 22:09:43.3964|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AuthorBook] ([AuthorsId], [BooksId])
VALUES (@p6, @p7);
2022-07-10 22:09:43.3964|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Resources] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Resources]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:09:43.3964|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:09:43.3964|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Articles] ([Id], [PublicationDate], [ResourceId])
VALUES (@p2, @p3, @p4);
2022-07-10 22:09:43.3964|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Materials] ([Link], [Name])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Materials]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:09:43.3964|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Articles] ([Id], [PublicationDate], [ResourceId])
VALUES (@p2, @p3, @p4);
2022-07-10 22:09:43.4124|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Courses] ([AuthorId], [Description], [Name], [Price], [ShortDescription], [Thumbnail])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [Id]
FROM [Courses]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:09:43.4124|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (6ms) [Parameters=[@p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (DbType = Int32), @p24='?' (DbType = Int32), @p25='?' (DbType = Int32), @p26='?' (DbType = Int32), @p27='?' (DbType = Int32), @p28='?' (DbType = Int32), @p29='?' (DbType = Int32), @p30='?' (DbType = Int32), @p31='?' (DbType = Int32), @p32='?' (DbType = Int32), @p33='?' (DbType = Int32), @p34='?' (DbType = Int32), @p35='?' (DbType = Int32), @p36='?' (DbType = Int32), @p37='?' (DbType = Int32), @p38='?' (DbType = Int32), @p39='?' (DbType = Int32), @p40='?' (DbType = Int32), @p41='?' (DbType = Int32), @p42='?' (DbType = Int32), @p43='?' (DbType = Int32), @p44='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [CoursesMaterials] ([CourseId], [MaterialId], [Index])
VALUES (@p6, @p7, @p8),
(@p9, @p10, @p11),
(@p12, @p13, @p14),
(@p15, @p16, @p17),
(@p18, @p19, @p20),
(@p21, @p22, @p23),
(@p24, @p25, @p26);
INSERT INTO [CoursesSkills] ([CourseId], [SkillId])
VALUES (@p27, @p28),
(@p29, @p30),
(@p31, @p32),
(@p33, @p34),
(@p35, @p36),
(@p37, @p38),
(@p39, @p40),
(@p41, @p42),
(@p43, @p44);
2022-07-10 22:09:43.4124|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Courses] ([AuthorId], [Description], [Name], [Price], [ShortDescription], [Thumbnail])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [Id]
FROM [Courses]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-07-10 22:09:43.4291|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (5ms) [Parameters=[@p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [CoursesMaterials] ([CourseId], [MaterialId], [Index])
VALUES (@p6, @p7, @p8),
(@p9, @p10, @p11);
INSERT INTO [CoursesSkills] ([CourseId], [SkillId])
VALUES (@p12, @p13),
(@p14, @p15),
(@p16, @p17);
2022-07-10 22:09:43.8127|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\rareb\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-07-10 22:09:44.1362|INFO|Microsoft.Hosting.Lifetime|Now listening on: https://localhost:7106
2022-07-10 22:09:44.1493|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:7105
2022-07-10 22:09:44.1493|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down.
2022-07-10 22:09:44.1493|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development
2022-07-10 22:09:44.1493|INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\rareb\Desktop\github\educational-portal\EducationalPortal\EducationalPortal.API\
2022-07-10 22:09:45.2036|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/index.html - -
2022-07-10 22:09:45.8321|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/_framework/aspnetcore-browser-refresh.js - -
2022-07-10 22:09:45.8321|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/_vs/browserLink - -
2022-07-10 22:09:45.8605|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/_framework/aspnetcore-browser-refresh.js - - - 200 12012 application/javascript;+charset=utf-8 25.0517ms
2022-07-10 22:09:45.8605|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/index.html - - - 200 - text/html;charset=utf-8 664.8940ms
2022-07-10 22:09:45.9365|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 104.4147ms
2022-07-10 22:09:46.2363|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/v1/swagger.json - -
2022-07-10 22:09:46.7569|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 520.5763ms
2022-07-10 22:10:31.6017|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/courses?pageSize=3&pageNumber=1 - -
2022-07-10 22:10:31.7129|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-07-10 22:10:32.4617|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.CoursesController.GetCourses (EducationalPortal.API)'
2022-07-10 22:10:32.5236|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[EducationalPortal.Application.Models.DTO.Course.CourseShortDto]]] GetCourses(EducationalPortal.Application.Paging.PageParameters) on controller EducationalPortal.API.Controllers.CoursesController (EducationalPortal.API).
2022-07-10 22:10:32.5427|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-07-10 22:10:33.6846|WARN|Microsoft.EntityFrameworkCore.Query|The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-07-10 22:10:33.6846|WARN|Microsoft.EntityFrameworkCore.Query|The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-07-10 22:10:34.0562|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (50ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[AuthorId], [c].[Description], [c].[Name], [c].[Price], [c].[ShortDescription], [c].[Thumbnail]
FROM [Courses] AS [c]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-07-10 22:10:34.1521|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Courses] AS [c]
2022-07-10 22:10:34.1992|INFO|EducationalPortal.Infrastructure.Services.CoursesService|Returned courses page 1 from database.
2022-07-10 22:10:34.5198|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'EducationalPortal.Application.Paging.PagedList`1[[EducationalPortal.Application.Models.DTO.Course.CourseShortDto, EducationalPortal.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-07-10 22:10:34.6338|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.CoursesController.GetCourses (EducationalPortal.API) in 2089.5627ms
2022-07-10 22:10:34.6338|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.CoursesController.GetCourses (EducationalPortal.API)'
2022-07-10 22:10:34.6702|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/courses?pageSize=3&pageNumber=1 - - - 200 818 application/json;+charset=utf-8 3068.4354ms
