2022-08-08 00:01:02.9593|INFO|Microsoft.AspNetCore.SpaServices|Starting @angular/cli on port 62264...
2022-08-08 00:01:03.7570|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\rareb\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-08-08 00:01:05.5444|INFO|Microsoft.Hosting.Lifetime|Now listening on: https://localhost:7106
2022-08-08 00:01:05.5444|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:7105
2022-08-08 00:01:05.5444|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down.
2022-08-08 00:01:05.5444|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development
2022-08-08 00:01:05.5444|INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\rareb\Desktop\github\educational-portal\EducationalPortal\EducationalPortal.API\
2022-08-08 00:01:05.9643|ERROR|Microsoft.AspNetCore.SpaServices|npm WARN config global `--global`, `--local` are deprecated. Use `--location=global` instead.

2022-08-08 00:01:08.5778|INFO|Microsoft.AspNetCore.SpaServices|> educational-portal.app@0.0.0 start

2022-08-08 00:01:08.5778|INFO|Microsoft.AspNetCore.SpaServices|> ng serve

2022-08-08 00:01:08.8074|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger - -
2022-08-08 00:01:09.0665|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger - - - 301 0 - 263.8869ms
2022-08-08 00:01:09.1086|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/index.html - -
2022-08-08 00:01:10.0218|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/index.html - - - 200 - text/html;charset=utf-8 913.1938ms
2022-08-08 00:01:10.0415|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/swagger-ui-bundle.js - -
2022-08-08 00:01:10.0415|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/swagger-ui.css - -
2022-08-08 00:01:10.0415|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/swagger-ui-standalone-preset.js - -
2022-08-08 00:01:10.1036|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/_vs/browserLink - -
2022-08-08 00:01:10.1036|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/_framework/aspnetcore-browser-refresh.js - -
2022-08-08 00:01:10.1457|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/_framework/aspnetcore-browser-refresh.js - - - 200 12012 application/javascript;+charset=utf-8 42.0468ms
2022-08-08 00:01:10.2058|INFO|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2022-08-08 00:01:10.2121|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/swagger-ui.css - - - 200 143943 text/css 170.4699ms
2022-08-08 00:01:10.2121|INFO|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2022-08-08 00:01:10.2121|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/swagger-ui-standalone-preset.js - - - 200 339486 application/javascript 171.1284ms
2022-08-08 00:01:10.5985|INFO|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2022-08-08 00:01:10.5985|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/swagger-ui-bundle.js - - - 200 1095087 application/javascript 557.2917ms
2022-08-08 00:01:10.6890|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 585.3445ms
2022-08-08 00:01:11.4030|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/v1/swagger.json - -
2022-08-08 00:01:12.3011|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 897.9899ms
2022-08-08 00:01:28.3366|ERROR|Microsoft.AspNetCore.SpaServices|- Generating browser application bundles (phase: setup)...

2022-08-08 00:01:30.7405|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/courses - -
2022-08-08 00:01:31.8875|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.CoursesController.GetCoursesAsync (EducationalPortal.API)'
2022-08-08 00:01:31.9911|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[EducationalPortal.Application.Models.DTO.Course.CourseShortDto]] GetCoursesAsync(EducationalPortal.Application.Paging.PageParameters, System.Threading.CancellationToken) on controller EducationalPortal.API.Controllers.CoursesController (EducationalPortal.API).
2022-08-08 00:01:36.5356|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-08-08 00:01:38.6625|WARN|Microsoft.EntityFrameworkCore.Query|The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-08-08 00:01:38.6625|WARN|Microsoft.EntityFrameworkCore.Query|The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-08-08 00:01:42.0713|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (387ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[AuthorId], [c].[Description], [c].[Name], [c].[Price], [c].[ShortDescription], [c].[Thumbnail]
FROM [Courses] AS [c]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-08-08 00:01:42.4990|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (160ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Courses] AS [c]
2022-08-08 00:01:42.5599|INFO|EducationalPortal.Infrastructure.Services.CoursesService|Returned courses page 1 from database.
2022-08-08 00:01:43.0560|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'EducationalPortal.Application.Paging.PagedList`1[[EducationalPortal.Application.Models.DTO.Course.CourseShortDto, EducationalPortal.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-08 00:01:43.2333|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.CoursesController.GetCoursesAsync (EducationalPortal.API) in 11227.1945ms
2022-08-08 00:01:43.2412|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.CoursesController.GetCoursesAsync (EducationalPortal.API)'
2022-08-08 00:01:43.2853|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/courses - - - 200 818 application/json;+charset=utf-8 12544.7526ms
2022-08-08 00:01:58.3735|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/courses - -
2022-08-08 00:02:18.2539|ERROR|Microsoft.AspNetCore.SpaServices|ΓêÜ Browser application bundle generation complete.

2022-08-08 00:02:18.6382|INFO|Microsoft.AspNetCore.SpaServices|Initial Chunk Files   | Names         |  Raw Size

2022-08-08 00:02:18.6382|INFO|Microsoft.AspNetCore.SpaServices|vendor.js             | vendor        |   2.35 MB |

2022-08-08 00:02:18.6382|INFO|Microsoft.AspNetCore.SpaServices|main.js               | main          | 387.86 kB |

2022-08-08 00:02:18.6382|INFO|Microsoft.AspNetCore.SpaServices|polyfills.js          | polyfills     | 294.87 kB |

2022-08-08 00:02:18.6382|INFO|Microsoft.AspNetCore.SpaServices|styles.css, styles.js | styles        | 173.25 kB |

2022-08-08 00:02:18.6382|INFO|Microsoft.AspNetCore.SpaServices|runtime.js            | runtime       |   6.54 kB |

2022-08-08 00:02:18.6382|INFO|Microsoft.AspNetCore.SpaServices|| Initial Total |   3.19 MB

2022-08-08 00:02:18.6382|INFO|Microsoft.AspNetCore.SpaServices|Build at: 2022-08-07T21:02:18.238Z - Hash: 8c0001bd6baece30 - Time: 47900ms

2022-08-08 00:02:18.6382|INFO|Microsoft.AspNetCore.SpaServices|** Angular Live Development Server is listening on localhost:62264, open your browser on http://localhost:62264/ **

2022-08-08 00:02:18.8158|INFO|Microsoft.AspNetCore.SpaServices|ΓêÜ Compiled successfully.

2022-08-08 00:02:23.6279|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/courses - - - 200 - text/html;+charset=utf-8 25254.2742ms
2022-08-08 00:02:23.7437|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/styles.css - -
2022-08-08 00:02:23.7662|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/runtime.js - -
2022-08-08 00:02:23.7944|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/polyfills.js - -
2022-08-08 00:02:23.8258|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-08-08 00:02:23.8258|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-08-08 00:02:23.8258|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/vendor.js - -
2022-08-08 00:02:23.8258|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-08-08 00:02:23.8354|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/styles.css - - - 200 737 text/css;+charset=utf-8 91.6731ms
2022-08-08 00:02:23.8354|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/_vs/browserLink - -
2022-08-08 00:02:23.8565|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/styles.js - -
2022-08-08 00:02:23.8769|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/_framework/aspnetcore-browser-refresh.js - -
2022-08-08 00:02:23.8820|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/main.js - -
2022-08-08 00:02:23.8820|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-08-08 00:02:23.9273|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/_framework/aspnetcore-browser-refresh.js - - - 200 12012 application/javascript;+charset=utf-8 50.2972ms
2022-08-08 00:02:24.0957|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/runtime.js - - - 200 6696 application/javascript;+charset=utf-8 329.4726ms
2022-08-08 00:02:24.2500|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/polyfills.js - - - 200 301943 application/javascript;+charset=utf-8 455.4591ms
2022-08-08 00:02:24.3697|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7106/runtime.js.map - -
2022-08-08 00:02:24.3697|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7106/ws - -
2022-08-08 00:02:24.3697|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-08-08 00:02:24.4123|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7106/polyfills.js.map - -
2022-08-08 00:02:24.8210|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 984.5878ms
2022-08-08 00:02:24.9883|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/vendor.js - - - 200 2462581 application/javascript;+charset=utf-8 1160.3422ms
2022-08-08 00:02:25.0279|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/styles.js - - - 200 176668 application/javascript;+charset=utf-8 1177.4409ms
2022-08-08 00:02:25.0555|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/main.js - - - 200 397165 application/javascript;+charset=utf-8 1173.4861ms
2022-08-08 00:02:25.0693|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7106/runtime.js.map - - - 200 5719 application/json;+charset=utf-8 699.6585ms
2022-08-08 00:02:25.2102|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7106/polyfills.js.map - - - 200 368440 application/json;+charset=utf-8 797.8377ms
2022-08-08 00:02:25.3543|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7106/vendor.js.map - -
2022-08-08 00:02:25.4462|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7106/styles.js.map - -
2022-08-08 00:02:25.4694|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7106/main.js.map - -
2022-08-08 00:02:26.2143|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:7106/api/tokens/refresh application/json 595
2022-08-08 00:02:26.2143|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/courses?pageSize=3&pageNumber=1 - -
2022-08-08 00:02:26.2332|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-08-08 00:02:26.3315|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7106/vendor.js.map - - - 200 3242823 application/json;+charset=utf-8 977.2229ms
2022-08-08 00:02:26.3519|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7106/styles.js.map - - - 200 225660 application/json;+charset=utf-8 905.6762ms
2022-08-08 00:02:26.3737|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7106/main.js.map - - - 200 220587 application/json;+charset=utf-8 904.4431ms
2022-08-08 00:02:26.9397|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Failed to validate the token.|Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-08-08 00:02:26.9397|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Failed to validate the token.|Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-08-08 00:02:27.5182|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2022-08-08 00:02:27.5182|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.CoursesController.GetCoursesAsync (EducationalPortal.API)'
2022-08-08 00:02:27.5193|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[EducationalPortal.Application.Models.DTO.Course.CourseShortDto]] GetCoursesAsync(EducationalPortal.Application.Paging.PageParameters, System.Threading.CancellationToken) on controller EducationalPortal.API.Controllers.CoursesController (EducationalPortal.API).
2022-08-08 00:02:27.5617|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2022-08-08 00:02:27.5617|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.TokensController.RefreshAsync (EducationalPortal.API)'
2022-08-08 00:02:27.5731|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Refresh", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EducationalPortal.Application.Models.TokensModel]] RefreshAsync(EducationalPortal.Application.Models.TokensModel, System.Threading.CancellationToken) on controller EducationalPortal.API.Controllers.TokensController (EducationalPortal.API).
2022-08-08 00:02:27.6316|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-08-08 00:02:27.8029|INFO|EducationalPortal.Infrastructure.Services.Identity.TokensService|Returned data from expired access token.
2022-08-08 00:02:27.8270|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-08-08 00:02:27.8270|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (153ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[AuthorId], [c].[Description], [c].[Name], [c].[Price], [c].[ShortDescription], [c].[Thumbnail]
FROM [Courses] AS [c]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-08-08 00:02:27.9603|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (129ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Courses] AS [c]
2022-08-08 00:02:27.9603|INFO|EducationalPortal.Infrastructure.Services.CoursesService|Returned courses page 1 from database.
2022-08-08 00:02:27.9603|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'EducationalPortal.Application.Paging.PagedList`1[[EducationalPortal.Application.Models.DTO.Course.CourseShortDto, EducationalPortal.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-08 00:02:27.9603|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.CoursesController.GetCoursesAsync (EducationalPortal.API) in 449.7388ms
2022-08-08 00:02:27.9603|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.CoursesController.GetCoursesAsync (EducationalPortal.API)'
2022-08-08 00:02:27.9603|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/courses?pageSize=3&pageNumber=1 - - - 200 818 application/json;+charset=utf-8 1753.2635ms
2022-08-08 00:02:28.8578|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (124ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Avatar], [t].[Balance], [t].[Email], [t].[Name], [t].[PasswordHash], [t].[Position], [t].[UserTokenId], [t].[Id0], [t].[RefreshToken], [t].[RefreshTokenExpiryTime], [t0].[RolesId], [t0].[UsersId], [t0].[Id], [t0].[Name]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Balance], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[Position], [u].[UserTokenId], [u0].[Id] AS [Id0], [u0].[RefreshToken], [u0].[RefreshTokenExpiryTime]
    FROM [Users] AS [u]
    LEFT JOIN [UserToken] AS [u0] ON [u].[UserTokenId] = [u0].[Id]
    WHERE 0 = 1
) AS [t]
LEFT JOIN (
    SELECT [r].[RolesId], [r].[UsersId], [r0].[Id], [r0].[Name]
    FROM [RoleUser] AS [r]
    INNER JOIN [Roles] AS [r0] ON [r].[RolesId] = [r0].[Id]
) AS [t0] ON [t].[Id] = [t0].[UsersId]
ORDER BY [t].[Id], [t].[Id0], [t0].[RolesId], [t0].[UsersId]
2022-08-08 00:02:29.4645|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.TokensController.RefreshAsync (EducationalPortal.API) in 1891.2877ms
2022-08-08 00:02:29.4645|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.TokensController.RefreshAsync (EducationalPortal.API)'
2022-08-08 00:02:30.3599|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/courses/2 - -
2022-08-08 00:02:30.3741|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Failed to validate the token.|Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-08-08 00:02:30.3741|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2022-08-08 00:02:30.3741|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.CoursesController.GetCourseAsync (EducationalPortal.API)'
2022-08-08 00:02:30.3862|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[EducationalPortal.Application.Models.DTO.Course.CourseDto] GetCourseAsync(Int32, System.Threading.CancellationToken) on controller EducationalPortal.API.Controllers.CoursesController (EducationalPortal.API).
2022-08-08 00:02:30.3998|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-08-08 00:02:30.4195|ERROR|EducationalPortal.Infrastructure.ExceptionHandling.ExceptionMiddleware|Something went wrong: Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: SecurityToken has Expired
   at EducationalPortal.Infrastructure.Services.Identity.TokensService.RefreshAsync(TokensModel tokensModel, String email, CancellationToken cancellationToken) in C:\Users\rareb\Desktop\github\educational-portal\EducationalPortal\EducationalPortal.Infrastructure\Services\Identity\TokensService.cs:line 39
   at EducationalPortal.API.Controllers.TokensController.RefreshAsync(TokensModel tokensModel, CancellationToken cancellationToken) in C:\Users\rareb\Desktop\github\educational-portal\EducationalPortal\EducationalPortal.API\Controllers\TokensController.cs:line 20
   at lambda_method58(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at EducationalPortal.Infrastructure.ExceptionHandling.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Users\rareb\Desktop\github\educational-portal\EducationalPortal\EducationalPortal.Infrastructure\ExceptionHandling\ExceptionMiddleware.cs:line 25
2022-08-08 00:02:30.4298|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:7106/api/tokens/refresh application/json 595 - 500 - application/json 4215.4651ms
2022-08-08 00:02:30.7086|WARN|Microsoft.EntityFrameworkCore.Query|Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-08-08 00:02:31.7163|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (952ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[AuthorId], [t].[Description], [t].[Name], [t].[Price], [t].[ShortDescription], [t].[Thumbnail], [t].[Id0], [t].[Avatar], [t].[Balance], [t].[Email], [t].[Name0], [t].[PasswordHash], [t].[Position], [t].[UserTokenId], [t0].[CourseId], [t0].[MaterialId], [t0].[Index], [t0].[Id], [t0].[Link], [t0].[Name], [t0].[PublicationDate], [t0].[ResourceId], [t0].[ExtensionId], [t0].[PagesCount], [t0].[PublicationYear], [t0].[Duration], [t0].[QualityId], [t0].[Discriminator], [t2].[CourseId], [t2].[SkillId], [t2].[Id], [t2].[Name]
FROM (
    SELECT TOP(1) [c].[Id], [c].[AuthorId], [c].[Description], [c].[Name], [c].[Price], [c].[ShortDescription], [c].[Thumbnail], [u].[Id] AS [Id0], [u].[Avatar], [u].[Balance], [u].[Email], [u].[Name] AS [Name0], [u].[PasswordHash], [u].[Position], [u].[UserTokenId]
    FROM [Courses] AS [c]
    LEFT JOIN [Users] AS [u] ON [c].[AuthorId] = [u].[Id]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [c0].[CourseId], [c0].[MaterialId], [c0].[Index], [t1].[Id], [t1].[Link], [t1].[Name], [t1].[PublicationDate], [t1].[ResourceId], [t1].[ExtensionId], [t1].[PagesCount], [t1].[PublicationYear], [t1].[Duration], [t1].[QualityId], [t1].[Discriminator]
    FROM [CoursesMaterials] AS [c0]
    INNER JOIN (
        SELECT [m].[Id], [m].[Link], [m].[Name], [a].[PublicationDate], [a].[ResourceId], [b].[ExtensionId], [b].[PagesCount], [b].[PublicationYear], [v].[Duration], [v].[QualityId], CASE
            WHEN [v].[Id] IS NOT NULL THEN N'Video'
            WHEN [b].[Id] IS NOT NULL THEN N'Book'
            WHEN [a].[Id] IS NOT NULL THEN N'Article'
        END AS [Discriminator]
        FROM [Materials] AS [m]
        LEFT JOIN [Articles] AS [a] ON [m].[Id] = [a].[Id]
        LEFT JOIN [Books] AS [b] ON [m].[Id] = [b].[Id]
        LEFT JOIN [Videos] AS [v] ON [m].[Id] = [v].[Id]
    ) AS [t1] ON [c0].[MaterialId] = [t1].[Id]
) AS [t0] ON [t].[Id] = [t0].[CourseId]
LEFT JOIN (
    SELECT [c1].[CourseId], [c1].[SkillId], [s].[Id], [s].[Name]
    FROM [CoursesSkills] AS [c1]
    INNER JOIN [Skills] AS [s] ON [c1].[SkillId] = [s].[Id]
) AS [t2] ON [t].[Id] = [t2].[CourseId]
ORDER BY [t].[Id], [t].[Id0], [t0].[CourseId], [t0].[MaterialId], [t0].[Id], [t2].[CourseId], [t2].[SkillId]
2022-08-08 00:02:32.3691|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/courses?pageSize=3&pageNumber=1 - -
2022-08-08 00:02:32.3691|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Failed to validate the token.|Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-08-08 00:02:32.3691|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2022-08-08 00:02:32.3691|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.CoursesController.GetCoursesAsync (EducationalPortal.API)'
2022-08-08 00:02:32.3691|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[EducationalPortal.Application.Models.DTO.Course.CourseShortDto]] GetCoursesAsync(EducationalPortal.Application.Paging.PageParameters, System.Threading.CancellationToken) on controller EducationalPortal.API.Controllers.CoursesController (EducationalPortal.API).
2022-08-08 00:02:32.3691|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-08-08 00:02:32.7927|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (127ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Link], [t].[Name], [t].[ExtensionId], [t].[PagesCount], [t].[PublicationYear], [t].[Id0], [t0].[AuthorsId], [t0].[BooksId], [t0].[Id], [t0].[FullName], [t].[Name0]
FROM (
    SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [b].[ExtensionId], [b].[PagesCount], [b].[PublicationYear], [e].[Id] AS [Id0], [e].[Name] AS [Name0]
    FROM [Materials] AS [m]
    INNER JOIN [Books] AS [b] ON [m].[Id] = [b].[Id]
    INNER JOIN [Extensions] AS [e] ON [b].[ExtensionId] = [e].[Id]
    WHERE [m].[Id] = @__cm_MaterialId_0
) AS [t]
LEFT JOIN (
    SELECT [a].[AuthorsId], [a].[BooksId], [a0].[Id], [a0].[FullName]
    FROM [AuthorBook] AS [a]
    INNER JOIN [Authors] AS [a0] ON [a].[AuthorsId] = [a0].[Id]
) AS [t0] ON [t].[Id] = [t0].[BooksId]
ORDER BY [t].[Id], [t].[Id0], [t0].[AuthorsId], [t0].[BooksId]
2022-08-08 00:02:32.9409|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (123ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [v].[Duration], [v].[QualityId], [q].[Id], [q].[Name]
FROM [Materials] AS [m]
INNER JOIN [Videos] AS [v] ON [m].[Id] = [v].[Id]
INNER JOIN [Qualities] AS [q] ON [v].[QualityId] = [q].[Id]
WHERE [m].[Id] = @__cm_MaterialId_0
2022-08-08 00:02:33.1048|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (123ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [a].[PublicationDate], [a].[ResourceId], [r].[Id], [r].[Name]
FROM [Materials] AS [m]
INNER JOIN [Articles] AS [a] ON [m].[Id] = [a].[Id]
INNER JOIN [Resources] AS [r] ON [a].[ResourceId] = [r].[Id]
WHERE [m].[Id] = @__cm_MaterialId_0
2022-08-08 00:02:33.2368|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (124ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Link], [t].[Name], [t].[ExtensionId], [t].[PagesCount], [t].[PublicationYear], [t].[Id0], [t0].[AuthorsId], [t0].[BooksId], [t0].[Id], [t0].[FullName], [t].[Name0]
FROM (
    SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [b].[ExtensionId], [b].[PagesCount], [b].[PublicationYear], [e].[Id] AS [Id0], [e].[Name] AS [Name0]
    FROM [Materials] AS [m]
    INNER JOIN [Books] AS [b] ON [m].[Id] = [b].[Id]
    INNER JOIN [Extensions] AS [e] ON [b].[ExtensionId] = [e].[Id]
    WHERE [m].[Id] = @__cm_MaterialId_0
) AS [t]
LEFT JOIN (
    SELECT [a].[AuthorsId], [a].[BooksId], [a0].[Id], [a0].[FullName]
    FROM [AuthorBook] AS [a]
    INNER JOIN [Authors] AS [a0] ON [a].[AuthorsId] = [a0].[Id]
) AS [t0] ON [t].[Id] = [t0].[BooksId]
ORDER BY [t].[Id], [t].[Id0], [t0].[AuthorsId], [t0].[BooksId]
2022-08-08 00:02:33.4100|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (161ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[AuthorId], [c].[Description], [c].[Name], [c].[Price], [c].[ShortDescription], [c].[Thumbnail]
FROM [Courses] AS [c]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-08-08 00:02:33.4100|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (133ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [v].[Duration], [v].[QualityId], [q].[Id], [q].[Name]
FROM [Materials] AS [m]
INNER JOIN [Videos] AS [v] ON [m].[Id] = [v].[Id]
INNER JOIN [Qualities] AS [q] ON [v].[QualityId] = [q].[Id]
WHERE [m].[Id] = @__cm_MaterialId_0
2022-08-08 00:02:33.5447|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (134ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [a].[PublicationDate], [a].[ResourceId], [r].[Id], [r].[Name]
FROM [Materials] AS [m]
INNER JOIN [Articles] AS [a] ON [m].[Id] = [a].[Id]
INNER JOIN [Resources] AS [r] ON [a].[ResourceId] = [r].[Id]
WHERE [m].[Id] = @__cm_MaterialId_0
2022-08-08 00:02:33.6715|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (126ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Link], [t].[Name], [t].[ExtensionId], [t].[PagesCount], [t].[PublicationYear], [t].[Id0], [t0].[AuthorsId], [t0].[BooksId], [t0].[Id], [t0].[FullName], [t].[Name0]
FROM (
    SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [b].[ExtensionId], [b].[PagesCount], [b].[PublicationYear], [e].[Id] AS [Id0], [e].[Name] AS [Name0]
    FROM [Materials] AS [m]
    INNER JOIN [Books] AS [b] ON [m].[Id] = [b].[Id]
    INNER JOIN [Extensions] AS [e] ON [b].[ExtensionId] = [e].[Id]
    WHERE [m].[Id] = @__cm_MaterialId_0
) AS [t]
LEFT JOIN (
    SELECT [a].[AuthorsId], [a].[BooksId], [a0].[Id], [a0].[FullName]
    FROM [AuthorBook] AS [a]
    INNER JOIN [Authors] AS [a0] ON [a].[AuthorsId] = [a0].[Id]
) AS [t0] ON [t].[Id] = [t0].[BooksId]
ORDER BY [t].[Id], [t].[Id0], [t0].[AuthorsId], [t0].[BooksId]
2022-08-08 00:02:33.8123|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (140ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [v].[Duration], [v].[QualityId], [q].[Id], [q].[Name]
FROM [Materials] AS [m]
INNER JOIN [Videos] AS [v] ON [m].[Id] = [v].[Id]
INNER JOIN [Qualities] AS [q] ON [v].[QualityId] = [q].[Id]
WHERE [m].[Id] = @__cm_MaterialId_0
2022-08-08 00:02:33.8754|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (465ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Courses] AS [c]
2022-08-08 00:02:33.8804|INFO|EducationalPortal.Infrastructure.Services.CoursesService|Returned courses page 1 from database.
2022-08-08 00:02:33.8804|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'EducationalPortal.Application.Paging.PagedList`1[[EducationalPortal.Application.Models.DTO.Course.CourseShortDto, EducationalPortal.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-08 00:02:33.8804|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.CoursesController.GetCoursesAsync (EducationalPortal.API) in 1507.1414ms
2022-08-08 00:02:33.8804|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.CoursesController.GetCoursesAsync (EducationalPortal.API)'
2022-08-08 00:02:33.8804|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/courses?pageSize=3&pageNumber=1 - - - 200 818 application/json;+charset=utf-8 1512.1828ms
2022-08-08 00:02:33.9410|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (127ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [a].[PublicationDate], [a].[ResourceId], [r].[Id], [r].[Name]
FROM [Materials] AS [m]
INNER JOIN [Articles] AS [a] ON [m].[Id] = [a].[Id]
INNER JOIN [Resources] AS [r] ON [a].[ResourceId] = [r].[Id]
WHERE [m].[Id] = @__cm_MaterialId_0
2022-08-08 00:02:34.0673|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (125ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Link], [t].[Name], [t].[ExtensionId], [t].[PagesCount], [t].[PublicationYear], [t].[Id0], [t0].[AuthorsId], [t0].[BooksId], [t0].[Id], [t0].[FullName], [t].[Name0]
FROM (
    SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [b].[ExtensionId], [b].[PagesCount], [b].[PublicationYear], [e].[Id] AS [Id0], [e].[Name] AS [Name0]
    FROM [Materials] AS [m]
    INNER JOIN [Books] AS [b] ON [m].[Id] = [b].[Id]
    INNER JOIN [Extensions] AS [e] ON [b].[ExtensionId] = [e].[Id]
    WHERE [m].[Id] = @__cm_MaterialId_0
) AS [t]
LEFT JOIN (
    SELECT [a].[AuthorsId], [a].[BooksId], [a0].[Id], [a0].[FullName]
    FROM [AuthorBook] AS [a]
    INNER JOIN [Authors] AS [a0] ON [a].[AuthorsId] = [a0].[Id]
) AS [t0] ON [t].[Id] = [t0].[BooksId]
ORDER BY [t].[Id], [t].[Id0], [t0].[AuthorsId], [t0].[BooksId]
2022-08-08 00:02:34.2047|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (137ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [v].[Duration], [v].[QualityId], [q].[Id], [q].[Name]
FROM [Materials] AS [m]
INNER JOIN [Videos] AS [v] ON [m].[Id] = [v].[Id]
INNER JOIN [Qualities] AS [q] ON [v].[QualityId] = [q].[Id]
WHERE [m].[Id] = @__cm_MaterialId_0
2022-08-08 00:02:34.3290|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (123ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [a].[PublicationDate], [a].[ResourceId], [r].[Id], [r].[Name]
FROM [Materials] AS [m]
INNER JOIN [Articles] AS [a] ON [m].[Id] = [a].[Id]
INNER JOIN [Resources] AS [r] ON [a].[ResourceId] = [r].[Id]
WHERE [m].[Id] = @__cm_MaterialId_0
2022-08-08 00:02:34.5032|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (172ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Link], [t].[Name], [t].[ExtensionId], [t].[PagesCount], [t].[PublicationYear], [t].[Id0], [t0].[AuthorsId], [t0].[BooksId], [t0].[Id], [t0].[FullName], [t].[Name0]
FROM (
    SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [b].[ExtensionId], [b].[PagesCount], [b].[PublicationYear], [e].[Id] AS [Id0], [e].[Name] AS [Name0]
    FROM [Materials] AS [m]
    INNER JOIN [Books] AS [b] ON [m].[Id] = [b].[Id]
    INNER JOIN [Extensions] AS [e] ON [b].[ExtensionId] = [e].[Id]
    WHERE [m].[Id] = @__cm_MaterialId_0
) AS [t]
LEFT JOIN (
    SELECT [a].[AuthorsId], [a].[BooksId], [a0].[Id], [a0].[FullName]
    FROM [AuthorBook] AS [a]
    INNER JOIN [Authors] AS [a0] ON [a].[AuthorsId] = [a0].[Id]
) AS [t0] ON [t].[Id] = [t0].[BooksId]
ORDER BY [t].[Id], [t].[Id0], [t0].[AuthorsId], [t0].[BooksId]
2022-08-08 00:02:34.6841|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (174ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [v].[Duration], [v].[QualityId], [q].[Id], [q].[Name]
FROM [Materials] AS [m]
INNER JOIN [Videos] AS [v] ON [m].[Id] = [v].[Id]
INNER JOIN [Qualities] AS [q] ON [v].[QualityId] = [q].[Id]
WHERE [m].[Id] = @__cm_MaterialId_0
2022-08-08 00:02:34.7561|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/courses/2 - -
2022-08-08 00:02:34.8050|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Failed to validate the token.|Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-08-08 00:02:34.8050|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2022-08-08 00:02:34.8050|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.CoursesController.GetCourseAsync (EducationalPortal.API)'
2022-08-08 00:02:34.8050|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[EducationalPortal.Application.Models.DTO.Course.CourseDto] GetCourseAsync(Int32, System.Threading.CancellationToken) on controller EducationalPortal.API.Controllers.CoursesController (EducationalPortal.API).
2022-08-08 00:02:34.8050|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-08-08 00:02:35.2098|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (132ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [a].[PublicationDate], [a].[ResourceId], [r].[Id], [r].[Name]
FROM [Materials] AS [m]
INNER JOIN [Articles] AS [a] ON [m].[Id] = [a].[Id]
INNER JOIN [Resources] AS [r] ON [a].[ResourceId] = [r].[Id]
WHERE [m].[Id] = @__cm_MaterialId_0
2022-08-08 00:02:35.3580|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (134ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Link], [t].[Name], [t].[ExtensionId], [t].[PagesCount], [t].[PublicationYear], [t].[Id0], [t0].[AuthorsId], [t0].[BooksId], [t0].[Id], [t0].[FullName], [t].[Name0]
FROM (
    SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [b].[ExtensionId], [b].[PagesCount], [b].[PublicationYear], [e].[Id] AS [Id0], [e].[Name] AS [Name0]
    FROM [Materials] AS [m]
    INNER JOIN [Books] AS [b] ON [m].[Id] = [b].[Id]
    INNER JOIN [Extensions] AS [e] ON [b].[ExtensionId] = [e].[Id]
    WHERE [m].[Id] = @__cm_MaterialId_0
) AS [t]
LEFT JOIN (
    SELECT [a].[AuthorsId], [a].[BooksId], [a0].[Id], [a0].[FullName]
    FROM [AuthorBook] AS [a]
    INNER JOIN [Authors] AS [a0] ON [a].[AuthorsId] = [a0].[Id]
) AS [t0] ON [t].[Id] = [t0].[BooksId]
ORDER BY [t].[Id], [t].[Id0], [t0].[AuthorsId], [t0].[BooksId]
2022-08-08 00:02:35.4002|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (530ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[AuthorId], [t].[Description], [t].[Name], [t].[Price], [t].[ShortDescription], [t].[Thumbnail], [t].[Id0], [t].[Avatar], [t].[Balance], [t].[Email], [t].[Name0], [t].[PasswordHash], [t].[Position], [t].[UserTokenId], [t0].[CourseId], [t0].[MaterialId], [t0].[Index], [t0].[Id], [t0].[Link], [t0].[Name], [t0].[PublicationDate], [t0].[ResourceId], [t0].[ExtensionId], [t0].[PagesCount], [t0].[PublicationYear], [t0].[Duration], [t0].[QualityId], [t0].[Discriminator], [t2].[CourseId], [t2].[SkillId], [t2].[Id], [t2].[Name]
FROM (
    SELECT TOP(1) [c].[Id], [c].[AuthorId], [c].[Description], [c].[Name], [c].[Price], [c].[ShortDescription], [c].[Thumbnail], [u].[Id] AS [Id0], [u].[Avatar], [u].[Balance], [u].[Email], [u].[Name] AS [Name0], [u].[PasswordHash], [u].[Position], [u].[UserTokenId]
    FROM [Courses] AS [c]
    LEFT JOIN [Users] AS [u] ON [c].[AuthorId] = [u].[Id]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [c0].[CourseId], [c0].[MaterialId], [c0].[Index], [t1].[Id], [t1].[Link], [t1].[Name], [t1].[PublicationDate], [t1].[ResourceId], [t1].[ExtensionId], [t1].[PagesCount], [t1].[PublicationYear], [t1].[Duration], [t1].[QualityId], [t1].[Discriminator]
    FROM [CoursesMaterials] AS [c0]
    INNER JOIN (
        SELECT [m].[Id], [m].[Link], [m].[Name], [a].[PublicationDate], [a].[ResourceId], [b].[ExtensionId], [b].[PagesCount], [b].[PublicationYear], [v].[Duration], [v].[QualityId], CASE
            WHEN [v].[Id] IS NOT NULL THEN N'Video'
            WHEN [b].[Id] IS NOT NULL THEN N'Book'
            WHEN [a].[Id] IS NOT NULL THEN N'Article'
        END AS [Discriminator]
        FROM [Materials] AS [m]
        LEFT JOIN [Articles] AS [a] ON [m].[Id] = [a].[Id]
        LEFT JOIN [Books] AS [b] ON [m].[Id] = [b].[Id]
        LEFT JOIN [Videos] AS [v] ON [m].[Id] = [v].[Id]
    ) AS [t1] ON [c0].[MaterialId] = [t1].[Id]
) AS [t0] ON [t].[Id] = [t0].[CourseId]
LEFT JOIN (
    SELECT [c1].[CourseId], [c1].[SkillId], [s].[Id], [s].[Name]
    FROM [CoursesSkills] AS [c1]
    INNER JOIN [Skills] AS [s] ON [c1].[SkillId] = [s].[Id]
) AS [t2] ON [t].[Id] = [t2].[CourseId]
ORDER BY [t].[Id], [t].[Id0], [t0].[CourseId], [t0].[MaterialId], [t0].[Id], [t2].[CourseId], [t2].[SkillId]
2022-08-08 00:02:35.4812|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (122ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [v].[Duration], [v].[QualityId], [q].[Id], [q].[Name]
FROM [Materials] AS [m]
INNER JOIN [Videos] AS [v] ON [m].[Id] = [v].[Id]
INNER JOIN [Qualities] AS [q] ON [v].[QualityId] = [q].[Id]
WHERE [m].[Id] = @__cm_MaterialId_0
2022-08-08 00:02:35.6105|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (129ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [a].[PublicationDate], [a].[ResourceId], [r].[Id], [r].[Name]
FROM [Materials] AS [m]
INNER JOIN [Articles] AS [a] ON [m].[Id] = [a].[Id]
INNER JOIN [Resources] AS [r] ON [a].[ResourceId] = [r].[Id]
WHERE [m].[Id] = @__cm_MaterialId_0
2022-08-08 00:02:35.7359|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (125ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Link], [t].[Name], [t].[ExtensionId], [t].[PagesCount], [t].[PublicationYear], [t].[Id0], [t0].[AuthorsId], [t0].[BooksId], [t0].[Id], [t0].[FullName], [t].[Name0]
FROM (
    SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [b].[ExtensionId], [b].[PagesCount], [b].[PublicationYear], [e].[Id] AS [Id0], [e].[Name] AS [Name0]
    FROM [Materials] AS [m]
    INNER JOIN [Books] AS [b] ON [m].[Id] = [b].[Id]
    INNER JOIN [Extensions] AS [e] ON [b].[ExtensionId] = [e].[Id]
    WHERE [m].[Id] = @__cm_MaterialId_0
) AS [t]
LEFT JOIN (
    SELECT [a].[AuthorsId], [a].[BooksId], [a0].[Id], [a0].[FullName]
    FROM [AuthorBook] AS [a]
    INNER JOIN [Authors] AS [a0] ON [a].[AuthorsId] = [a0].[Id]
) AS [t0] ON [t].[Id] = [t0].[BooksId]
ORDER BY [t].[Id], [t].[Id0], [t0].[AuthorsId], [t0].[BooksId]
2022-08-08 00:02:35.8594|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (123ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [v].[Duration], [v].[QualityId], [q].[Id], [q].[Name]
FROM [Materials] AS [m]
INNER JOIN [Videos] AS [v] ON [m].[Id] = [v].[Id]
INNER JOIN [Qualities] AS [q] ON [v].[QualityId] = [q].[Id]
WHERE [m].[Id] = @__cm_MaterialId_0
2022-08-08 00:02:35.9883|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (128ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [a].[PublicationDate], [a].[ResourceId], [r].[Id], [r].[Name]
FROM [Materials] AS [m]
INNER JOIN [Articles] AS [a] ON [m].[Id] = [a].[Id]
INNER JOIN [Resources] AS [r] ON [a].[ResourceId] = [r].[Id]
WHERE [m].[Id] = @__cm_MaterialId_0
2022-08-08 00:02:36.1629|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (133ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Avatar], [t].[Balance], [t].[Email], [t].[Name], [t].[PasswordHash], [t].[Position], [t].[UserTokenId], [t0].[MaterialsId], [t0].[UsersId], [t0].[Id], [t0].[Link], [t0].[Name], [t0].[PublicationDate], [t0].[ResourceId], [t0].[ExtensionId], [t0].[PagesCount], [t0].[PublicationYear], [t0].[Duration], [t0].[QualityId], [t0].[Discriminator]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Balance], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[Position], [u].[UserTokenId]
    FROM [Users] AS [u]
    WHERE 0 = 1
) AS [t]
LEFT JOIN (
    SELECT [m].[MaterialsId], [m].[UsersId], [t1].[Id], [t1].[Link], [t1].[Name], [t1].[PublicationDate], [t1].[ResourceId], [t1].[ExtensionId], [t1].[PagesCount], [t1].[PublicationYear], [t1].[Duration], [t1].[QualityId], [t1].[Discriminator]
    FROM [MaterialsBaseUser] AS [m]
    INNER JOIN (
        SELECT [m0].[Id], [m0].[Link], [m0].[Name], [a].[PublicationDate], [a].[ResourceId], [b].[ExtensionId], [b].[PagesCount], [b].[PublicationYear], [v].[Duration], [v].[QualityId], CASE
            WHEN [v].[Id] IS NOT NULL THEN N'Video'
            WHEN [b].[Id] IS NOT NULL THEN N'Book'
            WHEN [a].[Id] IS NOT NULL THEN N'Article'
        END AS [Discriminator]
        FROM [Materials] AS [m0]
        LEFT JOIN [Articles] AS [a] ON [m0].[Id] = [a].[Id]
        LEFT JOIN [Books] AS [b] ON [m0].[Id] = [b].[Id]
        LEFT JOIN [Videos] AS [v] ON [m0].[Id] = [v].[Id]
    ) AS [t1] ON [m].[MaterialsId] = [t1].[Id]
) AS [t0] ON [t].[Id] = [t0].[UsersId]
ORDER BY [t].[Id], [t0].[MaterialsId], [t0].[UsersId]
2022-08-08 00:02:36.2131|INFO|EducationalPortal.Infrastructure.Services.CoursesService|Returned course with id: 2.
2022-08-08 00:02:36.2131|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'EducationalPortal.Application.Models.DTO.Course.CourseDto'.
2022-08-08 00:02:36.2436|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.CoursesController.GetCourseAsync (EducationalPortal.API) in 5857.2964ms
2022-08-08 00:02:36.2436|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.CoursesController.GetCourseAsync (EducationalPortal.API)'
2022-08-08 00:02:36.2436|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/courses/2 - - - 200 3435 application/json;+charset=utf-8 5884.4865ms
2022-08-08 00:02:36.4508|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (130ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Link], [t].[Name], [t].[ExtensionId], [t].[PagesCount], [t].[PublicationYear], [t].[Id0], [t0].[AuthorsId], [t0].[BooksId], [t0].[Id], [t0].[FullName], [t].[Name0]
FROM (
    SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [b].[ExtensionId], [b].[PagesCount], [b].[PublicationYear], [e].[Id] AS [Id0], [e].[Name] AS [Name0]
    FROM [Materials] AS [m]
    INNER JOIN [Books] AS [b] ON [m].[Id] = [b].[Id]
    INNER JOIN [Extensions] AS [e] ON [b].[ExtensionId] = [e].[Id]
    WHERE [m].[Id] = @__cm_MaterialId_0
) AS [t]
LEFT JOIN (
    SELECT [a].[AuthorsId], [a].[BooksId], [a0].[Id], [a0].[FullName]
    FROM [AuthorBook] AS [a]
    INNER JOIN [Authors] AS [a0] ON [a].[AuthorsId] = [a0].[Id]
) AS [t0] ON [t].[Id] = [t0].[BooksId]
ORDER BY [t].[Id], [t].[Id0], [t0].[AuthorsId], [t0].[BooksId]
2022-08-08 00:02:36.5756|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (123ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [v].[Duration], [v].[QualityId], [q].[Id], [q].[Name]
FROM [Materials] AS [m]
INNER JOIN [Videos] AS [v] ON [m].[Id] = [v].[Id]
INNER JOIN [Qualities] AS [q] ON [v].[QualityId] = [q].[Id]
WHERE [m].[Id] = @__cm_MaterialId_0
2022-08-08 00:02:36.7000|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (124ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [a].[PublicationDate], [a].[ResourceId], [r].[Id], [r].[Name]
FROM [Materials] AS [m]
INNER JOIN [Articles] AS [a] ON [m].[Id] = [a].[Id]
INNER JOIN [Resources] AS [r] ON [a].[ResourceId] = [r].[Id]
WHERE [m].[Id] = @__cm_MaterialId_0
2022-08-08 00:02:36.8344|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (134ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Link], [t].[Name], [t].[ExtensionId], [t].[PagesCount], [t].[PublicationYear], [t].[Id0], [t0].[AuthorsId], [t0].[BooksId], [t0].[Id], [t0].[FullName], [t].[Name0]
FROM (
    SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [b].[ExtensionId], [b].[PagesCount], [b].[PublicationYear], [e].[Id] AS [Id0], [e].[Name] AS [Name0]
    FROM [Materials] AS [m]
    INNER JOIN [Books] AS [b] ON [m].[Id] = [b].[Id]
    INNER JOIN [Extensions] AS [e] ON [b].[ExtensionId] = [e].[Id]
    WHERE [m].[Id] = @__cm_MaterialId_0
) AS [t]
LEFT JOIN (
    SELECT [a].[AuthorsId], [a].[BooksId], [a0].[Id], [a0].[FullName]
    FROM [AuthorBook] AS [a]
    INNER JOIN [Authors] AS [a0] ON [a].[AuthorsId] = [a0].[Id]
) AS [t0] ON [t].[Id] = [t0].[BooksId]
ORDER BY [t].[Id], [t].[Id0], [t0].[AuthorsId], [t0].[BooksId]
2022-08-08 00:02:36.9578|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (122ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [v].[Duration], [v].[QualityId], [q].[Id], [q].[Name]
FROM [Materials] AS [m]
INNER JOIN [Videos] AS [v] ON [m].[Id] = [v].[Id]
INNER JOIN [Qualities] AS [q] ON [v].[QualityId] = [q].[Id]
WHERE [m].[Id] = @__cm_MaterialId_0
2022-08-08 00:02:37.0908|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (132ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [a].[PublicationDate], [a].[ResourceId], [r].[Id], [r].[Name]
FROM [Materials] AS [m]
INNER JOIN [Articles] AS [a] ON [m].[Id] = [a].[Id]
INNER JOIN [Resources] AS [r] ON [a].[ResourceId] = [r].[Id]
WHERE [m].[Id] = @__cm_MaterialId_0
2022-08-08 00:02:37.2173|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (126ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Link], [t].[Name], [t].[ExtensionId], [t].[PagesCount], [t].[PublicationYear], [t].[Id0], [t0].[AuthorsId], [t0].[BooksId], [t0].[Id], [t0].[FullName], [t].[Name0]
FROM (
    SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [b].[ExtensionId], [b].[PagesCount], [b].[PublicationYear], [e].[Id] AS [Id0], [e].[Name] AS [Name0]
    FROM [Materials] AS [m]
    INNER JOIN [Books] AS [b] ON [m].[Id] = [b].[Id]
    INNER JOIN [Extensions] AS [e] ON [b].[ExtensionId] = [e].[Id]
    WHERE [m].[Id] = @__cm_MaterialId_0
) AS [t]
LEFT JOIN (
    SELECT [a].[AuthorsId], [a].[BooksId], [a0].[Id], [a0].[FullName]
    FROM [AuthorBook] AS [a]
    INNER JOIN [Authors] AS [a0] ON [a].[AuthorsId] = [a0].[Id]
) AS [t0] ON [t].[Id] = [t0].[BooksId]
ORDER BY [t].[Id], [t].[Id0], [t0].[AuthorsId], [t0].[BooksId]
2022-08-08 00:02:37.3486|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (130ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [v].[Duration], [v].[QualityId], [q].[Id], [q].[Name]
FROM [Materials] AS [m]
INNER JOIN [Videos] AS [v] ON [m].[Id] = [v].[Id]
INNER JOIN [Qualities] AS [q] ON [v].[QualityId] = [q].[Id]
WHERE [m].[Id] = @__cm_MaterialId_0
2022-08-08 00:02:37.4751|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (125ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [a].[PublicationDate], [a].[ResourceId], [r].[Id], [r].[Name]
FROM [Materials] AS [m]
INNER JOIN [Articles] AS [a] ON [m].[Id] = [a].[Id]
INNER JOIN [Resources] AS [r] ON [a].[ResourceId] = [r].[Id]
WHERE [m].[Id] = @__cm_MaterialId_0
2022-08-08 00:02:37.6023|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (127ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Link], [t].[Name], [t].[ExtensionId], [t].[PagesCount], [t].[PublicationYear], [t].[Id0], [t0].[AuthorsId], [t0].[BooksId], [t0].[Id], [t0].[FullName], [t].[Name0]
FROM (
    SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [b].[ExtensionId], [b].[PagesCount], [b].[PublicationYear], [e].[Id] AS [Id0], [e].[Name] AS [Name0]
    FROM [Materials] AS [m]
    INNER JOIN [Books] AS [b] ON [m].[Id] = [b].[Id]
    INNER JOIN [Extensions] AS [e] ON [b].[ExtensionId] = [e].[Id]
    WHERE [m].[Id] = @__cm_MaterialId_0
) AS [t]
LEFT JOIN (
    SELECT [a].[AuthorsId], [a].[BooksId], [a0].[Id], [a0].[FullName]
    FROM [AuthorBook] AS [a]
    INNER JOIN [Authors] AS [a0] ON [a].[AuthorsId] = [a0].[Id]
) AS [t0] ON [t].[Id] = [t0].[BooksId]
ORDER BY [t].[Id], [t].[Id0], [t0].[AuthorsId], [t0].[BooksId]
2022-08-08 00:02:37.7340|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (131ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [v].[Duration], [v].[QualityId], [q].[Id], [q].[Name]
FROM [Materials] AS [m]
INNER JOIN [Videos] AS [v] ON [m].[Id] = [v].[Id]
INNER JOIN [Qualities] AS [q] ON [v].[QualityId] = [q].[Id]
WHERE [m].[Id] = @__cm_MaterialId_0
2022-08-08 00:02:37.8625|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (128ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [a].[PublicationDate], [a].[ResourceId], [r].[Id], [r].[Name]
FROM [Materials] AS [m]
INNER JOIN [Articles] AS [a] ON [m].[Id] = [a].[Id]
INNER JOIN [Resources] AS [r] ON [a].[ResourceId] = [r].[Id]
WHERE [m].[Id] = @__cm_MaterialId_0
2022-08-08 00:02:37.9906|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (127ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Link], [t].[Name], [t].[ExtensionId], [t].[PagesCount], [t].[PublicationYear], [t].[Id0], [t0].[AuthorsId], [t0].[BooksId], [t0].[Id], [t0].[FullName], [t].[Name0]
FROM (
    SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [b].[ExtensionId], [b].[PagesCount], [b].[PublicationYear], [e].[Id] AS [Id0], [e].[Name] AS [Name0]
    FROM [Materials] AS [m]
    INNER JOIN [Books] AS [b] ON [m].[Id] = [b].[Id]
    INNER JOIN [Extensions] AS [e] ON [b].[ExtensionId] = [e].[Id]
    WHERE [m].[Id] = @__cm_MaterialId_0
) AS [t]
LEFT JOIN (
    SELECT [a].[AuthorsId], [a].[BooksId], [a0].[Id], [a0].[FullName]
    FROM [AuthorBook] AS [a]
    INNER JOIN [Authors] AS [a0] ON [a].[AuthorsId] = [a0].[Id]
) AS [t0] ON [t].[Id] = [t0].[BooksId]
ORDER BY [t].[Id], [t].[Id0], [t0].[AuthorsId], [t0].[BooksId]
2022-08-08 00:02:38.1137|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (123ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [v].[Duration], [v].[QualityId], [q].[Id], [q].[Name]
FROM [Materials] AS [m]
INNER JOIN [Videos] AS [v] ON [m].[Id] = [v].[Id]
INNER JOIN [Qualities] AS [q] ON [v].[QualityId] = [q].[Id]
WHERE [m].[Id] = @__cm_MaterialId_0
2022-08-08 00:02:38.2396|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (125ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [a].[PublicationDate], [a].[ResourceId], [r].[Id], [r].[Name]
FROM [Materials] AS [m]
INNER JOIN [Articles] AS [a] ON [m].[Id] = [a].[Id]
INNER JOIN [Resources] AS [r] ON [a].[ResourceId] = [r].[Id]
WHERE [m].[Id] = @__cm_MaterialId_0
2022-08-08 00:02:38.3637|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (123ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Link], [t].[Name], [t].[ExtensionId], [t].[PagesCount], [t].[PublicationYear], [t].[Id0], [t0].[AuthorsId], [t0].[BooksId], [t0].[Id], [t0].[FullName], [t].[Name0]
FROM (
    SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [b].[ExtensionId], [b].[PagesCount], [b].[PublicationYear], [e].[Id] AS [Id0], [e].[Name] AS [Name0]
    FROM [Materials] AS [m]
    INNER JOIN [Books] AS [b] ON [m].[Id] = [b].[Id]
    INNER JOIN [Extensions] AS [e] ON [b].[ExtensionId] = [e].[Id]
    WHERE [m].[Id] = @__cm_MaterialId_0
) AS [t]
LEFT JOIN (
    SELECT [a].[AuthorsId], [a].[BooksId], [a0].[Id], [a0].[FullName]
    FROM [AuthorBook] AS [a]
    INNER JOIN [Authors] AS [a0] ON [a].[AuthorsId] = [a0].[Id]
) AS [t0] ON [t].[Id] = [t0].[BooksId]
ORDER BY [t].[Id], [t].[Id0], [t0].[AuthorsId], [t0].[BooksId]
2022-08-08 00:02:38.4872|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (122ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [v].[Duration], [v].[QualityId], [q].[Id], [q].[Name]
FROM [Materials] AS [m]
INNER JOIN [Videos] AS [v] ON [m].[Id] = [v].[Id]
INNER JOIN [Qualities] AS [q] ON [v].[QualityId] = [q].[Id]
WHERE [m].[Id] = @__cm_MaterialId_0
2022-08-08 00:02:38.6194|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (132ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [a].[PublicationDate], [a].[ResourceId], [r].[Id], [r].[Name]
FROM [Materials] AS [m]
INNER JOIN [Articles] AS [a] ON [m].[Id] = [a].[Id]
INNER JOIN [Resources] AS [r] ON [a].[ResourceId] = [r].[Id]
WHERE [m].[Id] = @__cm_MaterialId_0
2022-08-08 00:02:38.7428|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (123ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Link], [t].[Name], [t].[ExtensionId], [t].[PagesCount], [t].[PublicationYear], [t].[Id0], [t0].[AuthorsId], [t0].[BooksId], [t0].[Id], [t0].[FullName], [t].[Name0]
FROM (
    SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [b].[ExtensionId], [b].[PagesCount], [b].[PublicationYear], [e].[Id] AS [Id0], [e].[Name] AS [Name0]
    FROM [Materials] AS [m]
    INNER JOIN [Books] AS [b] ON [m].[Id] = [b].[Id]
    INNER JOIN [Extensions] AS [e] ON [b].[ExtensionId] = [e].[Id]
    WHERE [m].[Id] = @__cm_MaterialId_0
) AS [t]
LEFT JOIN (
    SELECT [a].[AuthorsId], [a].[BooksId], [a0].[Id], [a0].[FullName]
    FROM [AuthorBook] AS [a]
    INNER JOIN [Authors] AS [a0] ON [a].[AuthorsId] = [a0].[Id]
) AS [t0] ON [t].[Id] = [t0].[BooksId]
ORDER BY [t].[Id], [t].[Id0], [t0].[AuthorsId], [t0].[BooksId]
2022-08-08 00:02:38.8759|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (132ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [v].[Duration], [v].[QualityId], [q].[Id], [q].[Name]
FROM [Materials] AS [m]
INNER JOIN [Videos] AS [v] ON [m].[Id] = [v].[Id]
INNER JOIN [Qualities] AS [q] ON [v].[QualityId] = [q].[Id]
WHERE [m].[Id] = @__cm_MaterialId_0
2022-08-08 00:02:39.0047|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (128ms) [Parameters=[@__cm_MaterialId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[Link], [m].[Name], [a].[PublicationDate], [a].[ResourceId], [r].[Id], [r].[Name]
FROM [Materials] AS [m]
INNER JOIN [Articles] AS [a] ON [m].[Id] = [a].[Id]
INNER JOIN [Resources] AS [r] ON [a].[ResourceId] = [r].[Id]
WHERE [m].[Id] = @__cm_MaterialId_0
2022-08-08 00:02:39.1290|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (123ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Avatar], [t].[Balance], [t].[Email], [t].[Name], [t].[PasswordHash], [t].[Position], [t].[UserTokenId], [t0].[MaterialsId], [t0].[UsersId], [t0].[Id], [t0].[Link], [t0].[Name], [t0].[PublicationDate], [t0].[ResourceId], [t0].[ExtensionId], [t0].[PagesCount], [t0].[PublicationYear], [t0].[Duration], [t0].[QualityId], [t0].[Discriminator]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Balance], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[Position], [u].[UserTokenId]
    FROM [Users] AS [u]
    WHERE 0 = 1
) AS [t]
LEFT JOIN (
    SELECT [m].[MaterialsId], [m].[UsersId], [t1].[Id], [t1].[Link], [t1].[Name], [t1].[PublicationDate], [t1].[ResourceId], [t1].[ExtensionId], [t1].[PagesCount], [t1].[PublicationYear], [t1].[Duration], [t1].[QualityId], [t1].[Discriminator]
    FROM [MaterialsBaseUser] AS [m]
    INNER JOIN (
        SELECT [m0].[Id], [m0].[Link], [m0].[Name], [a].[PublicationDate], [a].[ResourceId], [b].[ExtensionId], [b].[PagesCount], [b].[PublicationYear], [v].[Duration], [v].[QualityId], CASE
            WHEN [v].[Id] IS NOT NULL THEN N'Video'
            WHEN [b].[Id] IS NOT NULL THEN N'Book'
            WHEN [a].[Id] IS NOT NULL THEN N'Article'
        END AS [Discriminator]
        FROM [Materials] AS [m0]
        LEFT JOIN [Articles] AS [a] ON [m0].[Id] = [a].[Id]
        LEFT JOIN [Books] AS [b] ON [m0].[Id] = [b].[Id]
        LEFT JOIN [Videos] AS [v] ON [m0].[Id] = [v].[Id]
    ) AS [t1] ON [m].[MaterialsId] = [t1].[Id]
) AS [t0] ON [t].[Id] = [t0].[UsersId]
ORDER BY [t].[Id], [t0].[MaterialsId], [t0].[UsersId]
2022-08-08 00:02:39.1497|INFO|EducationalPortal.Infrastructure.Services.CoursesService|Returned course with id: 2.
2022-08-08 00:02:39.1497|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'EducationalPortal.Application.Models.DTO.Course.CourseDto'.
2022-08-08 00:02:39.1497|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.CoursesController.GetCourseAsync (EducationalPortal.API) in 4341.7669ms
2022-08-08 00:02:39.1497|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.CoursesController.GetCourseAsync (EducationalPortal.API)'
2022-08-08 00:02:39.1497|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/courses/2 - - - 200 3435 application/json;+charset=utf-8 4394.5275ms
2022-08-08 07:30:02.5906|INFO|Microsoft.AspNetCore.SpaServices|Starting @angular/cli on port 50402...
2022-08-08 07:30:04.8416|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\rareb\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-08-08 07:30:05.9892|INFO|Microsoft.Hosting.Lifetime|Now listening on: https://localhost:7106
2022-08-08 07:30:05.9892|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:7105
2022-08-08 07:30:05.9892|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down.
2022-08-08 07:30:05.9892|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development
2022-08-08 07:30:05.9892|INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\rareb\Desktop\github\educational-portal\EducationalPortal.API\
2022-08-08 07:30:06.7538|ERROR|Microsoft.AspNetCore.SpaServices|npm WARN config global `--global`, `--local` are deprecated. Use `--location=global` instead.

2022-08-08 07:30:09.8261|INFO|Microsoft.AspNetCore.SpaServices|> educational-portal.app@1.0.0 start

2022-08-08 07:30:09.8261|INFO|Microsoft.AspNetCore.SpaServices|> echo hello && ng serve

2022-08-08 07:30:09.9727|INFO|Microsoft.AspNetCore.SpaServices|hello 

2022-08-08 07:30:10.6550|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger - -
2022-08-08 07:30:10.8811|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger - - - 301 0 - 230.6882ms
2022-08-08 07:30:10.9305|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/index.html - -
2022-08-08 07:30:12.4527|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/index.html - - - 200 - text/html;charset=utf-8 1522.1033ms
2022-08-08 07:30:12.5722|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/swagger-ui.css - -
2022-08-08 07:30:12.5722|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/swagger-ui-bundle.js - -
2022-08-08 07:30:12.5841|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/swagger-ui-standalone-preset.js - -
2022-08-08 07:30:12.7643|INFO|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2022-08-08 07:30:12.7643|INFO|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2022-08-08 07:30:12.7643|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/swagger-ui.css - - - 200 143943 text/css 192.3946ms
2022-08-08 07:30:12.7643|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/swagger-ui-standalone-preset.js - - - 200 339486 application/javascript 180.4665ms
2022-08-08 07:30:12.8241|INFO|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2022-08-08 07:30:12.8241|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/swagger-ui-bundle.js - - - 200 1095087 application/javascript 250.9713ms
2022-08-08 07:30:12.8352|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/_framework/aspnetcore-browser-refresh.js - -
2022-08-08 07:30:12.8352|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/_framework/aspnetcore-browser-refresh.js - - - 200 12012 application/javascript;+charset=utf-8 10.4029ms
2022-08-08 07:30:13.0481|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/_vs/browserLink - -
2022-08-08 07:30:13.3077|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 259.6091ms
2022-08-08 07:30:13.8418|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/v1/swagger.json - -
2022-08-08 07:30:14.4206|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 578.7190ms
2022-08-08 07:30:22.8649|ERROR|Microsoft.AspNetCore.SpaServices|- Generating browser application bundles (phase: setup)...

2022-08-08 07:30:51.0040|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/courses - -
2022-08-08 07:30:52.4613|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.CoursesController.GetCoursesAsync (EducationalPortal.API)'
2022-08-08 07:30:52.5442|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[EducationalPortal.Application.Models.DTO.Course.CourseShortDto]] GetCoursesAsync(EducationalPortal.Application.Paging.PageParameters, System.Threading.CancellationToken) on controller EducationalPortal.API.Controllers.CoursesController (EducationalPortal.API).
2022-08-08 07:30:57.7180|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-08-08 07:31:00.4498|WARN|Microsoft.EntityFrameworkCore.Query|The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-08-08 07:31:00.4604|WARN|Microsoft.EntityFrameworkCore.Query|The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-08-08 07:31:04.0221|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (420ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[AuthorId], [c].[Description], [c].[Name], [c].[Price], [c].[ShortDescription], [c].[Thumbnail]
FROM [Courses] AS [c]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-08-08 07:31:04.3723|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (132ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Courses] AS [c]
2022-08-08 07:31:04.4256|INFO|EducationalPortal.Infrastructure.Services.CoursesService|Returned courses page 1 from database.
2022-08-08 07:31:04.9306|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'EducationalPortal.Application.Paging.PagedList`1[[EducationalPortal.Application.Models.DTO.Course.CourseShortDto, EducationalPortal.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-08 07:31:05.0554|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.CoursesController.GetCoursesAsync (EducationalPortal.API) in 12492.1111ms
2022-08-08 07:31:05.0554|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.CoursesController.GetCoursesAsync (EducationalPortal.API)'
2022-08-08 07:31:05.1114|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/courses - - - 200 818 application/json;+charset=utf-8 14107.3920ms
2022-08-08 07:31:08.2005|ERROR|Microsoft.AspNetCore.SpaServices|ΓêÜ Browser application bundle generation complete.

2022-08-08 07:31:08.5142|INFO|Microsoft.AspNetCore.SpaServices|Initial Chunk Files   | Names         |  Raw Size

2022-08-08 07:31:08.5142|INFO|Microsoft.AspNetCore.SpaServices|vendor.js             | vendor        |   2.35 MB |

2022-08-08 07:31:08.5142|INFO|Microsoft.AspNetCore.SpaServices|main.js               | main          | 387.86 kB |

2022-08-08 07:31:08.5142|INFO|Microsoft.AspNetCore.SpaServices|polyfills.js          | polyfills     | 294.87 kB |

2022-08-08 07:31:08.5142|INFO|Microsoft.AspNetCore.SpaServices|styles.css, styles.js | styles        | 173.25 kB |

2022-08-08 07:31:08.5142|INFO|Microsoft.AspNetCore.SpaServices|runtime.js            | runtime       |   6.54 kB |

2022-08-08 07:31:08.5142|INFO|Microsoft.AspNetCore.SpaServices|| Initial Total |   3.19 MB

2022-08-08 07:31:08.5142|INFO|Microsoft.AspNetCore.SpaServices|Build at: 2022-08-08T04:31:08.188Z - Hash: 8c0001bd6baece30 - Time: 43608ms

2022-08-08 07:31:08.5142|INFO|Microsoft.AspNetCore.SpaServices|** Angular Live Development Server is listening on localhost:50402, open your browser on http://localhost:50402/ **

2022-08-08 07:31:08.6868|INFO|Microsoft.AspNetCore.SpaServices|ΓêÜ Compiled successfully.

2022-08-08 07:31:26.6420|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/courses - -
2022-08-08 07:31:28.7445|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/courses - - - 200 - text/html;+charset=utf-8 2102.5168ms
2022-08-08 07:31:28.9286|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/styles.css - -
2022-08-08 07:31:28.9286|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/runtime.js - -
2022-08-08 07:31:28.9286|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/polyfills.js - -
2022-08-08 07:31:28.9286|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/main.js - -
2022-08-08 07:31:28.9286|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-08-08 07:31:28.9286|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-08-08 07:31:28.9286|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-08-08 07:31:28.9426|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/_vs/browserLink - -
2022-08-08 07:31:28.9426|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/styles.css - - - 200 737 text/css;+charset=utf-8 15.8133ms
2022-08-08 07:31:28.9814|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/vendor.js - -
2022-08-08 07:31:28.9814|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-08-08 07:31:28.9814|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/_framework/aspnetcore-browser-refresh.js - -
2022-08-08 07:31:28.9814|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/styles.js - -
2022-08-08 07:31:28.9985|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/_framework/aspnetcore-browser-refresh.js - - - 200 12012 application/javascript;+charset=utf-8 16.4478ms
2022-08-08 07:31:29.2414|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/polyfills.js - - - 200 301943 application/javascript;+charset=utf-8 310.1395ms
2022-08-08 07:31:29.2627|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/runtime.js - - - 200 6696 application/javascript;+charset=utf-8 332.0604ms
2022-08-08 07:31:29.3066|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 364.0219ms
2022-08-08 07:31:29.3164|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/main.js - - - 200 397165 application/javascript;+charset=utf-8 384.1610ms
2022-08-08 07:31:29.3326|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/styles.js - - - 200 176668 application/javascript;+charset=utf-8 350.3266ms
2022-08-08 07:31:29.4145|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7106/runtime.js.map - -
2022-08-08 07:31:29.4145|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7106/polyfills.js.map - -
2022-08-08 07:31:29.4677|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7106/ws - -
2022-08-08 07:31:29.4677|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-08-08 07:31:29.6278|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7106/runtime.js.map - - - 200 5719 application/json;+charset=utf-8 213.3685ms
2022-08-08 07:31:29.6309|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/vendor.js - - - 200 2462581 application/javascript;+charset=utf-8 635.7787ms
2022-08-08 07:31:29.6465|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7106/polyfills.js.map - - - 200 368440 application/json;+charset=utf-8 226.2289ms
2022-08-08 07:31:29.7145|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7106/styles.js.map - -
2022-08-08 07:31:29.7313|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7106/styles.js.map - - - 200 225660 application/json;+charset=utf-8 16.6767ms
2022-08-08 07:31:29.8229|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7106/main.js.map - -
2022-08-08 07:31:29.8366|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7106/vendor.js.map - -
2022-08-08 07:31:29.8366|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7106/main.js.map - - - 200 220587 application/json;+charset=utf-8 22.1841ms
2022-08-08 07:31:29.9194|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:7106/api/tokens/refresh application/json 595
2022-08-08 07:31:29.9291|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-08-08 07:31:29.9773|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7106/vendor.js.map - - - 200 3242823 application/json;+charset=utf-8 140.7241ms
2022-08-08 07:31:30.0337|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/courses?pageSize=3&pageNumber=1 - -
2022-08-08 07:31:30.8457|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Failed to validate the token.|Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-08-08 07:31:30.8457|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Failed to validate the token.|Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-08-08 07:31:31.1491|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2022-08-08 07:31:31.1491|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2022-08-08 07:31:31.1491|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.TokensController.RefreshAsync (EducationalPortal.API)'
2022-08-08 07:31:31.1491|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.CoursesController.GetCoursesAsync (EducationalPortal.API)'
2022-08-08 07:31:31.1491|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[EducationalPortal.Application.Models.DTO.Course.CourseShortDto]] GetCoursesAsync(EducationalPortal.Application.Paging.PageParameters, System.Threading.CancellationToken) on controller EducationalPortal.API.Controllers.CoursesController (EducationalPortal.API).
2022-08-08 07:31:31.1491|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Refresh", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EducationalPortal.Application.Models.TokensModel]] RefreshAsync(EducationalPortal.Application.Models.TokensModel, System.Threading.CancellationToken) on controller EducationalPortal.API.Controllers.TokensController (EducationalPortal.API).
2022-08-08 07:31:31.2389|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-08-08 07:31:31.4303|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (127ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[AuthorId], [c].[Description], [c].[Name], [c].[Price], [c].[ShortDescription], [c].[Thumbnail]
FROM [Courses] AS [c]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-08-08 07:31:31.4731|INFO|EducationalPortal.Infrastructure.Services.Identity.TokensService|Returned data from expired access token.
2022-08-08 07:31:31.4941|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-08-08 07:31:31.5602|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (129ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Courses] AS [c]
2022-08-08 07:31:31.5602|INFO|EducationalPortal.Infrastructure.Services.CoursesService|Returned courses page 1 from database.
2022-08-08 07:31:31.5660|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'EducationalPortal.Application.Paging.PagedList`1[[EducationalPortal.Application.Models.DTO.Course.CourseShortDto, EducationalPortal.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-08 07:31:31.5660|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.CoursesController.GetCoursesAsync (EducationalPortal.API) in 416.7704ms
2022-08-08 07:31:31.5660|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.CoursesController.GetCoursesAsync (EducationalPortal.API)'
2022-08-08 07:31:31.5660|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/courses?pageSize=3&pageNumber=1 - - - 200 818 application/json;+charset=utf-8 1533.4250ms
2022-08-08 07:31:32.7863|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (124ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Avatar], [t].[Balance], [t].[Email], [t].[Name], [t].[PasswordHash], [t].[Position], [t].[UserTokenId], [t].[Id0], [t].[RefreshToken], [t].[RefreshTokenExpiryTime], [t0].[RolesId], [t0].[UsersId], [t0].[Id], [t0].[Name]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Balance], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[Position], [u].[UserTokenId], [u0].[Id] AS [Id0], [u0].[RefreshToken], [u0].[RefreshTokenExpiryTime]
    FROM [Users] AS [u]
    LEFT JOIN [UserToken] AS [u0] ON [u].[UserTokenId] = [u0].[Id]
    WHERE 0 = 1
) AS [t]
LEFT JOIN (
    SELECT [r].[RolesId], [r].[UsersId], [r0].[Id], [r0].[Name]
    FROM [RoleUser] AS [r]
    INNER JOIN [Roles] AS [r0] ON [r].[RolesId] = [r0].[Id]
) AS [t0] ON [t].[Id] = [t0].[UsersId]
ORDER BY [t].[Id], [t].[Id0], [t0].[RolesId], [t0].[UsersId]
2022-08-08 07:31:33.0439|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.TokensController.RefreshAsync (EducationalPortal.API) in 1887.3583ms
2022-08-08 07:31:33.0439|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.TokensController.RefreshAsync (EducationalPortal.API)'
2022-08-08 07:31:33.3765|ERROR|EducationalPortal.Infrastructure.ExceptionHandling.ExceptionMiddleware|Something went wrong: Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: SecurityToken has Expired
   at EducationalPortal.Infrastructure.Services.Identity.TokensService.RefreshAsync(TokensModel tokensModel, String email, CancellationToken cancellationToken) in C:\Users\rareb\Desktop\github\educational-portal\EducationalPortal.Infrastructure\Services\Identity\TokensService.cs:line 39
   at EducationalPortal.API.Controllers.TokensController.RefreshAsync(TokensModel tokensModel, CancellationToken cancellationToken) in C:\Users\rareb\Desktop\github\educational-portal\EducationalPortal.API\Controllers\TokensController.cs:line 20
   at lambda_method58(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at EducationalPortal.Infrastructure.ExceptionHandling.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Users\rareb\Desktop\github\educational-portal\EducationalPortal.Infrastructure\ExceptionHandling\ExceptionMiddleware.cs:line 25
2022-08-08 07:31:33.3812|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:7106/api/tokens/refresh application/json 595 - 500 - application/json 3461.7307ms
2022-08-08 07:31:33.8045|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7106/ws - - - 101 - - 4336.7476ms
2022-08-08 07:51:30.6756|INFO|Microsoft.AspNetCore.SpaServices|Starting @angular/cli on port 51113...
2022-08-08 07:51:30.9804|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\rareb\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-08-08 07:51:31.4367|INFO|Microsoft.Hosting.Lifetime|Now listening on: https://localhost:7106
2022-08-08 07:51:31.4367|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:7105
2022-08-08 07:51:31.4367|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down.
2022-08-08 07:51:31.4367|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development
2022-08-08 07:51:31.4367|INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\rareb\Desktop\github\educational-portal\EducationalPortal.API\
2022-08-08 07:51:32.6369|ERROR|Microsoft.AspNetCore.SpaServices|npm WARN config global `--global`, `--local` are deprecated. Use `--location=global` instead.

2022-08-08 07:51:34.4793|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger - -
2022-08-08 07:51:34.6564|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger - - - 301 0 - 182.8012ms
2022-08-08 07:51:34.6786|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/index.html - -
2022-08-08 07:51:35.2616|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/swagger-ui.css - -
2022-08-08 07:51:35.2616|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/swagger-ui-bundle.js - -
2022-08-08 07:51:35.2616|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/swagger-ui-standalone-preset.js - -
2022-08-08 07:51:35.2739|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/index.html - - - 200 - text/html;charset=utf-8 595.2417ms
2022-08-08 07:51:35.3152|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/_vs/browserLink - -
2022-08-08 07:51:35.3152|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/_framework/aspnetcore-browser-refresh.js - -
2022-08-08 07:51:35.4318|INFO|Microsoft.AspNetCore.SpaServices|> educational-portal.app@1.0.0 start

2022-08-08 07:51:35.4318|INFO|Microsoft.AspNetCore.SpaServices|> echo hello && ng serve

2022-08-08 07:51:35.4318|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/_framework/aspnetcore-browser-refresh.js - - - 200 12012 application/javascript;+charset=utf-8 121.8606ms
2022-08-08 07:51:35.5038|INFO|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2022-08-08 07:51:35.5038|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/swagger-ui.css - - - 200 143943 text/css 250.2637ms
2022-08-08 07:51:35.5582|INFO|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2022-08-08 07:51:35.5582|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/swagger-ui-standalone-preset.js - - - 200 339486 application/javascript 295.9937ms
2022-08-08 07:51:35.6849|INFO|Microsoft.AspNetCore.SpaServices|hello 

2022-08-08 07:51:35.7201|INFO|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2022-08-08 07:51:35.7201|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/swagger-ui-bundle.js - - - 200 1095087 application/javascript 458.0206ms
2022-08-08 07:51:36.0103|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 695.0995ms
2022-08-08 07:51:36.4065|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/v1/swagger.json - -
2022-08-08 07:51:36.9677|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 561.2681ms
2022-08-08 07:51:45.0600|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/courses - -
2022-08-08 07:51:45.2306|ERROR|Microsoft.AspNetCore.SpaServices|- Generating browser application bundles (phase: setup)...

2022-08-08 07:51:45.2875|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Fallback {*path:nonfile}'
2022-08-08 07:51:45.2875|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Fallback {*path:nonfile}'
2022-08-08 07:51:45.2875|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/courses - - - 404 0 - 228.4589ms
2022-08-08 07:51:53.0360|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/index.html - -
2022-08-08 07:51:53.1524|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/index.html - - - 200 - text/html;charset=utf-8 116.4336ms
2022-08-08 07:51:53.1869|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/swagger-ui.css - -
2022-08-08 07:51:53.1869|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/swagger-ui-bundle.js - -
2022-08-08 07:51:53.1919|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/swagger-ui-standalone-preset.js - -
2022-08-08 07:51:53.1919|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/_framework/aspnetcore-browser-refresh.js - -
2022-08-08 07:51:53.1919|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/_vs/browserLink - -
2022-08-08 07:51:53.2168|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/_framework/aspnetcore-browser-refresh.js - - - 200 12012 application/javascript;+charset=utf-8 22.8744ms
2022-08-08 07:51:53.2869|INFO|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2022-08-08 07:51:53.2869|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/swagger-ui.css - - - 200 143943 text/css 100.2991ms
2022-08-08 07:51:53.5893|INFO|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2022-08-08 07:51:53.5893|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/swagger-ui-standalone-preset.js - - - 200 339486 application/javascript 397.6072ms
2022-08-08 07:51:53.9542|INFO|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2022-08-08 07:51:53.9542|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/swagger-ui-bundle.js - - - 200 1095087 application/javascript 764.5794ms
2022-08-08 07:51:54.1741|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 978.9508ms
2022-08-08 07:51:54.9053|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/v1/swagger.json - -
2022-08-08 07:51:55.1336|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 228.3145ms
2022-08-08 07:52:01.8139|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/courses - -
2022-08-08 07:52:01.8292|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.CoursesController.GetCoursesAsync (EducationalPortal.API)'
2022-08-08 07:52:01.9264|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[EducationalPortal.Application.Models.DTO.Course.CourseShortDto]] GetCoursesAsync(EducationalPortal.Application.Paging.PageParameters, System.Threading.CancellationToken) on controller EducationalPortal.API.Controllers.CoursesController (EducationalPortal.API).
2022-08-08 07:52:06.2186|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-08-08 07:52:07.7532|WARN|Microsoft.EntityFrameworkCore.Query|The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-08-08 07:52:07.7590|WARN|Microsoft.EntityFrameworkCore.Query|The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-08-08 07:52:10.8940|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (480ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[AuthorId], [c].[Description], [c].[Name], [c].[Price], [c].[ShortDescription], [c].[Thumbnail]
FROM [Courses] AS [c]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-08-08 07:52:11.4767|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (134ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Courses] AS [c]
2022-08-08 07:52:11.5487|INFO|EducationalPortal.Infrastructure.Services.CoursesService|Returned courses page 1 from database.
2022-08-08 07:52:11.9464|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'EducationalPortal.Application.Paging.PagedList`1[[EducationalPortal.Application.Models.DTO.Course.CourseShortDto, EducationalPortal.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-08 07:52:12.0497|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.CoursesController.GetCoursesAsync (EducationalPortal.API) in 10111.9558ms
2022-08-08 07:52:12.0526|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.CoursesController.GetCoursesAsync (EducationalPortal.API)'
2022-08-08 07:52:12.0861|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/courses - - - 200 818 application/json;+charset=utf-8 10272.2131ms
2022-08-08 07:52:17.3730|ERROR|Microsoft.AspNetCore.SpaServices|ΓêÜ Browser application bundle generation complete.

2022-08-08 07:52:17.6163|INFO|Microsoft.AspNetCore.SpaServices|Initial Chunk Files   | Names         |  Raw Size

2022-08-08 07:52:17.6163|INFO|Microsoft.AspNetCore.SpaServices|vendor.js             | vendor        |   2.35 MB |

2022-08-08 07:52:17.6163|INFO|Microsoft.AspNetCore.SpaServices|main.js               | main          | 387.86 kB |

2022-08-08 07:52:17.6163|INFO|Microsoft.AspNetCore.SpaServices|polyfills.js          | polyfills     | 294.87 kB |

2022-08-08 07:52:17.6163|INFO|Microsoft.AspNetCore.SpaServices|styles.css, styles.js | styles        | 173.25 kB |

2022-08-08 07:52:17.6163|INFO|Microsoft.AspNetCore.SpaServices|runtime.js            | runtime       |   6.54 kB |

2022-08-08 07:52:17.6163|INFO|Microsoft.AspNetCore.SpaServices|| Initial Total |   3.19 MB

2022-08-08 07:52:17.6163|INFO|Microsoft.AspNetCore.SpaServices|Build at: 2022-08-08T04:52:17.359Z - Hash: 8c0001bd6baece30 - Time: 30422ms

2022-08-08 07:52:17.6163|INFO|Microsoft.AspNetCore.SpaServices|** Angular Live Development Server is listening on localhost:51113, open your browser on http://localhost:51113/ **

2022-08-08 07:52:17.8144|INFO|Microsoft.AspNetCore.SpaServices|ΓêÜ Compiled successfully.

2022-08-08 07:52:31.1572|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/courses - -
2022-08-08 07:52:31.1641|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Fallback {*path:nonfile}'
2022-08-08 07:52:31.1641|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Fallback {*path:nonfile}'
2022-08-08 07:52:31.1641|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/courses - - - 404 0 - 7.2496ms
2022-08-08 07:52:57.1098|INFO|Microsoft.AspNetCore.SpaServices|Starting @angular/cli on port 51159...
2022-08-08 07:52:57.4058|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\rareb\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-08-08 07:52:57.8505|INFO|Microsoft.Hosting.Lifetime|Now listening on: https://localhost:7106
2022-08-08 07:52:57.8505|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:7105
2022-08-08 07:52:57.8505|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down.
2022-08-08 07:52:57.8505|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development
2022-08-08 07:52:57.8505|INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\rareb\Desktop\github\educational-portal\EducationalPortal.API\
2022-08-08 07:52:58.5537|ERROR|Microsoft.AspNetCore.SpaServices|npm WARN config global `--global`, `--local` are deprecated. Use `--location=global` instead.

2022-08-08 07:53:00.6394|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger - -
2022-08-08 07:53:00.8454|INFO|Microsoft.AspNetCore.SpaServices|> educational-portal.app@1.0.0 start

2022-08-08 07:53:00.8454|INFO|Microsoft.AspNetCore.SpaServices|> echo hello && ng serve

2022-08-08 07:53:00.8839|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger - - - 301 0 - 250.4351ms
2022-08-08 07:53:00.9171|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/index.html - -
2022-08-08 07:53:00.9790|INFO|Microsoft.AspNetCore.SpaServices|hello 

2022-08-08 07:53:01.4839|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/swagger-ui.css - -
2022-08-08 07:53:01.4839|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/swagger-ui-bundle.js - -
2022-08-08 07:53:01.4921|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/swagger-ui-standalone-preset.js - -
2022-08-08 07:53:01.4921|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/index.html - - - 200 - text/html;charset=utf-8 581.2901ms
2022-08-08 07:53:01.5517|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/_vs/browserLink - -
2022-08-08 07:53:01.5517|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/_framework/aspnetcore-browser-refresh.js - -
2022-08-08 07:53:01.7011|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/_framework/aspnetcore-browser-refresh.js - - - 200 12012 application/javascript;+charset=utf-8 149.3437ms
2022-08-08 07:53:01.7190|INFO|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2022-08-08 07:53:01.7190|INFO|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2022-08-08 07:53:01.7190|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/swagger-ui-standalone-preset.js - - - 200 339486 application/javascript 227.2540ms
2022-08-08 07:53:01.7278|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/swagger-ui.css - - - 200 143943 text/css 243.7961ms
2022-08-08 07:53:01.8625|INFO|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2022-08-08 07:53:01.8625|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/swagger-ui-bundle.js - - - 200 1095087 application/javascript 378.1996ms
2022-08-08 07:53:01.8954|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 343.7002ms
2022-08-08 07:53:02.3820|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/v1/swagger.json - -
2022-08-08 07:53:02.9138|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 531.7767ms
2022-08-08 07:53:06.3412|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/courses - -
2022-08-08 07:53:06.5880|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Fallback {*path:nonfile}'
2022-08-08 07:53:06.5880|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Fallback {*path:nonfile}'
2022-08-08 07:53:06.5880|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/courses - - - 404 0 - 247.3455ms
2022-08-08 07:53:20.1520|INFO|Microsoft.AspNetCore.SpaServices|Starting @angular/cli on port 51182...
2022-08-08 07:53:20.4308|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\rareb\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-08-08 07:53:20.8071|INFO|Microsoft.Hosting.Lifetime|Now listening on: https://localhost:7106
2022-08-08 07:53:20.8071|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:7105
2022-08-08 07:53:20.8071|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down.
2022-08-08 07:53:20.8071|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development
2022-08-08 07:53:20.8071|INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\rareb\Desktop\github\educational-portal\EducationalPortal.API\
2022-08-08 07:53:21.4941|ERROR|Microsoft.AspNetCore.SpaServices|npm WARN config global `--global`, `--local` are deprecated. Use `--location=global` instead.

2022-08-08 07:53:23.3214|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger - -
2022-08-08 07:53:23.5105|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger - - - 301 0 - 194.0562ms
2022-08-08 07:53:23.5376|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/index.html - -
2022-08-08 07:53:23.8653|INFO|Microsoft.AspNetCore.SpaServices|> educational-portal.app@1.0.0 start

2022-08-08 07:53:23.8653|INFO|Microsoft.AspNetCore.SpaServices|> echo hello && ng serve

2022-08-08 07:53:24.0348|INFO|Microsoft.AspNetCore.SpaServices|hello 

2022-08-08 07:53:24.1427|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/swagger-ui.css - -
2022-08-08 07:53:24.1427|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/swagger-ui-bundle.js - -
2022-08-08 07:53:24.1497|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/swagger-ui-standalone-preset.js - -
2022-08-08 07:53:24.1497|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/index.html - - - 200 - text/html;charset=utf-8 617.7503ms
2022-08-08 07:53:24.1967|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/_framework/aspnetcore-browser-refresh.js - -
2022-08-08 07:53:24.1967|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/_vs/browserLink - -
2022-08-08 07:53:24.3128|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/_framework/aspnetcore-browser-refresh.js - - - 200 12012 application/javascript;+charset=utf-8 115.9515ms
2022-08-08 07:53:24.4008|INFO|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2022-08-08 07:53:24.4008|INFO|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2022-08-08 07:53:24.4008|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/swagger-ui.css - - - 200 143943 text/css 261.9978ms
2022-08-08 07:53:24.4386|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/swagger-ui-standalone-preset.js - - - 200 339486 application/javascript 288.9529ms
2022-08-08 07:53:24.5447|INFO|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2022-08-08 07:53:24.5447|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/swagger-ui-bundle.js - - - 200 1095087 application/javascript 402.7922ms
2022-08-08 07:53:24.5447|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 353.6047ms
2022-08-08 07:53:25.0800|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/v1/swagger.json - -
2022-08-08 07:53:25.6707|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 590.6852ms
2022-08-08 07:53:28.8956|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/courses - -
2022-08-08 07:53:32.7233|ERROR|Microsoft.AspNetCore.SpaServices|- Generating browser application bundles (phase: setup)...

2022-08-08 07:53:56.7226|ERROR|Microsoft.AspNetCore.SpaServices|ΓêÜ Browser application bundle generation complete.

2022-08-08 07:53:56.9003|INFO|Microsoft.AspNetCore.SpaServices|Initial Chunk Files   | Names         |  Raw Size

2022-08-08 07:53:56.9003|INFO|Microsoft.AspNetCore.SpaServices|vendor.js             | vendor        |   2.35 MB |

2022-08-08 07:53:56.9003|INFO|Microsoft.AspNetCore.SpaServices|main.js               | main          | 387.86 kB |

2022-08-08 07:53:56.9003|INFO|Microsoft.AspNetCore.SpaServices|polyfills.js          | polyfills     | 294.87 kB |

2022-08-08 07:53:56.9003|INFO|Microsoft.AspNetCore.SpaServices|styles.css, styles.js | styles        | 173.25 kB |

2022-08-08 07:53:56.9003|INFO|Microsoft.AspNetCore.SpaServices|runtime.js            | runtime       |   6.54 kB |

2022-08-08 07:53:56.9003|INFO|Microsoft.AspNetCore.SpaServices|| Initial Total |   3.19 MB

2022-08-08 07:53:56.9003|INFO|Microsoft.AspNetCore.SpaServices|Build at: 2022-08-08T04:53:56.712Z - Hash: 8c0001bd6baece30 - Time: 23141ms

2022-08-08 07:53:56.9003|INFO|Microsoft.AspNetCore.SpaServices|** Angular Live Development Server is listening on localhost:51182, open your browser on http://localhost:51182/ **

2022-08-08 07:53:57.0237|INFO|Microsoft.AspNetCore.SpaServices|ΓêÜ Compiled successfully.

2022-08-08 07:54:01.2850|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/courses - - - 200 - text/html;+charset=utf-8 32389.3978ms
2022-08-08 07:54:01.3682|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/styles.css - -
2022-08-08 07:54:01.3888|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/styles.css - - - 200 737 text/css;+charset=utf-8 20.5481ms
2022-08-08 07:54:01.5064|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/runtime.js - -
2022-08-08 07:54:01.5064|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-08-08 07:54:01.5380|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/runtime.js - - - 200 6696 application/javascript;+charset=utf-8 31.5721ms
2022-08-08 07:54:01.5599|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/polyfills.js - -
2022-08-08 07:54:01.5599|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-08-08 07:54:01.5741|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/polyfills.js - - - 200 301943 application/javascript;+charset=utf-8 14.1626ms
2022-08-08 07:54:01.6006|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/vendor.js - -
2022-08-08 07:54:01.6006|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-08-08 07:54:01.6276|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/main.js - -
2022-08-08 07:54:01.6400|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-08-08 07:54:01.7333|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/vendor.js - - - 200 2462581 application/javascript;+charset=utf-8 131.5840ms
2022-08-08 07:54:01.7684|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/main.js - - - 200 397165 application/javascript;+charset=utf-8 138.3350ms
2022-08-08 07:54:01.8580|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/_framework/aspnetcore-browser-refresh.js - -
2022-08-08 07:54:01.8580|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/_framework/aspnetcore-browser-refresh.js - - - 200 12012 application/javascript;+charset=utf-8 0.4281ms
2022-08-08 07:54:01.9689|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/styles.js - -
2022-08-08 07:54:02.0102|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/styles.js - - - 200 176668 application/javascript;+charset=utf-8 41.2444ms
2022-08-08 07:54:02.1591|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/_vs/browserLink - -
2022-08-08 07:54:02.1853|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7106/runtime.js.map - -
2022-08-08 07:54:02.2592|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 100.0074ms
2022-08-08 07:54:02.2592|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7106/runtime.js.map - - - 200 5719 application/json;+charset=utf-8 74.1741ms
2022-08-08 07:54:02.3693|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7106/ws - -
2022-08-08 07:54:02.3693|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-08-08 07:54:02.4401|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7106/polyfills.js.map - -
2022-08-08 07:54:02.4587|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7106/polyfills.js.map - - - 200 368440 application/json;+charset=utf-8 18.5732ms
2022-08-08 07:54:02.6183|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7106/main.js.map - -
2022-08-08 07:54:02.6956|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7106/styles.js.map - -
2022-08-08 07:54:02.7406|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7106/vendor.js.map - -
2022-08-08 07:54:03.0029|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:7106/api/tokens/refresh application/json 595
2022-08-08 07:54:03.0092|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-08-08 07:54:03.3229|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/courses?pageSize=3&pageNumber=1 - -
2022-08-08 07:54:03.5458|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Failed to validate the token.|Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-08-08 07:54:03.5458|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Failed to validate the token.|Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-08-08 07:54:03.6151|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2022-08-08 07:54:03.6151|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2022-08-08 07:54:03.6151|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.TokensController.RefreshAsync (EducationalPortal.API)'
2022-08-08 07:54:03.6151|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.CoursesController.GetCoursesAsync (EducationalPortal.API)'
2022-08-08 07:54:03.6876|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Refresh", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EducationalPortal.Application.Models.TokensModel]] RefreshAsync(EducationalPortal.Application.Models.TokensModel, System.Threading.CancellationToken) on controller EducationalPortal.API.Controllers.TokensController (EducationalPortal.API).
2022-08-08 07:54:03.6876|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[EducationalPortal.Application.Models.DTO.Course.CourseShortDto]] GetCoursesAsync(EducationalPortal.Application.Paging.PageParameters, System.Threading.CancellationToken) on controller EducationalPortal.API.Controllers.CoursesController (EducationalPortal.API).
2022-08-08 07:54:04.2657|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7106/styles.js.map - - - 200 225660 application/json;+charset=utf-8 1570.0795ms
2022-08-08 07:54:04.6429|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7106/main.js.map - - - 200 220587 application/json;+charset=utf-8 2024.4916ms
2022-08-08 07:54:04.8974|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7106/vendor.js.map - - - 200 3242823 application/json;+charset=utf-8 2156.6991ms
2022-08-08 07:54:05.4294|INFO|EducationalPortal.Infrastructure.Services.Identity.TokensService|Returned data from expired access token.
2022-08-08 07:54:07.8032|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-08-08 07:54:07.8032|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-08-08 07:54:09.0764|WARN|Microsoft.EntityFrameworkCore.Query|The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-08-08 07:54:09.0930|WARN|Microsoft.EntityFrameworkCore.Query|The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-08-08 07:54:12.8483|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (442ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[AuthorId], [c].[Description], [c].[Name], [c].[Price], [c].[ShortDescription], [c].[Thumbnail]
FROM [Courses] AS [c]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-08-08 07:54:13.2816|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (142ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Avatar], [t].[Balance], [t].[Email], [t].[Name], [t].[PasswordHash], [t].[Position], [t].[UserTokenId], [t].[Id0], [t].[RefreshToken], [t].[RefreshTokenExpiryTime], [t0].[RolesId], [t0].[UsersId], [t0].[Id], [t0].[Name]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Balance], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[Position], [u].[UserTokenId], [u0].[Id] AS [Id0], [u0].[RefreshToken], [u0].[RefreshTokenExpiryTime]
    FROM [Users] AS [u]
    LEFT JOIN [UserToken] AS [u0] ON [u].[UserTokenId] = [u0].[Id]
    WHERE 0 = 1
) AS [t]
LEFT JOIN (
    SELECT [r].[RolesId], [r].[UsersId], [r0].[Id], [r0].[Name]
    FROM [RoleUser] AS [r]
    INNER JOIN [Roles] AS [r0] ON [r].[RolesId] = [r0].[Id]
) AS [t0] ON [t].[Id] = [t0].[UsersId]
ORDER BY [t].[Id], [t].[Id0], [t0].[RolesId], [t0].[UsersId]
2022-08-08 07:54:13.7310|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (440ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Courses] AS [c]
2022-08-08 07:54:13.8606|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.TokensController.RefreshAsync (EducationalPortal.API) in 10161.5684ms
2022-08-08 07:54:13.8946|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.TokensController.RefreshAsync (EducationalPortal.API)'
2022-08-08 07:54:14.8056|INFO|EducationalPortal.Infrastructure.Services.CoursesService|Returned courses page 1 from database.
2022-08-08 07:54:14.8439|ERROR|EducationalPortal.Infrastructure.ExceptionHandling.ExceptionMiddleware|Something went wrong: Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: SecurityToken has Expired
   at EducationalPortal.Infrastructure.Services.Identity.TokensService.RefreshAsync(TokensModel tokensModel, String email, CancellationToken cancellationToken) in C:\Users\rareb\Desktop\github\educational-portal\EducationalPortal.Infrastructure\Services\Identity\TokensService.cs:line 39
   at EducationalPortal.API.Controllers.TokensController.RefreshAsync(TokensModel tokensModel, CancellationToken cancellationToken) in C:\Users\rareb\Desktop\github\educational-portal\EducationalPortal.API\Controllers\TokensController.cs:line 20
   at lambda_method15(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at EducationalPortal.Infrastructure.ExceptionHandling.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Users\rareb\Desktop\github\educational-portal\EducationalPortal.Infrastructure\ExceptionHandling\ExceptionMiddleware.cs:line 25
2022-08-08 07:54:15.3230|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'EducationalPortal.Application.Paging.PagedList`1[[EducationalPortal.Application.Models.DTO.Course.CourseShortDto, EducationalPortal.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-08 07:54:15.3535|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:7106/api/tokens/refresh application/json 595 - 500 - application/json 12350.4387ms
2022-08-08 07:54:15.4819|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.CoursesController.GetCoursesAsync (EducationalPortal.API) in 11793.8508ms
2022-08-08 07:54:15.4819|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.CoursesController.GetCoursesAsync (EducationalPortal.API)'
2022-08-08 07:54:15.4819|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/courses?pageSize=3&pageNumber=1 - - - 200 818 application/json;+charset=utf-8 12159.5312ms
2022-08-08 07:55:48.6412|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/courses?pageSize=3&pageNumber=1 - -
2022-08-08 07:55:48.6476|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Failed to validate the token.|Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-08-08 07:55:48.6476|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2022-08-08 07:55:48.6476|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.CoursesController.GetCoursesAsync (EducationalPortal.API)'
2022-08-08 07:55:48.6476|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[EducationalPortal.Application.Models.DTO.Course.CourseShortDto]] GetCoursesAsync(EducationalPortal.Application.Paging.PageParameters, System.Threading.CancellationToken) on controller EducationalPortal.API.Controllers.CoursesController (EducationalPortal.API).
2022-08-08 07:55:48.7717|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-08-08 07:55:48.9321|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (126ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[AuthorId], [c].[Description], [c].[Name], [c].[Price], [c].[ShortDescription], [c].[Thumbnail]
FROM [Courses] AS [c]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-08-08 07:55:49.0552|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (122ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Courses] AS [c]
2022-08-08 07:55:49.0552|INFO|EducationalPortal.Infrastructure.Services.CoursesService|Returned courses page 1 from database.
2022-08-08 07:55:49.0552|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'EducationalPortal.Application.Paging.PagedList`1[[EducationalPortal.Application.Models.DTO.Course.CourseShortDto, EducationalPortal.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-08 07:55:49.0552|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.CoursesController.GetCoursesAsync (EducationalPortal.API) in 409.3766ms
2022-08-08 07:55:49.0552|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.CoursesController.GetCoursesAsync (EducationalPortal.API)'
2022-08-08 07:55:49.0552|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/courses?pageSize=3&pageNumber=1 - - - 200 818 application/json;+charset=utf-8 418.6962ms
2022-08-08 07:57:29.1218|INFO|Microsoft.AspNetCore.SpaServices|Starting @angular/cli on port 54191...
2022-08-08 07:57:29.4201|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\rareb\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-08-08 07:57:29.9432|INFO|Microsoft.Hosting.Lifetime|Now listening on: https://localhost:7106
2022-08-08 07:57:29.9432|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:7105
2022-08-08 07:57:29.9432|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down.
2022-08-08 07:57:29.9432|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development
2022-08-08 07:57:29.9432|INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\rareb\Desktop\github\educational-portal\EducationalPortal.API\
2022-08-08 07:57:30.9486|ERROR|Microsoft.AspNetCore.SpaServices|npm WARN config global `--global`, `--local` are deprecated. Use `--location=global` instead.

2022-08-08 07:57:32.6341|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger - -
2022-08-08 07:57:32.8064|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger - - - 301 0 - 177.5358ms
2022-08-08 07:57:32.8257|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/index.html - -
2022-08-08 07:57:33.3464|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/swagger-ui-bundle.js - -
2022-08-08 07:57:33.3464|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/swagger-ui.css - -
2022-08-08 07:57:33.3464|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/swagger-ui-standalone-preset.js - -
2022-08-08 07:57:33.3506|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/index.html - - - 200 - text/html;charset=utf-8 524.8336ms
2022-08-08 07:57:33.3973|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/_vs/browserLink - -
2022-08-08 07:57:33.3973|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/_framework/aspnetcore-browser-refresh.js - -
2022-08-08 07:57:33.4254|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/_framework/aspnetcore-browser-refresh.js - - - 200 12012 application/javascript;+charset=utf-8 28.0213ms
2022-08-08 07:57:33.5511|INFO|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2022-08-08 07:57:33.5511|INFO|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2022-08-08 07:57:33.5511|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/swagger-ui.css - - - 200 143943 text/css 204.9600ms
2022-08-08 07:57:33.5511|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/swagger-ui-standalone-preset.js - - - 200 339486 application/javascript 204.8937ms
2022-08-08 07:57:33.7241|INFO|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2022-08-08 07:57:33.7241|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/swagger-ui-bundle.js - - - 200 1095087 application/javascript 378.7007ms
2022-08-08 07:57:33.9118|INFO|Microsoft.AspNetCore.SpaServices|> educational-portal.app@1.0.0 start

2022-08-08 07:57:33.9118|INFO|Microsoft.AspNetCore.SpaServices|> echo hello && ng serve

2022-08-08 07:57:33.9668|INFO|Microsoft.AspNetCore.SpaServices|hello 

2022-08-08 07:57:34.0773|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 679.9877ms
2022-08-08 07:57:34.5280|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/v1/swagger.json - -
2022-08-08 07:57:35.1656|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 637.5605ms
2022-08-08 07:57:38.3273|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/courses - -
2022-08-08 07:57:38.5902|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'Fallback {*path:nonfile}'
2022-08-08 07:57:38.5902|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'Fallback {*path:nonfile}'
2022-08-08 07:57:38.5902|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/courses - - - 404 0 - 263.6310ms
2022-08-08 07:57:54.6118|INFO|Microsoft.AspNetCore.SpaServices|Starting @angular/cli on port 54220...
2022-08-08 07:57:55.3658|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\rareb\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-08-08 07:57:55.8492|INFO|Microsoft.Hosting.Lifetime|Now listening on: https://localhost:7106
2022-08-08 07:57:55.8492|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:7105
2022-08-08 07:57:55.8492|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down.
2022-08-08 07:57:55.8492|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development
2022-08-08 07:57:55.8492|INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\rareb\Desktop\github\educational-portal\EducationalPortal.API\
2022-08-08 07:57:56.2842|ERROR|Microsoft.AspNetCore.SpaServices|npm WARN config global `--global`, `--local` are deprecated. Use `--location=global` instead.

2022-08-08 07:57:58.7001|INFO|Microsoft.AspNetCore.SpaServices|> educational-portal.app@1.0.0 start

2022-08-08 07:57:58.7001|INFO|Microsoft.AspNetCore.SpaServices|> echo hello && ng serve

2022-08-08 07:57:58.7001|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger - -
2022-08-08 07:57:58.8612|INFO|Microsoft.AspNetCore.SpaServices|hello 

2022-08-08 07:57:58.9130|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger - - - 301 0 - 218.8425ms
2022-08-08 07:57:58.9521|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/index.html - -
2022-08-08 07:57:59.4428|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/swagger-ui.css - -
2022-08-08 07:57:59.4428|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/swagger-ui-bundle.js - -
2022-08-08 07:57:59.4428|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/swagger-ui-standalone-preset.js - -
2022-08-08 07:57:59.4428|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/index.html - - - 200 - text/html;charset=utf-8 501.8814ms
2022-08-08 07:57:59.4939|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/_vs/browserLink - -
2022-08-08 07:57:59.4939|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/_framework/aspnetcore-browser-refresh.js - -
2022-08-08 07:57:59.5719|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/_framework/aspnetcore-browser-refresh.js - - - 200 12012 application/javascript;+charset=utf-8 77.9832ms
2022-08-08 07:57:59.6683|INFO|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2022-08-08 07:57:59.6765|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/swagger-ui-standalone-preset.js - - - 200 339486 application/javascript 223.8485ms
2022-08-08 07:57:59.7002|INFO|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2022-08-08 07:57:59.7002|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/swagger-ui-bundle.js - - - 200 1095087 application/javascript 256.4453ms
2022-08-08 07:57:59.7535|INFO|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2022-08-08 07:57:59.7654|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 271.5026ms
2022-08-08 07:57:59.7654|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/swagger-ui.css - - - 200 143943 text/css 324.2655ms
2022-08-08 07:58:00.3573|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/v1/swagger.json - -
2022-08-08 07:58:01.0657|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 708.3416ms
2022-08-08 07:58:02.9699|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/courses - -
2022-08-08 07:58:07.9114|ERROR|Microsoft.AspNetCore.SpaServices|- Generating browser application bundles (phase: setup)...

2022-08-08 07:58:30.3475|ERROR|Microsoft.AspNetCore.SpaServices|ΓêÜ Browser application bundle generation complete.

2022-08-08 07:58:30.5349|INFO|Microsoft.AspNetCore.SpaServices|Initial Chunk Files   | Names         |  Raw Size

2022-08-08 07:58:30.5349|INFO|Microsoft.AspNetCore.SpaServices|vendor.js             | vendor        |   2.35 MB |

2022-08-08 07:58:30.5349|INFO|Microsoft.AspNetCore.SpaServices|main.js               | main          | 387.86 kB |

2022-08-08 07:58:30.5349|INFO|Microsoft.AspNetCore.SpaServices|polyfills.js          | polyfills     | 294.87 kB |

2022-08-08 07:58:30.5349|INFO|Microsoft.AspNetCore.SpaServices|styles.css, styles.js | styles        | 173.25 kB |

2022-08-08 07:58:30.5349|INFO|Microsoft.AspNetCore.SpaServices|runtime.js            | runtime       |   6.54 kB |

2022-08-08 07:58:30.5349|INFO|Microsoft.AspNetCore.SpaServices|| Initial Total |   3.19 MB

2022-08-08 07:58:30.5349|INFO|Microsoft.AspNetCore.SpaServices|Build at: 2022-08-08T04:58:30.340Z - Hash: 8c0001bd6baece30 - Time: 21334ms

2022-08-08 07:58:30.5349|INFO|Microsoft.AspNetCore.SpaServices|** Angular Live Development Server is listening on localhost:54220, open your browser on http://localhost:54220/ **

2022-08-08 07:58:30.6523|INFO|Microsoft.AspNetCore.SpaServices|ΓêÜ Compiled successfully.

2022-08-08 07:58:35.3952|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/courses - - - 200 - text/html;+charset=utf-8 32425.3251ms
2022-08-08 07:58:35.4890|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/styles.css - -
2022-08-08 07:58:35.4890|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/runtime.js - -
2022-08-08 07:58:35.4890|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/polyfills.js - -
2022-08-08 07:58:35.5562|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/styles.css - - - 200 737 text/css;+charset=utf-8 67.2415ms
2022-08-08 07:58:35.5562|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/vendor.js - -
2022-08-08 07:58:35.5562|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-08-08 07:58:35.5562|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-08-08 07:58:35.5562|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-08-08 07:58:35.5562|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/_framework/aspnetcore-browser-refresh.js - -
2022-08-08 07:58:35.5674|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/_framework/aspnetcore-browser-refresh.js - - - 200 12012 application/javascript;+charset=utf-8 1.8458ms
2022-08-08 07:58:35.5674|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/styles.js - -
2022-08-08 07:58:35.5674|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/main.js - -
2022-08-08 07:58:35.5674|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/_vs/browserLink - -
2022-08-08 07:58:35.5674|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-08-08 07:58:35.6649|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/polyfills.js - - - 200 301943 application/javascript;+charset=utf-8 175.1996ms
2022-08-08 07:58:35.6649|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/runtime.js - - - 200 6696 application/javascript;+charset=utf-8 183.5510ms
2022-08-08 07:58:35.7268|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 153.3198ms
2022-08-08 07:58:35.8970|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/vendor.js - - - 200 2462581 application/javascript;+charset=utf-8 340.3314ms
2022-08-08 07:58:35.9676|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7106/ws - -
2022-08-08 07:58:35.9676|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-08-08 07:58:36.0354|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/styles.js - - - 200 176668 application/javascript;+charset=utf-8 467.7464ms
2022-08-08 07:58:36.1417|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/main.js - - - 200 397165 application/javascript;+charset=utf-8 568.3688ms
2022-08-08 07:58:36.4385|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:7106/api/tokens/refresh application/json 595
2022-08-08 07:58:36.4449|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-08-08 07:58:36.5758|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/courses?pageSize=3&pageNumber=1 - -
2022-08-08 07:58:36.6779|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7106/styles.js.map - -
2022-08-08 07:58:36.6779|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7106/vendor.js.map - -
2022-08-08 07:58:37.0940|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7106/polyfills.js.map - -
2022-08-08 07:58:37.2106|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7106/runtime.js.map - -
2022-08-08 07:58:37.2106|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7106/main.js.map - -
2022-08-08 07:58:37.4625|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7106/vendor.js.map - - - 200 3242823 application/json;+charset=utf-8 784.5673ms
2022-08-08 07:58:37.4817|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7106/styles.js.map - - - 200 225660 application/json;+charset=utf-8 803.7370ms
2022-08-08 07:58:37.5476|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7106/polyfills.js.map - - - 200 368440 application/json;+charset=utf-8 453.5388ms
2022-08-08 07:58:37.5587|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7106/runtime.js.map - - - 200 5719 application/json;+charset=utf-8 348.1251ms
2022-08-08 07:58:37.5779|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7106/main.js.map - - - 200 220587 application/json;+charset=utf-8 367.1984ms
2022-08-08 07:58:37.9337|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Failed to validate the token.|Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-08-08 07:58:37.9337|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Failed to validate the token.|Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-08-08 07:58:38.0712|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2022-08-08 07:58:38.0712|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2022-08-08 07:58:38.0870|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/courses?pageSize=3&pageNumber=1 - - - 404 150 text/html;+charset=utf-8 1511.2033ms
2022-08-08 07:58:38.0870|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:7106/api/tokens/refresh application/json 595 - 404 158 text/html;+charset=utf-8 1655.6394ms
2022-08-08 07:59:13.4741|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/courses?pageSize=3&pageNumber=1 - -
2022-08-08 07:59:13.4741|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Failed to validate the token.|Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-08-08 07:59:13.4741|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2022-08-08 07:59:13.4741|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/courses?pageSize=3&pageNumber=1 - - - 404 150 text/html;+charset=utf-8 12.1285ms
2022-08-08 07:59:23.9851|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/styles.css - -
2022-08-08 07:59:23.9915|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/styles.css - - - 304 - - 6.3464ms
2022-08-08 07:59:24.0488|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/polyfills.js.map - -
2022-08-08 07:59:24.0488|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/runtime.js.map - -
2022-08-08 07:59:24.0616|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/runtime.js.map - - - 200 5719 application/json;+charset=utf-8 12.1303ms
2022-08-08 07:59:24.0749|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/main.js.map - -
2022-08-08 07:59:24.0749|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/styles.js.map - -
2022-08-08 07:59:24.0749|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/vendor.js.map - -
2022-08-08 07:59:24.1656|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/polyfills.js.map - - - 200 368440 application/json;+charset=utf-8 116.8098ms
2022-08-08 07:59:24.1879|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/styles.js.map - - - 200 225660 application/json;+charset=utf-8 112.9564ms
2022-08-08 07:59:24.2745|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/vendor.js.map - - - 200 3242823 application/json;+charset=utf-8 199.5292ms
2022-08-08 07:59:24.2860|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/main.js.map - - - 200 220587 application/json;+charset=utf-8 211.0485ms
2022-08-08 07:59:24.3399|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/styles.css.map - -
2022-08-08 07:59:24.3399|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/styles.css.map - - - 200 235 application/json;+charset=utf-8 6.7442ms
2022-08-08 07:59:34.7331|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/courses - -
2022-08-08 07:59:34.7524|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/courses - - - 200 - text/html;+charset=utf-8 19.4331ms
2022-08-08 07:59:34.7844|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7106/ws - - - 101 - - 58816.9215ms
2022-08-08 07:59:34.8507|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/styles.css - -
2022-08-08 07:59:34.8760|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/styles.css - - - 200 737 text/css;+charset=utf-8 25.3176ms
2022-08-08 07:59:34.8760|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/runtime.js - -
2022-08-08 07:59:34.8760|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-08-08 07:59:34.8964|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/runtime.js - - - 200 6696 application/javascript;+charset=utf-8 19.9449ms
2022-08-08 07:59:34.8964|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/polyfills.js - -
2022-08-08 07:59:34.8964|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-08-08 07:59:34.8964|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/main.js - -
2022-08-08 07:59:34.8964|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-08-08 07:59:34.8964|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/_framework/aspnetcore-browser-refresh.js - -
2022-08-08 07:59:34.9180|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/_framework/aspnetcore-browser-refresh.js - - - 200 12012 application/javascript;+charset=utf-8 13.2558ms
2022-08-08 07:59:34.9494|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/_vs/browserLink - -
2022-08-08 07:59:34.9628|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7106/runtime.js.map - -
2022-08-08 07:59:34.9628|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7106/runtime.js.map - - - 200 5719 application/json;+charset=utf-8 6.6541ms
2022-08-08 07:59:34.9628|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/styles.js - -
2022-08-08 07:59:34.9931|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/vendor.js - -
2022-08-08 07:59:34.9931|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-08-08 07:59:35.0499|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/polyfills.js - - - 200 301943 application/javascript;+charset=utf-8 153.2427ms
2022-08-08 07:59:35.0883|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7106/polyfills.js.map - -
2022-08-08 07:59:35.0883|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/main.js - - - 200 397165 application/javascript;+charset=utf-8 183.6170ms
2022-08-08 07:59:35.0883|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/styles.js - - - 200 176668 application/javascript;+charset=utf-8 119.1013ms
2022-08-08 07:59:35.1206|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7106/ws - -
2022-08-08 07:59:35.1206|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-08-08 07:59:35.1408|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7106/polyfills.js.map - - - 200 368440 application/json;+charset=utf-8 52.5506ms
2022-08-08 07:59:35.2530|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7106/styles.js.map - -
2022-08-08 07:59:35.2851|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7106/main.js.map - -
2022-08-08 07:59:35.2860|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7106/styles.js.map - - - 200 225660 application/json;+charset=utf-8 32.9619ms
2022-08-08 07:59:35.3239|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7106/main.js.map - - - 200 220587 application/json;+charset=utf-8 38.7663ms
2022-08-08 07:59:35.3924|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 442.9588ms
2022-08-08 07:59:35.4075|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/vendor.js - - - 200 2462581 application/javascript;+charset=utf-8 414.3674ms
2022-08-08 07:59:35.5233|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7106/vendor.js.map - -
2022-08-08 07:59:35.6215|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7106/vendor.js.map - - - 200 3242823 application/json;+charset=utf-8 98.1873ms
2022-08-08 07:59:35.7852|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:7106/api/tokens/refresh application/json 595
2022-08-08 07:59:35.7852|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-08-08 07:59:35.7852|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Failed to validate the token.|Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-08-08 07:59:35.7852|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2022-08-08 07:59:35.7852|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:7106/api/tokens/refresh application/json 595 - 404 158 text/html;+charset=utf-8 9.5421ms
2022-08-08 07:59:37.1072|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/courses?pageSize=3&pageNumber=1 - -
2022-08-08 07:59:37.1072|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Failed to validate the token.|Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-08-08 07:59:37.1072|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2022-08-08 07:59:37.1167|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/courses?pageSize=3&pageNumber=1 - - - 404 150 text/html;+charset=utf-8 9.4878ms
2022-08-08 08:04:01.6631|INFO|Microsoft.AspNetCore.SpaServices|Starting @angular/cli on port 51835...
2022-08-08 08:04:01.9537|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\rareb\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-08-08 08:04:02.3581|INFO|Microsoft.Hosting.Lifetime|Now listening on: https://localhost:7106
2022-08-08 08:04:02.3581|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:7105
2022-08-08 08:04:02.3581|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down.
2022-08-08 08:04:02.3581|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development
2022-08-08 08:04:02.3581|INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\rareb\Desktop\github\educational-portal\EducationalPortal.API\
2022-08-08 08:04:03.0622|ERROR|Microsoft.AspNetCore.SpaServices|npm WARN config global `--global`, `--local` are deprecated. Use `--location=global` instead.

2022-08-08 08:04:04.7946|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger - -
2022-08-08 08:04:04.9661|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger - - - 301 0 - 183.5709ms
2022-08-08 08:04:04.9834|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/index.html - -
2022-08-08 08:04:05.3793|INFO|Microsoft.AspNetCore.SpaServices|> educational-portal.app@1.0.0 start

2022-08-08 08:04:05.3793|INFO|Microsoft.AspNetCore.SpaServices|> echo hello && ng serve

2022-08-08 08:04:05.5284|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/index.html - - - 200 - text/html;charset=utf-8 545.0127ms
2022-08-08 08:04:05.5458|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/swagger-ui.css - -
2022-08-08 08:04:05.5458|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/swagger-ui-bundle.js - -
2022-08-08 08:04:05.5510|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/swagger-ui-standalone-preset.js - -
2022-08-08 08:04:05.5510|INFO|Microsoft.AspNetCore.SpaServices|hello 

2022-08-08 08:04:05.6212|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/_vs/browserLink - -
2022-08-08 08:04:05.6212|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/_framework/aspnetcore-browser-refresh.js - -
2022-08-08 08:04:05.7519|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/_framework/aspnetcore-browser-refresh.js - - - 200 12012 application/javascript;+charset=utf-8 130.6295ms
2022-08-08 08:04:05.8222|INFO|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2022-08-08 08:04:05.8222|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/swagger-ui-standalone-preset.js - - - 200 339486 application/javascript 271.6884ms
2022-08-08 08:04:05.8222|INFO|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2022-08-08 08:04:05.8222|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/swagger-ui.css - - - 200 143943 text/css 283.3311ms
2022-08-08 08:04:06.0529|INFO|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2022-08-08 08:04:06.0529|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/swagger-ui-bundle.js - - - 200 1095087 application/javascript 505.9863ms
2022-08-08 08:04:06.1068|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 485.6189ms
2022-08-08 08:04:06.5555|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/v1/swagger.json - -
2022-08-08 08:04:07.1256|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 570.1979ms
2022-08-08 08:04:12.3259|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/courses - -
2022-08-08 08:04:14.4103|ERROR|Microsoft.AspNetCore.SpaServices|- Generating browser application bundles (phase: setup)...

2022-08-08 08:04:35.6818|ERROR|Microsoft.AspNetCore.SpaServices|ΓêÜ Browser application bundle generation complete.

2022-08-08 08:04:35.8575|INFO|Microsoft.AspNetCore.SpaServices|Initial Chunk Files   | Names         |  Raw Size

2022-08-08 08:04:35.8575|INFO|Microsoft.AspNetCore.SpaServices|vendor.js             | vendor        |   2.35 MB |

2022-08-08 08:04:35.8575|INFO|Microsoft.AspNetCore.SpaServices|main.js               | main          | 387.86 kB |

2022-08-08 08:04:35.8575|INFO|Microsoft.AspNetCore.SpaServices|polyfills.js          | polyfills     | 294.87 kB |

2022-08-08 08:04:35.8575|INFO|Microsoft.AspNetCore.SpaServices|styles.css, styles.js | styles        | 173.25 kB |

2022-08-08 08:04:35.8575|INFO|Microsoft.AspNetCore.SpaServices|runtime.js            | runtime       |   6.54 kB |

2022-08-08 08:04:35.8575|INFO|Microsoft.AspNetCore.SpaServices|| Initial Total |   3.19 MB

2022-08-08 08:04:35.8575|INFO|Microsoft.AspNetCore.SpaServices|Build at: 2022-08-08T05:04:35.675Z - Hash: 8c0001bd6baece30 - Time: 20378ms

2022-08-08 08:04:35.8575|INFO|Microsoft.AspNetCore.SpaServices|** Angular Live Development Server is listening on localhost:51835, open your browser on http://localhost:51835/ **

2022-08-08 08:04:35.9822|INFO|Microsoft.AspNetCore.SpaServices|ΓêÜ Compiled successfully.

2022-08-08 08:04:40.6178|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/courses - - - 200 - text/html;+charset=utf-8 28291.8328ms
2022-08-08 08:04:40.7039|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/runtime.js - -
2022-08-08 08:04:40.7039|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/styles.css - -
2022-08-08 08:04:40.7498|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/styles.css - - - 200 737 text/css;+charset=utf-8 43.5941ms
2022-08-08 08:04:40.7498|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/polyfills.js - -
2022-08-08 08:04:40.7574|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-08-08 08:04:40.7574|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-08-08 08:04:40.7709|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/vendor.js - -
2022-08-08 08:04:40.7709|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-08-08 08:04:40.7709|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/_framework/aspnetcore-browser-refresh.js - -
2022-08-08 08:04:40.7709|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/_framework/aspnetcore-browser-refresh.js - - - 200 12012 application/javascript;+charset=utf-8 0.3821ms
2022-08-08 08:04:40.7709|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/styles.js - -
2022-08-08 08:04:40.7709|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/_vs/browserLink - -
2022-08-08 08:04:40.7869|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/runtime.js - - - 200 6696 application/javascript;+charset=utf-8 82.9299ms
2022-08-08 08:04:40.7709|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/main.js - -
2022-08-08 08:04:40.7869|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-08-08 08:04:40.9175|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/polyfills.js - - - 200 301943 application/javascript;+charset=utf-8 166.3581ms
2022-08-08 08:04:41.1356|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7106/ws - -
2022-08-08 08:04:41.1356|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7106/runtime.js.map - -
2022-08-08 08:04:41.1356|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-08-08 08:04:41.2438|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 458.5134ms
2022-08-08 08:04:41.2834|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/vendor.js - - - 200 2462581 application/javascript;+charset=utf-8 512.4857ms
2022-08-08 08:04:41.4417|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/styles.js - - - 200 176668 application/javascript;+charset=utf-8 662.9970ms
2022-08-08 08:04:41.4840|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/main.js - - - 200 397165 application/javascript;+charset=utf-8 709.2630ms
2022-08-08 08:04:42.0550|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7106/runtime.js.map - - - 200 5719 application/json;+charset=utf-8 919.2424ms
2022-08-08 08:04:42.0990|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7106/polyfills.js.map - -
2022-08-08 08:04:42.1135|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7106/styles.js.map - -
2022-08-08 08:04:42.1135|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7106/vendor.js.map - -
2022-08-08 08:04:42.1996|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7106/polyfills.js.map - - - 200 368440 application/json;+charset=utf-8 100.5097ms
2022-08-08 08:04:42.3169|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7106/styles.js.map - - - 200 225660 application/json;+charset=utf-8 203.3513ms
2022-08-08 08:04:42.3536|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:7106/api/tokens/refresh application/json 595
2022-08-08 08:04:42.3536|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-08-08 08:04:42.4594|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/courses?pageSize=3&pageNumber=1 - -
2022-08-08 08:04:42.5903|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7106/main.js.map - -
2022-08-08 08:04:42.8607|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7106/vendor.js.map - - - 200 3242823 application/json;+charset=utf-8 746.8380ms
2022-08-08 08:04:43.0324|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7106/main.js.map - - - 200 220587 application/json;+charset=utf-8 442.0652ms
2022-08-08 08:04:43.4785|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Failed to validate the token.|Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-08-08 08:04:43.4785|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Failed to validate the token.|Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-08-08 08:04:43.5838|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2022-08-08 08:04:43.5838|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2022-08-08 08:04:43.5838|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.TokensController.RefreshAsync (EducationalPortal.API)'
2022-08-08 08:04:43.5838|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.CoursesController.GetCoursesAsync (EducationalPortal.API)'
2022-08-08 08:04:43.6510|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[EducationalPortal.Application.Models.DTO.Course.CourseShortDto]] GetCoursesAsync(EducationalPortal.Application.Paging.PageParameters, System.Threading.CancellationToken) on controller EducationalPortal.API.Controllers.CoursesController (EducationalPortal.API).
2022-08-08 08:04:43.6510|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Refresh", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EducationalPortal.Application.Models.TokensModel]] RefreshAsync(EducationalPortal.Application.Models.TokensModel, System.Threading.CancellationToken) on controller EducationalPortal.API.Controllers.TokensController (EducationalPortal.API).
2022-08-08 08:04:44.7267|INFO|EducationalPortal.Infrastructure.Services.Identity.TokensService|Returned data from expired access token.
2022-08-08 08:04:46.4340|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-08-08 08:04:46.4340|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-08-08 08:04:46.9625|WARN|Microsoft.EntityFrameworkCore.Query|The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-08-08 08:04:46.9625|WARN|Microsoft.EntityFrameworkCore.Query|The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-08-08 08:04:48.9000|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (286ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[AuthorId], [c].[Description], [c].[Name], [c].[Price], [c].[ShortDescription], [c].[Thumbnail]
FROM [Courses] AS [c]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-08-08 08:04:49.1468|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (127ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Courses] AS [c]
2022-08-08 08:04:49.1743|INFO|EducationalPortal.Infrastructure.Services.CoursesService|Returned courses page 1 from database.
2022-08-08 08:04:49.2437|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'EducationalPortal.Application.Paging.PagedList`1[[EducationalPortal.Application.Models.DTO.Course.CourseShortDto, EducationalPortal.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-08 08:04:49.2997|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.CoursesController.GetCoursesAsync (EducationalPortal.API) in 5642.8696ms
2022-08-08 08:04:49.3011|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.CoursesController.GetCoursesAsync (EducationalPortal.API)'
2022-08-08 08:04:49.3011|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/courses?pageSize=3&pageNumber=1 - - - 200 818 application/json;+charset=utf-8 6855.5345ms
2022-08-08 08:04:49.3795|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (127ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Avatar], [t].[Balance], [t].[Email], [t].[Name], [t].[PasswordHash], [t].[Position], [t].[UserTokenId], [t].[Id0], [t].[RefreshToken], [t].[RefreshTokenExpiryTime], [t0].[RolesId], [t0].[UsersId], [t0].[Id], [t0].[Name]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Balance], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[Position], [u].[UserTokenId], [u0].[Id] AS [Id0], [u0].[RefreshToken], [u0].[RefreshTokenExpiryTime]
    FROM [Users] AS [u]
    LEFT JOIN [UserToken] AS [u0] ON [u].[UserTokenId] = [u0].[Id]
    WHERE 0 = 1
) AS [t]
LEFT JOIN (
    SELECT [r].[RolesId], [r].[UsersId], [r0].[Id], [r0].[Name]
    FROM [RoleUser] AS [r]
    INNER JOIN [Roles] AS [r0] ON [r].[RolesId] = [r0].[Id]
) AS [t0] ON [t].[Id] = [t0].[UsersId]
ORDER BY [t].[Id], [t].[Id0], [t0].[RolesId], [t0].[UsersId]
2022-08-08 08:04:49.6206|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.TokensController.RefreshAsync (EducationalPortal.API) in 5969.2248ms
2022-08-08 08:04:49.6206|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.TokensController.RefreshAsync (EducationalPortal.API)'
2022-08-08 08:04:49.8458|ERROR|EducationalPortal.Infrastructure.ExceptionHandling.ExceptionMiddleware|Something went wrong: Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: SecurityToken has Expired
   at EducationalPortal.Infrastructure.Services.Identity.TokensService.RefreshAsync(TokensModel tokensModel, String email, CancellationToken cancellationToken) in C:\Users\rareb\Desktop\github\educational-portal\EducationalPortal.Infrastructure\Services\Identity\TokensService.cs:line 39
   at EducationalPortal.API.Controllers.TokensController.RefreshAsync(TokensModel tokensModel, CancellationToken cancellationToken) in C:\Users\rareb\Desktop\github\educational-portal\EducationalPortal.API\Controllers\TokensController.cs:line 20
   at lambda_method15(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at EducationalPortal.Infrastructure.ExceptionHandling.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Users\rareb\Desktop\github\educational-portal\EducationalPortal.Infrastructure\ExceptionHandling\ExceptionMiddleware.cs:line 25
2022-08-08 08:04:49.8495|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:7106/api/tokens/refresh application/json 595 - 500 - application/json 7495.8965ms
2022-08-08 08:04:53.4191|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/courses?pageSize=3&pageNumber=1 - -
2022-08-08 08:04:53.4191|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Failed to validate the token.|Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-08-08 08:04:53.4191|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2022-08-08 08:04:53.4257|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.CoursesController.GetCoursesAsync (EducationalPortal.API)'
2022-08-08 08:04:53.4257|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[EducationalPortal.Application.Models.DTO.Course.CourseShortDto]] GetCoursesAsync(EducationalPortal.Application.Paging.PageParameters, System.Threading.CancellationToken) on controller EducationalPortal.API.Controllers.CoursesController (EducationalPortal.API).
2022-08-08 08:04:53.4966|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-08-08 08:04:53.6464|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (139ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[AuthorId], [c].[Description], [c].[Name], [c].[Price], [c].[ShortDescription], [c].[Thumbnail]
FROM [Courses] AS [c]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-08-08 08:04:53.7733|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (124ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Courses] AS [c]
2022-08-08 08:04:53.7733|INFO|EducationalPortal.Infrastructure.Services.CoursesService|Returned courses page 1 from database.
2022-08-08 08:04:53.7733|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'EducationalPortal.Application.Paging.PagedList`1[[EducationalPortal.Application.Models.DTO.Course.CourseShortDto, EducationalPortal.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-08 08:04:53.7733|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.CoursesController.GetCoursesAsync (EducationalPortal.API) in 352.5543ms
2022-08-08 08:04:53.7733|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.CoursesController.GetCoursesAsync (EducationalPortal.API)'
2022-08-08 08:04:53.7733|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/courses?pageSize=3&pageNumber=1 - - - 200 818 application/json;+charset=utf-8 360.9532ms
2022-08-08 08:19:14.7036|INFO|Microsoft.AspNetCore.SpaServices|Starting @angular/cli on port 52020...
2022-08-08 08:19:15.0146|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\rareb\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-08-08 08:19:15.4018|INFO|Microsoft.Hosting.Lifetime|Now listening on: https://localhost:7106
2022-08-08 08:19:15.4018|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:7105
2022-08-08 08:19:15.4018|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down.
2022-08-08 08:19:15.4018|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development
2022-08-08 08:19:15.4018|INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\rareb\Desktop\github\educational-portal\EducationalPortal.API\
2022-08-08 08:19:16.1110|ERROR|Microsoft.AspNetCore.SpaServices|npm WARN config global `--global`, `--local` are deprecated. Use `--location=global` instead.

2022-08-08 08:19:18.1120|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger - -
2022-08-08 08:19:18.2890|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger - - - 301 0 - 182.2015ms
2022-08-08 08:19:18.3089|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/index.html - -
2022-08-08 08:19:18.3187|INFO|Microsoft.AspNetCore.SpaServices|> educational-portal.app@1.0.0 start

2022-08-08 08:19:18.3187|INFO|Microsoft.AspNetCore.SpaServices|> echo hello && ng serve

2022-08-08 08:19:18.4056|INFO|Microsoft.AspNetCore.SpaServices|hello 

2022-08-08 08:19:19.1277|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/swagger-ui.css - -
2022-08-08 08:19:19.1844|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/swagger-ui-bundle.js - -
2022-08-08 08:19:19.1844|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/swagger-ui-standalone-preset.js - -
2022-08-08 08:19:19.2197|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/_framework/aspnetcore-browser-refresh.js - -
2022-08-08 08:19:19.2197|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/_vs/browserLink - -
2022-08-08 08:19:19.2769|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/index.html - - - 200 - text/html;charset=utf-8 967.9844ms
2022-08-08 08:19:19.2769|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/_framework/aspnetcore-browser-refresh.js - - - 200 12012 application/javascript;+charset=utf-8 57.2853ms
2022-08-08 08:19:19.3290|INFO|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2022-08-08 08:19:19.3434|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/swagger-ui.css - - - 200 143943 text/css 215.7034ms
2022-08-08 08:19:19.4371|INFO|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2022-08-08 08:19:19.4371|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/swagger-ui-standalone-preset.js - - - 200 339486 application/javascript 252.7824ms
2022-08-08 08:19:19.5285|INFO|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2022-08-08 08:19:19.5285|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/swagger-ui-bundle.js - - - 200 1095087 application/javascript 344.2639ms
2022-08-08 08:19:19.5606|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 340.8928ms
2022-08-08 08:19:20.4203|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/v1/swagger.json - -
2022-08-08 08:19:20.9269|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 506.6729ms
2022-08-08 08:19:27.5224|ERROR|Microsoft.AspNetCore.SpaServices|- Generating browser application bundles (phase: setup)...

2022-08-08 08:19:32.8197|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/courses - -
2022-08-08 08:19:52.3602|ERROR|Microsoft.AspNetCore.SpaServices|ΓêÜ Browser application bundle generation complete.

2022-08-08 08:19:52.5743|INFO|Microsoft.AspNetCore.SpaServices|Initial Chunk Files   | Names         |  Raw Size

2022-08-08 08:19:52.5743|INFO|Microsoft.AspNetCore.SpaServices|vendor.js             | vendor        |   2.35 MB |

2022-08-08 08:19:52.5743|INFO|Microsoft.AspNetCore.SpaServices|main.js               | main          | 387.86 kB |

2022-08-08 08:19:52.5743|INFO|Microsoft.AspNetCore.SpaServices|polyfills.js          | polyfills     | 294.87 kB |

2022-08-08 08:19:52.5743|INFO|Microsoft.AspNetCore.SpaServices|styles.css, styles.js | styles        | 173.25 kB |

2022-08-08 08:19:52.5743|INFO|Microsoft.AspNetCore.SpaServices|runtime.js            | runtime       |   6.54 kB |

2022-08-08 08:19:52.5743|INFO|Microsoft.AspNetCore.SpaServices|| Initial Total |   3.19 MB

2022-08-08 08:19:52.5743|INFO|Microsoft.AspNetCore.SpaServices|Build at: 2022-08-08T05:19:52.350Z - Hash: 8c0001bd6baece30 - Time: 23518ms

2022-08-08 08:19:52.5743|INFO|Microsoft.AspNetCore.SpaServices|** Angular Live Development Server is listening on localhost:52020, open your browser on http://localhost:52020/ **

2022-08-08 08:19:52.9816|INFO|Microsoft.AspNetCore.SpaServices|ΓêÜ Compiled successfully.

2022-08-08 08:19:57.8291|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/courses - - - 200 - text/html;+charset=utf-8 25009.3764ms
2022-08-08 08:19:57.9371|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/styles.css - -
2022-08-08 08:19:57.9529|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/styles.css - - - 200 737 text/css;+charset=utf-8 7.8465ms
2022-08-08 08:19:58.0561|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/runtime.js - -
2022-08-08 08:19:58.0716|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-08-08 08:19:58.0948|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/runtime.js - - - 200 6696 application/javascript;+charset=utf-8 38.6361ms
2022-08-08 08:19:58.1380|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/polyfills.js - -
2022-08-08 08:19:58.1380|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-08-08 08:19:58.1510|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/polyfills.js - - - 200 301943 application/javascript;+charset=utf-8 12.9590ms
2022-08-08 08:19:58.1693|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/vendor.js - -
2022-08-08 08:19:58.1693|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-08-08 08:19:58.2374|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/vendor.js - - - 200 2462581 application/javascript;+charset=utf-8 68.0524ms
2022-08-08 08:19:58.2436|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/main.js - -
2022-08-08 08:19:58.2436|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-08-08 08:19:58.2559|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/main.js - - - 200 397165 application/javascript;+charset=utf-8 12.2917ms
2022-08-08 08:19:58.3430|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/_framework/aspnetcore-browser-refresh.js - -
2022-08-08 08:19:58.3430|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/_framework/aspnetcore-browser-refresh.js - - - 200 12012 application/javascript;+charset=utf-8 0.3301ms
2022-08-08 08:19:58.4522|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/styles.js - -
2022-08-08 08:19:58.4576|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/styles.js - - - 200 176668 application/javascript;+charset=utf-8 5.3450ms
2022-08-08 08:19:58.4874|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/_vs/browserLink - -
2022-08-08 08:19:58.5242|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 36.7374ms
2022-08-08 08:19:58.6491|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7106/ws - -
2022-08-08 08:19:58.6491|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-08-08 08:19:58.9015|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7106/runtime.js.map - -
2022-08-08 08:19:58.9182|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7106/polyfills.js.map - -
2022-08-08 08:19:58.9590|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7106/runtime.js.map - - - 200 5719 application/json;+charset=utf-8 57.4761ms
2022-08-08 08:19:58.9590|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7106/main.js.map - -
2022-08-08 08:19:59.0354|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7106/polyfills.js.map - - - 200 368440 application/json;+charset=utf-8 117.1379ms
2022-08-08 08:19:59.0354|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7106/main.js.map - - - 200 220587 application/json;+charset=utf-8 90.1388ms
2022-08-08 08:19:59.3886|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7106/vendor.js.map - -
2022-08-08 08:19:59.5433|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7106/vendor.js.map - - - 200 3242823 application/json;+charset=utf-8 154.6683ms
2022-08-08 08:19:59.8255|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:7106/api/tokens/refresh application/json 595
2022-08-08 08:19:59.8322|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-08-08 08:20:00.5112|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Failed to validate the token.|Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-08-08 08:20:00.7273|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7106/styles.js.map - -
2022-08-08 08:20:00.7912|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2022-08-08 08:20:00.7912|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.TokensController.RefreshAsync (EducationalPortal.API)'
2022-08-08 08:20:00.8884|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7106/styles.js.map - - - 200 225660 application/json;+charset=utf-8 161.1042ms
2022-08-08 08:20:00.9791|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Refresh", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EducationalPortal.Application.Models.TokensModel]] RefreshAsync(EducationalPortal.Application.Models.TokensModel, System.Threading.CancellationToken) on controller EducationalPortal.API.Controllers.TokensController (EducationalPortal.API).
2022-08-08 08:20:01.4760|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/courses?pageSize=3&pageNumber=1 - -
2022-08-08 08:20:01.5069|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Failed to validate the token.|Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-08-08 08:20:01.5069|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2022-08-08 08:20:01.5069|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.CoursesController.GetCoursesAsync (EducationalPortal.API)'
2022-08-08 08:20:01.5236|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[EducationalPortal.Application.Models.DTO.Course.CourseShortDto]] GetCoursesAsync(EducationalPortal.Application.Paging.PageParameters, System.Threading.CancellationToken) on controller EducationalPortal.API.Controllers.CoursesController (EducationalPortal.API).
2022-08-08 08:20:02.4046|INFO|EducationalPortal.Infrastructure.Services.Identity.TokensService|Returned data from expired access token.
2022-08-08 08:20:04.3687|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-08-08 08:20:04.3687|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-08-08 08:20:05.1839|WARN|Microsoft.EntityFrameworkCore.Query|The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-08-08 08:20:05.1839|WARN|Microsoft.EntityFrameworkCore.Query|The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-08-08 08:20:07.1539|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (222ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Avatar], [t].[Balance], [t].[Email], [t].[Name], [t].[PasswordHash], [t].[Position], [t].[UserTokenId], [t].[Id0], [t].[RefreshToken], [t].[RefreshTokenExpiryTime], [t0].[RolesId], [t0].[UsersId], [t0].[Id], [t0].[Name]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Balance], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[Position], [u].[UserTokenId], [u0].[Id] AS [Id0], [u0].[RefreshToken], [u0].[RefreshTokenExpiryTime]
    FROM [Users] AS [u]
    LEFT JOIN [UserToken] AS [u0] ON [u].[UserTokenId] = [u0].[Id]
    WHERE 0 = 1
) AS [t]
LEFT JOIN (
    SELECT [r].[RolesId], [r].[UsersId], [r0].[Id], [r0].[Name]
    FROM [RoleUser] AS [r]
    INNER JOIN [Roles] AS [r0] ON [r].[RolesId] = [r0].[Id]
) AS [t0] ON [t].[Id] = [t0].[UsersId]
ORDER BY [t].[Id], [t].[Id0], [t0].[RolesId], [t0].[UsersId]
2022-08-08 08:20:07.4759|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.TokensController.RefreshAsync (EducationalPortal.API) in 6485.6188ms
2022-08-08 08:20:07.4759|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.TokensController.RefreshAsync (EducationalPortal.API)'
2022-08-08 08:20:07.7429|ERROR|EducationalPortal.Infrastructure.ExceptionHandling.ExceptionMiddleware|Something went wrong: Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: SecurityToken has Expired
   at EducationalPortal.Infrastructure.Services.Identity.TokensService.RefreshAsync(TokensModel tokensModel, String email, CancellationToken cancellationToken) in C:\Users\rareb\Desktop\github\educational-portal\EducationalPortal.Infrastructure\Services\Identity\TokensService.cs:line 39
   at EducationalPortal.API.Controllers.TokensController.RefreshAsync(TokensModel tokensModel, CancellationToken cancellationToken) in C:\Users\rareb\Desktop\github\educational-portal\EducationalPortal.API\Controllers\TokensController.cs:line 20
   at lambda_method9(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at EducationalPortal.Infrastructure.ExceptionHandling.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Users\rareb\Desktop\github\educational-portal\EducationalPortal.Infrastructure\ExceptionHandling\ExceptionMiddleware.cs:line 25
2022-08-08 08:20:07.8380|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:7106/api/tokens/refresh application/json 595 - 500 - application/json 8012.4162ms
2022-08-08 08:20:07.9296|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (308ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[AuthorId], [c].[Description], [c].[Name], [c].[Price], [c].[ShortDescription], [c].[Thumbnail]
FROM [Courses] AS [c]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-08-08 08:20:08.1284|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (125ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Courses] AS [c]
2022-08-08 08:20:08.1610|INFO|EducationalPortal.Infrastructure.Services.CoursesService|Returned courses page 1 from database.
2022-08-08 08:20:08.1778|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'EducationalPortal.Application.Paging.PagedList`1[[EducationalPortal.Application.Models.DTO.Course.CourseShortDto, EducationalPortal.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-08 08:20:08.2302|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.CoursesController.GetCoursesAsync (EducationalPortal.API) in 6706.3294ms
2022-08-08 08:20:08.2302|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.CoursesController.GetCoursesAsync (EducationalPortal.API)'
2022-08-08 08:20:08.2302|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/courses?pageSize=3&pageNumber=1 - - - 200 818 application/json;+charset=utf-8 6754.5951ms
2022-08-08 08:20:09.8480|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/courses?pageSize=3&pageNumber=1 - -
2022-08-08 08:20:09.8480|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Failed to validate the token.|Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-08-08 08:20:09.8480|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2022-08-08 08:20:09.8480|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.CoursesController.GetCoursesAsync (EducationalPortal.API)'
2022-08-08 08:20:09.8480|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[EducationalPortal.Application.Models.DTO.Course.CourseShortDto]] GetCoursesAsync(EducationalPortal.Application.Paging.PageParameters, System.Threading.CancellationToken) on controller EducationalPortal.API.Controllers.CoursesController (EducationalPortal.API).
2022-08-08 08:20:09.9176|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-08-08 08:20:10.0889|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (160ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[AuthorId], [c].[Description], [c].[Name], [c].[Price], [c].[ShortDescription], [c].[Thumbnail]
FROM [Courses] AS [c]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-08-08 08:20:10.2143|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (124ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Courses] AS [c]
2022-08-08 08:20:10.2143|INFO|EducationalPortal.Infrastructure.Services.CoursesService|Returned courses page 1 from database.
2022-08-08 08:20:10.2143|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'EducationalPortal.Application.Paging.PagedList`1[[EducationalPortal.Application.Models.DTO.Course.CourseShortDto, EducationalPortal.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-08 08:20:10.2143|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.CoursesController.GetCoursesAsync (EducationalPortal.API) in 370.7032ms
2022-08-08 08:20:10.2143|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.CoursesController.GetCoursesAsync (EducationalPortal.API)'
2022-08-08 08:20:10.2143|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/courses?pageSize=3&pageNumber=1 - - - 200 818 application/json;+charset=utf-8 373.1542ms
2022-08-08 08:24:15.2437|INFO|Microsoft.AspNetCore.SpaServices|Starting @angular/cli on port 52096...
2022-08-08 08:24:15.7430|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\rareb\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-08-08 08:24:17.0096|INFO|Microsoft.Hosting.Lifetime|Now listening on: https://localhost:7106
2022-08-08 08:24:17.0201|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:7105
2022-08-08 08:24:17.0201|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down.
2022-08-08 08:24:17.0201|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development
2022-08-08 08:24:17.0201|INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\rareb\Desktop\github\educational-portal\EducationalPortal.API\
2022-08-08 08:24:18.8825|ERROR|Microsoft.AspNetCore.SpaServices|npm WARN config global `--global`, `--local` are deprecated. Use `--location=global` instead.

2022-08-08 08:24:22.7368|INFO|Microsoft.AspNetCore.SpaServices|> educational-portal.app@1.0.0 start

2022-08-08 08:24:22.7368|INFO|Microsoft.AspNetCore.SpaServices|> echo hello && ng serve

2022-08-08 08:24:22.8355|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger - -
2022-08-08 08:24:22.8551|INFO|Microsoft.AspNetCore.SpaServices|hello 

2022-08-08 08:24:23.0055|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger - - - 301 0 - 174.2882ms
2022-08-08 08:24:23.0055|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/index.html - -
2022-08-08 08:24:23.5256|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/index.html - - - 200 - text/html;charset=utf-8 516.0910ms
2022-08-08 08:24:23.5498|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/swagger-ui.css - -
2022-08-08 08:24:23.5607|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/swagger-ui-bundle.js - -
2022-08-08 08:24:23.6049|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/swagger-ui-standalone-preset.js - -
2022-08-08 08:24:23.6388|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/_framework/aspnetcore-browser-refresh.js - -
2022-08-08 08:24:23.6388|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/_vs/browserLink - -
2022-08-08 08:24:23.9663|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/_framework/aspnetcore-browser-refresh.js - - - 200 12012 application/javascript;+charset=utf-8 327.4263ms
2022-08-08 08:24:23.9768|INFO|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2022-08-08 08:24:23.9768|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/swagger-ui-standalone-preset.js - - - 200 339486 application/javascript 372.2302ms
2022-08-08 08:24:23.9902|INFO|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2022-08-08 08:24:24.0609|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/swagger-ui.css - - - 200 143943 text/css 511.0777ms
2022-08-08 08:24:24.1560|INFO|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2022-08-08 08:24:24.1560|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/swagger-ui-bundle.js - - - 200 1095087 application/javascript 595.7283ms
2022-08-08 08:24:24.1771|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 538.2441ms
2022-08-08 08:24:24.8129|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/v1/swagger.json - -
2022-08-08 08:24:25.3930|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 580.0794ms
2022-08-08 08:24:34.0306|ERROR|Microsoft.AspNetCore.SpaServices|- Generating browser application bundles (phase: setup)...

2022-08-08 08:24:56.5456|ERROR|Microsoft.AspNetCore.SpaServices|ΓêÜ Browser application bundle generation complete.

2022-08-08 08:24:56.7051|INFO|Microsoft.AspNetCore.SpaServices|Initial Chunk Files   | Names         |  Raw Size

2022-08-08 08:24:56.7051|INFO|Microsoft.AspNetCore.SpaServices|vendor.js             | vendor        |   2.35 MB |

2022-08-08 08:24:56.7051|INFO|Microsoft.AspNetCore.SpaServices|main.js               | main          | 387.86 kB |

2022-08-08 08:24:56.7051|INFO|Microsoft.AspNetCore.SpaServices|polyfills.js          | polyfills     | 338.93 kB |

2022-08-08 08:24:56.7051|INFO|Microsoft.AspNetCore.SpaServices|styles.css, styles.js | styles        | 173.25 kB |

2022-08-08 08:24:56.7051|INFO|Microsoft.AspNetCore.SpaServices|runtime.js            | runtime       |   6.54 kB |

2022-08-08 08:24:56.7051|INFO|Microsoft.AspNetCore.SpaServices|| Initial Total |   3.23 MB

2022-08-08 08:24:56.7051|INFO|Microsoft.AspNetCore.SpaServices|Build at: 2022-08-08T05:24:56.537Z - Hash: 111c14aeeb07ae85 - Time: 21167ms

2022-08-08 08:24:56.7051|INFO|Microsoft.AspNetCore.SpaServices|** Angular Live Development Server is listening on localhost:52096, open your browser on http://localhost:52096/ **

2022-08-08 08:24:57.1246|INFO|Microsoft.AspNetCore.SpaServices|ΓêÜ Compiled successfully.

2022-08-08 08:33:03.1113|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/courses - -
2022-08-08 08:33:05.4291|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/courses - - - 200 - text/html;+charset=utf-8 2318.0707ms
2022-08-08 08:33:05.5492|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/styles.css - -
2022-08-08 08:33:05.5505|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/runtime.js - -
2022-08-08 08:33:05.6535|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/styles.css - - - 200 737 text/css;+charset=utf-8 104.3011ms
2022-08-08 08:33:05.6535|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/polyfills.js - -
2022-08-08 08:33:05.6535|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-08-08 08:33:05.6535|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-08-08 08:33:05.6930|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/vendor.js - -
2022-08-08 08:33:05.6930|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/main.js - -
2022-08-08 08:33:05.6930|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-08-08 08:33:05.6930|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-08-08 08:33:05.6930|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/_framework/aspnetcore-browser-refresh.js - -
2022-08-08 08:33:05.7077|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/styles.js - -
2022-08-08 08:33:05.7077|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/_vs/browserLink - -
2022-08-08 08:33:05.7244|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/_framework/aspnetcore-browser-refresh.js - - - 200 12012 application/javascript;+charset=utf-8 18.6648ms
2022-08-08 08:33:05.7586|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/polyfills.js - - - 200 347062 application/javascript;+charset=utf-8 104.7606ms
2022-08-08 08:33:05.7835|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/runtime.js - - - 200 6696 application/javascript;+charset=utf-8 233.0031ms
2022-08-08 08:33:05.8731|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/main.js - - - 200 397165 application/javascript;+charset=utf-8 178.8073ms
2022-08-08 08:33:05.9747|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7106/ws - -
2022-08-08 08:33:05.9747|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-08-08 08:33:06.0758|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7106/polyfills.js.map - -
2022-08-08 08:33:06.0863|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 366.5363ms
2022-08-08 08:33:06.0863|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7106/runtime.js.map - -
2022-08-08 08:33:06.2516|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/vendor.js - - - 200 2462581 application/javascript;+charset=utf-8 558.4986ms
2022-08-08 08:33:06.2711|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/styles.js - - - 200 176668 application/javascript;+charset=utf-8 563.4024ms
2022-08-08 08:33:06.2711|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7106/main.js.map - -
2022-08-08 08:33:06.3203|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7106/polyfills.js.map - - - 200 418635 application/json;+charset=utf-8 244.4932ms
2022-08-08 08:33:06.3203|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7106/runtime.js.map - - - 200 5719 application/json;+charset=utf-8 230.5101ms
2022-08-08 08:33:06.3361|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7106/main.js.map - - - 200 220587 application/json;+charset=utf-8 61.0052ms
2022-08-08 08:33:06.4575|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7106/styles.js.map - -
2022-08-08 08:33:06.4729|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7106/styles.js.map - - - 200 225660 application/json;+charset=utf-8 15.3727ms
2022-08-08 08:33:06.5407|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:7106/api/tokens/refresh application/json 595
2022-08-08 08:33:06.5407|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-08-08 08:33:06.5918|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7106/vendor.js.map - -
2022-08-08 08:33:06.6471|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/courses?pageSize=3&pageNumber=1 - -
2022-08-08 08:33:07.1229|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Failed to validate the token.|Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-08-08 08:33:07.1229|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Failed to validate the token.|Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-08-08 08:33:07.1942|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2022-08-08 08:33:07.1942|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2022-08-08 08:33:07.1942|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.TokensController.RefreshAsync (EducationalPortal.API)'
2022-08-08 08:33:07.1942|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.CoursesController.GetCoursesAsync (EducationalPortal.API)'
2022-08-08 08:33:07.3002|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[EducationalPortal.Application.Models.DTO.Course.CourseShortDto]] GetCoursesAsync(EducationalPortal.Application.Paging.PageParameters, System.Threading.CancellationToken) on controller EducationalPortal.API.Controllers.CoursesController (EducationalPortal.API).
2022-08-08 08:33:07.3002|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Refresh", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EducationalPortal.Application.Models.TokensModel]] RefreshAsync(EducationalPortal.Application.Models.TokensModel, System.Threading.CancellationToken) on controller EducationalPortal.API.Controllers.TokensController (EducationalPortal.API).
2022-08-08 08:33:08.0403|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7106/vendor.js.map - - - 200 3242823 application/json;+charset=utf-8 1448.4577ms
2022-08-08 08:33:08.3776|INFO|EducationalPortal.Infrastructure.Services.Identity.TokensService|Returned data from expired access token.
2022-08-08 08:33:09.9959|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-08-08 08:33:09.9959|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-08-08 08:33:10.5080|WARN|Microsoft.EntityFrameworkCore.Query|The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-08-08 08:33:10.5080|WARN|Microsoft.EntityFrameworkCore.Query|The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-08-08 08:33:12.4369|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (202ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Avatar], [t].[Balance], [t].[Email], [t].[Name], [t].[PasswordHash], [t].[Position], [t].[UserTokenId], [t].[Id0], [t].[RefreshToken], [t].[RefreshTokenExpiryTime], [t0].[RolesId], [t0].[UsersId], [t0].[Id], [t0].[Name]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Balance], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[Position], [u].[UserTokenId], [u0].[Id] AS [Id0], [u0].[RefreshToken], [u0].[RefreshTokenExpiryTime]
    FROM [Users] AS [u]
    LEFT JOIN [UserToken] AS [u0] ON [u].[UserTokenId] = [u0].[Id]
    WHERE 0 = 1
) AS [t]
LEFT JOIN (
    SELECT [r].[RolesId], [r].[UsersId], [r0].[Id], [r0].[Name]
    FROM [RoleUser] AS [r]
    INNER JOIN [Roles] AS [r0] ON [r].[RolesId] = [r0].[Id]
) AS [t0] ON [t].[Id] = [t0].[UsersId]
ORDER BY [t].[Id], [t].[Id0], [t0].[RolesId], [t0].[UsersId]
2022-08-08 08:33:12.8375|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.TokensController.RefreshAsync (EducationalPortal.API) in 5528.4303ms
2022-08-08 08:33:12.9074|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.TokensController.RefreshAsync (EducationalPortal.API)'
2022-08-08 08:33:13.2514|ERROR|EducationalPortal.Infrastructure.ExceptionHandling.ExceptionMiddleware|Something went wrong: Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: SecurityToken has Expired
   at EducationalPortal.Infrastructure.Services.Identity.TokensService.RefreshAsync(TokensModel tokensModel, String email, CancellationToken cancellationToken) in C:\Users\rareb\Desktop\github\educational-portal\EducationalPortal.Infrastructure\Services\Identity\TokensService.cs:line 39
   at EducationalPortal.API.Controllers.TokensController.RefreshAsync(TokensModel tokensModel, CancellationToken cancellationToken) in C:\Users\rareb\Desktop\github\educational-portal\EducationalPortal.API\Controllers\TokensController.cs:line 20
   at lambda_method15(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at EducationalPortal.Infrastructure.ExceptionHandling.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Users\rareb\Desktop\github\educational-portal\EducationalPortal.Infrastructure\ExceptionHandling\ExceptionMiddleware.cs:line 25
2022-08-08 08:33:13.3280|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:7106/api/tokens/refresh application/json 595 - 500 - application/json 6787.2835ms
2022-08-08 08:33:13.4218|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (457ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[AuthorId], [c].[Description], [c].[Name], [c].[Price], [c].[ShortDescription], [c].[Thumbnail]
FROM [Courses] AS [c]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-08-08 08:33:13.6287|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (129ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Courses] AS [c]
2022-08-08 08:33:13.6803|INFO|EducationalPortal.Infrastructure.Services.CoursesService|Returned courses page 1 from database.
2022-08-08 08:33:13.6941|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'EducationalPortal.Application.Paging.PagedList`1[[EducationalPortal.Application.Models.DTO.Course.CourseShortDto, EducationalPortal.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-08 08:33:13.7522|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.CoursesController.GetCoursesAsync (EducationalPortal.API) in 6451.3576ms
2022-08-08 08:33:13.7522|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.CoursesController.GetCoursesAsync (EducationalPortal.API)'
2022-08-08 08:33:13.7522|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/courses?pageSize=3&pageNumber=1 - - - 200 818 application/json;+charset=utf-8 7105.5474ms
2022-08-08 08:33:14.8686|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/courses?pageSize=3&pageNumber=1 - -
2022-08-08 08:33:14.8686|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Failed to validate the token.|Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-08-08 08:33:14.8686|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2022-08-08 08:33:14.8686|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.CoursesController.GetCoursesAsync (EducationalPortal.API)'
2022-08-08 08:33:14.8686|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[EducationalPortal.Application.Models.DTO.Course.CourseShortDto]] GetCoursesAsync(EducationalPortal.Application.Paging.PageParameters, System.Threading.CancellationToken) on controller EducationalPortal.API.Controllers.CoursesController (EducationalPortal.API).
2022-08-08 08:33:14.9441|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-08-08 08:33:15.0882|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (129ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[AuthorId], [c].[Description], [c].[Name], [c].[Price], [c].[ShortDescription], [c].[Thumbnail]
FROM [Courses] AS [c]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-08-08 08:33:15.2122|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (124ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Courses] AS [c]
2022-08-08 08:33:15.2122|INFO|EducationalPortal.Infrastructure.Services.CoursesService|Returned courses page 1 from database.
2022-08-08 08:33:15.2224|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'EducationalPortal.Application.Paging.PagedList`1[[EducationalPortal.Application.Models.DTO.Course.CourseShortDto, EducationalPortal.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-08 08:33:15.2224|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.CoursesController.GetCoursesAsync (EducationalPortal.API) in 350.3203ms
2022-08-08 08:33:15.2224|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.CoursesController.GetCoursesAsync (EducationalPortal.API)'
2022-08-08 08:33:15.2224|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/courses?pageSize=3&pageNumber=1 - - - 200 818 application/json;+charset=utf-8 354.8027ms
2022-08-08 08:33:16.1457|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7106/ws - - - 101 - - 10170.9287ms
2022-08-08 08:37:48.7893|INFO|Microsoft.AspNetCore.SpaServices|Starting @angular/cli on port 52286...
2022-08-08 08:37:49.1130|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\rareb\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-08-08 08:37:49.4814|INFO|Microsoft.Hosting.Lifetime|Now listening on: https://localhost:7106
2022-08-08 08:37:49.4814|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:7105
2022-08-08 08:37:49.4814|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down.
2022-08-08 08:37:49.4814|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development
2022-08-08 08:37:49.4814|INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\rareb\Desktop\github\educational-portal\EducationalPortal.API\
2022-08-08 08:37:50.3006|ERROR|Microsoft.AspNetCore.SpaServices|npm WARN config global `--global`, `--local` are deprecated. Use `--location=global` instead.

2022-08-08 08:37:52.3032|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger - -
2022-08-08 08:37:52.4736|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger - - - 301 0 - 176.0618ms
2022-08-08 08:37:52.4900|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/index.html - -
2022-08-08 08:37:52.7695|INFO|Microsoft.AspNetCore.SpaServices|> educational-portal.app@1.0.0 start

2022-08-08 08:37:52.7695|INFO|Microsoft.AspNetCore.SpaServices|> echo hello && ng serve

2022-08-08 08:37:52.8902|INFO|Microsoft.AspNetCore.SpaServices|hello 

2022-08-08 08:37:52.9525|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/swagger-ui.css - -
2022-08-08 08:37:52.9525|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/swagger-ui-bundle.js - -
2022-08-08 08:37:52.9525|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/swagger-ui-standalone-preset.js - -
2022-08-08 08:37:53.0207|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/_framework/aspnetcore-browser-refresh.js - -
2022-08-08 08:37:53.0207|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/_vs/browserLink - -
2022-08-08 08:37:53.0574|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/index.html - - - 200 - text/html;charset=utf-8 567.3700ms
2022-08-08 08:37:53.0574|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/_framework/aspnetcore-browser-refresh.js - - - 200 12012 application/javascript;+charset=utf-8 40.0004ms
2022-08-08 08:37:53.3096|INFO|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2022-08-08 08:37:53.7192|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/swagger-ui.css - - - 200 143943 text/css 766.6564ms
2022-08-08 08:37:53.7192|INFO|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2022-08-08 08:37:53.7192|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/swagger-ui-standalone-preset.js - - - 200 339486 application/javascript 767.1291ms
2022-08-08 08:37:54.9397|INFO|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2022-08-08 08:37:54.9397|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/swagger-ui-bundle.js - - - 200 1095087 application/javascript 1987.2245ms
2022-08-08 08:37:54.9600|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 1939.2934ms
2022-08-08 08:37:55.9791|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/v1/swagger.json - -
2022-08-08 08:37:56.8803|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 901.2543ms
2022-08-08 08:37:58.2941|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/courses - -
2022-08-08 08:38:09.1662|ERROR|Microsoft.AspNetCore.SpaServices|- Generating browser application bundles (phase: setup)...

2022-08-08 08:38:44.5108|ERROR|Microsoft.AspNetCore.SpaServices|ΓêÜ Browser application bundle generation complete.

2022-08-08 08:38:44.7074|INFO|Microsoft.AspNetCore.SpaServices|Initial Chunk Files   | Names         |  Raw Size

2022-08-08 08:38:44.7074|INFO|Microsoft.AspNetCore.SpaServices|vendor.js             | vendor        |   2.35 MB |

2022-08-08 08:38:44.7074|INFO|Microsoft.AspNetCore.SpaServices|main.js               | main          | 387.86 kB |

2022-08-08 08:38:44.7074|INFO|Microsoft.AspNetCore.SpaServices|polyfills.js          | polyfills     | 338.93 kB |

2022-08-08 08:38:44.7074|INFO|Microsoft.AspNetCore.SpaServices|styles.css, styles.js | styles        | 173.25 kB |

2022-08-08 08:38:44.7074|INFO|Microsoft.AspNetCore.SpaServices|runtime.js            | runtime       |   6.54 kB |

2022-08-08 08:38:44.7074|INFO|Microsoft.AspNetCore.SpaServices|| Initial Total |   3.23 MB

2022-08-08 08:38:44.7074|INFO|Microsoft.AspNetCore.SpaServices|Build at: 2022-08-08T05:38:44.504Z - Hash: 111c14aeeb07ae85 - Time: 33573ms

2022-08-08 08:38:44.7074|INFO|Microsoft.AspNetCore.SpaServices|** Angular Live Development Server is listening on localhost:52286, open your browser on http://localhost:52286/ **

2022-08-08 08:38:44.8454|INFO|Microsoft.AspNetCore.SpaServices|ΓêÜ Compiled successfully.

2022-08-08 08:38:49.0632|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/courses - - - 200 - text/html;+charset=utf-8 50769.0751ms
2022-08-08 08:38:49.1528|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/styles.css - -
2022-08-08 08:38:49.2406|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/runtime.js - -
2022-08-08 08:38:49.2406|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/polyfills.js - -
2022-08-08 08:38:49.2406|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-08-08 08:38:49.2406|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-08-08 08:38:49.2738|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/vendor.js - -
2022-08-08 08:38:49.2738|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-08-08 08:38:49.2885|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/main.js - -
2022-08-08 08:38:49.2885|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-08-08 08:38:49.2885|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/styles.js - -
2022-08-08 08:38:49.2885|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/_framework/aspnetcore-browser-refresh.js - -
2022-08-08 08:38:49.3012|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/_framework/aspnetcore-browser-refresh.js - - - 200 12012 application/javascript;+charset=utf-8 1.2675ms
2022-08-08 08:38:49.3012|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/_vs/browserLink - -
2022-08-08 08:38:49.3340|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/styles.css - - - 200 737 text/css;+charset=utf-8 181.2090ms
2022-08-08 08:38:49.6722|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/runtime.js - - - 200 6696 application/javascript;+charset=utf-8 431.7596ms
2022-08-08 08:38:49.7852|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 483.7406ms
2022-08-08 08:38:50.0701|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7106/runtime.js.map - -
2022-08-08 08:38:50.1265|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/vendor.js - - - 200 2462581 application/javascript;+charset=utf-8 852.7059ms
2022-08-08 08:38:50.3192|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7106/vendor.js.map - -
2022-08-08 08:38:51.2719|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/main.js - - - 200 397165 application/javascript;+charset=utf-8 1983.4190ms
2022-08-08 08:38:51.3421|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/styles.js - - - 200 176668 application/javascript;+charset=utf-8 2042.1693ms
2022-08-08 08:38:51.3670|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7106/main.js.map - -
2022-08-08 08:38:51.3966|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7106/runtime.js.map - - - 200 5719 application/json;+charset=utf-8 1326.4174ms
2022-08-08 08:38:51.3966|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/polyfills.js - - - 200 347062 application/javascript;+charset=utf-8 2147.6002ms
2022-08-08 08:38:51.4254|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7106/main.js.map - - - 200 220587 application/json;+charset=utf-8 58.3696ms
2022-08-08 08:38:51.4586|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7106/ws - -
2022-08-08 08:38:51.4586|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-08-08 08:38:51.6140|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7106/vendor.js.map - - - 200 3242823 application/json;+charset=utf-8 1294.8044ms
2022-08-08 08:38:51.8098|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:7106/api/tokens/refresh application/json 595
2022-08-08 08:38:51.8374|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-08-08 08:38:52.3701|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/courses?pageSize=3&pageNumber=1 - -
2022-08-08 08:38:52.8939|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Failed to validate the token.|Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-08-08 08:38:52.8939|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Failed to validate the token.|Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-08-08 08:38:53.0099|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2022-08-08 08:38:53.0099|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2022-08-08 08:38:53.0099|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.TokensController.RefreshAsync (EducationalPortal.API)'
2022-08-08 08:38:53.0099|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.CoursesController.GetCoursesAsync (EducationalPortal.API)'
2022-08-08 08:38:53.0869|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Refresh", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EducationalPortal.Application.Models.TokensModel]] RefreshAsync(EducationalPortal.Application.Models.TokensModel, System.Threading.CancellationToken) on controller EducationalPortal.API.Controllers.TokensController (EducationalPortal.API).
2022-08-08 08:38:53.0869|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[EducationalPortal.Application.Models.DTO.Course.CourseShortDto]] GetCoursesAsync(EducationalPortal.Application.Paging.PageParameters, System.Threading.CancellationToken) on controller EducationalPortal.API.Controllers.CoursesController (EducationalPortal.API).
2022-08-08 08:38:54.1100|INFO|EducationalPortal.Infrastructure.Services.Identity.TokensService|Returned data from expired access token.
2022-08-08 08:38:54.8741|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7106/polyfills.js.map - -
2022-08-08 08:38:54.8855|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7106/styles.js.map - -
2022-08-08 08:38:54.9077|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7106/styles.js.map - - - 200 225660 application/json;+charset=utf-8 22.0864ms
2022-08-08 08:38:54.9447|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7106/polyfills.js.map - - - 200 418635 application/json;+charset=utf-8 71.2617ms
2022-08-08 08:38:56.5462|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-08-08 08:38:56.5462|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-08-08 08:38:57.5969|WARN|Microsoft.EntityFrameworkCore.Query|The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-08-08 08:38:57.5992|WARN|Microsoft.EntityFrameworkCore.Query|The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-08-08 08:38:59.6001|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (196ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Avatar], [t].[Balance], [t].[Email], [t].[Name], [t].[PasswordHash], [t].[Position], [t].[UserTokenId], [t].[Id0], [t].[RefreshToken], [t].[RefreshTokenExpiryTime], [t0].[RolesId], [t0].[UsersId], [t0].[Id], [t0].[Name]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Balance], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[Position], [u].[UserTokenId], [u0].[Id] AS [Id0], [u0].[RefreshToken], [u0].[RefreshTokenExpiryTime]
    FROM [Users] AS [u]
    LEFT JOIN [UserToken] AS [u0] ON [u].[UserTokenId] = [u0].[Id]
    WHERE 0 = 1
) AS [t]
LEFT JOIN (
    SELECT [r].[RolesId], [r].[UsersId], [r0].[Id], [r0].[Name]
    FROM [RoleUser] AS [r]
    INNER JOIN [Roles] AS [r0] ON [r].[RolesId] = [r0].[Id]
) AS [t0] ON [t].[Id] = [t0].[UsersId]
ORDER BY [t].[Id], [t].[Id0], [t0].[RolesId], [t0].[UsersId]
2022-08-08 08:38:59.8872|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.TokensController.RefreshAsync (EducationalPortal.API) in 6792.0729ms
2022-08-08 08:38:59.8872|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.TokensController.RefreshAsync (EducationalPortal.API)'
2022-08-08 08:39:00.1141|ERROR|EducationalPortal.Infrastructure.ExceptionHandling.ExceptionMiddleware|Something went wrong: Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: SecurityToken has Expired
   at EducationalPortal.Infrastructure.Services.Identity.TokensService.RefreshAsync(TokensModel tokensModel, String email, CancellationToken cancellationToken) in C:\Users\rareb\Desktop\github\educational-portal\EducationalPortal.Infrastructure\Services\Identity\TokensService.cs:line 39
   at EducationalPortal.API.Controllers.TokensController.RefreshAsync(TokensModel tokensModel, CancellationToken cancellationToken) in C:\Users\rareb\Desktop\github\educational-portal\EducationalPortal.API\Controllers\TokensController.cs:line 20
   at lambda_method15(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at EducationalPortal.Infrastructure.ExceptionHandling.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Users\rareb\Desktop\github\educational-portal\EducationalPortal.Infrastructure\ExceptionHandling\ExceptionMiddleware.cs:line 25
2022-08-08 08:39:00.2201|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:7106/api/tokens/refresh application/json 595 - 500 - application/json 8410.2612ms
2022-08-08 08:39:00.3297|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (225ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[AuthorId], [c].[Description], [c].[Name], [c].[Price], [c].[ShortDescription], [c].[Thumbnail]
FROM [Courses] AS [c]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-08-08 08:39:00.5335|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (125ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Courses] AS [c]
2022-08-08 08:39:00.5728|INFO|EducationalPortal.Infrastructure.Services.CoursesService|Returned courses page 1 from database.
2022-08-08 08:39:00.5832|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'EducationalPortal.Application.Paging.PagedList`1[[EducationalPortal.Application.Models.DTO.Course.CourseShortDto, EducationalPortal.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-08 08:39:00.6381|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.CoursesController.GetCoursesAsync (EducationalPortal.API) in 7549.2151ms
2022-08-08 08:39:00.6381|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.CoursesController.GetCoursesAsync (EducationalPortal.API)'
2022-08-08 08:39:00.6381|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/courses?pageSize=3&pageNumber=1 - - - 200 818 application/json;+charset=utf-8 8269.1772ms
2022-08-08 08:39:03.4003|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/courses?pageSize=3&pageNumber=1 - -
2022-08-08 08:39:03.4003|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Failed to validate the token.|Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-08-08 08:39:03.4003|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2022-08-08 08:39:03.4003|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.CoursesController.GetCoursesAsync (EducationalPortal.API)'
2022-08-08 08:39:03.4003|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[EducationalPortal.Application.Models.DTO.Course.CourseShortDto]] GetCoursesAsync(EducationalPortal.Application.Paging.PageParameters, System.Threading.CancellationToken) on controller EducationalPortal.API.Controllers.CoursesController (EducationalPortal.API).
2022-08-08 08:39:03.5058|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-08-08 08:39:03.6869|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (163ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[AuthorId], [c].[Description], [c].[Name], [c].[Price], [c].[ShortDescription], [c].[Thumbnail]
FROM [Courses] AS [c]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-08-08 08:39:03.8096|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (122ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Courses] AS [c]
2022-08-08 08:39:03.8096|INFO|EducationalPortal.Infrastructure.Services.CoursesService|Returned courses page 1 from database.
2022-08-08 08:39:03.8096|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'EducationalPortal.Application.Paging.PagedList`1[[EducationalPortal.Application.Models.DTO.Course.CourseShortDto, EducationalPortal.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-08 08:39:03.8096|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.CoursesController.GetCoursesAsync (EducationalPortal.API) in 410.3143ms
2022-08-08 08:39:03.8096|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.CoursesController.GetCoursesAsync (EducationalPortal.API)'
2022-08-08 08:39:03.8096|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/courses?pageSize=3&pageNumber=1 - - - 200 818 application/json;+charset=utf-8 413.8032ms
2022-08-08 08:43:26.1370|INFO|Microsoft.AspNetCore.SpaServices|Starting @angular/cli on port 52394...
2022-08-08 08:43:26.4206|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\rareb\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-08-08 08:43:26.8348|INFO|Microsoft.Hosting.Lifetime|Now listening on: https://localhost:7106
2022-08-08 08:43:26.8348|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:7105
2022-08-08 08:43:26.8348|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down.
2022-08-08 08:43:26.8348|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development
2022-08-08 08:43:26.8348|INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\rareb\Desktop\github\educational-portal\EducationalPortal.API\
2022-08-08 08:43:27.7714|ERROR|Microsoft.AspNetCore.SpaServices|npm WARN config global `--global`, `--local` are deprecated. Use `--location=global` instead.

2022-08-08 08:43:29.6695|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger - -
2022-08-08 08:43:29.8408|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger - - - 301 0 - 175.9847ms
2022-08-08 08:43:29.8565|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/index.html - -
2022-08-08 08:43:30.3390|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/swagger-ui.css - -
2022-08-08 08:43:30.3390|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/swagger-ui-bundle.js - -
2022-08-08 08:43:30.3390|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/swagger-ui-standalone-preset.js - -
2022-08-08 08:43:30.3524|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/index.html - - - 200 - text/html;charset=utf-8 501.2038ms
2022-08-08 08:43:30.3946|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/_framework/aspnetcore-browser-refresh.js - -
2022-08-08 08:43:30.3946|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/_vs/browserLink - -
2022-08-08 08:43:30.4786|INFO|Microsoft.AspNetCore.SpaServices|> educational-portal.app@1.0.0 start

2022-08-08 08:43:30.4786|INFO|Microsoft.AspNetCore.SpaServices|> echo hello && ng serve

2022-08-08 08:43:30.5047|INFO|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2022-08-08 08:43:30.5247|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/swagger-ui.css - - - 200 143943 text/css 185.7541ms
2022-08-08 08:43:30.5247|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/_framework/aspnetcore-browser-refresh.js - - - 200 12012 application/javascript;+charset=utf-8 130.3838ms
2022-08-08 08:43:30.5667|INFO|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2022-08-08 08:43:30.5667|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/swagger-ui-standalone-preset.js - - - 200 339486 application/javascript 224.3787ms
2022-08-08 08:43:30.6891|INFO|Microsoft.AspNetCore.SpaServices|hello 

2022-08-08 08:43:30.7629|INFO|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2022-08-08 08:43:30.7629|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/swagger-ui-bundle.js - - - 200 1095087 application/javascript 423.5927ms
2022-08-08 08:43:30.8035|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 406.9733ms
2022-08-08 08:43:31.7017|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/v1/swagger.json - -
2022-08-08 08:43:32.3278|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 625.9875ms
2022-08-08 08:43:41.5176|ERROR|Microsoft.AspNetCore.SpaServices|- Generating browser application bundles (phase: setup)...

2022-08-08 08:43:42.3994|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/courses - -
2022-08-08 08:44:03.2339|ERROR|Microsoft.AspNetCore.SpaServices|ΓêÜ Browser application bundle generation complete.

2022-08-08 08:44:03.4407|INFO|Microsoft.AspNetCore.SpaServices|Initial Chunk Files   | Names         |  Raw Size

2022-08-08 08:44:03.4407|INFO|Microsoft.AspNetCore.SpaServices|vendor.js             | vendor        |   2.35 MB |

2022-08-08 08:44:03.4407|INFO|Microsoft.AspNetCore.SpaServices|main.js               | main          | 387.86 kB |

2022-08-08 08:44:03.4407|INFO|Microsoft.AspNetCore.SpaServices|polyfills.js          | polyfills     | 338.93 kB |

2022-08-08 08:44:03.4407|INFO|Microsoft.AspNetCore.SpaServices|styles.css, styles.js | styles        | 173.25 kB |

2022-08-08 08:44:03.4407|INFO|Microsoft.AspNetCore.SpaServices|runtime.js            | runtime       |   6.54 kB |

2022-08-08 08:44:03.4407|INFO|Microsoft.AspNetCore.SpaServices|| Initial Total |   3.23 MB

2022-08-08 08:44:03.4407|INFO|Microsoft.AspNetCore.SpaServices|Build at: 2022-08-08T05:44:03.228Z - Hash: 111c14aeeb07ae85 - Time: 20881ms

2022-08-08 08:44:03.4407|INFO|Microsoft.AspNetCore.SpaServices|** Angular Live Development Server is listening on localhost:52394, open your browser on http://localhost:52394/ **

2022-08-08 08:44:03.9163|INFO|Microsoft.AspNetCore.SpaServices|ΓêÜ Compiled successfully.

2022-08-08 08:44:08.2151|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/courses - - - 200 - text/html;+charset=utf-8 25815.7042ms
2022-08-08 08:44:08.4291|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/styles.css - -
2022-08-08 08:44:08.4291|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/styles.css - - - 200 737 text/css;+charset=utf-8 11.1104ms
2022-08-08 08:44:08.4291|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/runtime.js - -
2022-08-08 08:44:08.4455|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/polyfills.js - -
2022-08-08 08:44:08.4455|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-08-08 08:44:08.4455|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-08-08 08:44:08.4593|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/main.js - -
2022-08-08 08:44:08.4593|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/vendor.js - -
2022-08-08 08:44:08.4593|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/_framework/aspnetcore-browser-refresh.js - -
2022-08-08 08:44:08.4593|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-08-08 08:44:08.4593|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-08-08 08:44:08.4593|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/_framework/aspnetcore-browser-refresh.js - - - 200 12012 application/javascript;+charset=utf-8 0.6647ms
2022-08-08 08:44:08.4593|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/styles.js - -
2022-08-08 08:44:08.4881|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/_vs/browserLink - -
2022-08-08 08:44:08.6260|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/polyfills.js - - - 200 347062 application/javascript;+charset=utf-8 180.6734ms
2022-08-08 08:44:08.6701|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/main.js - - - 200 397165 application/javascript;+charset=utf-8 210.7552ms
2022-08-08 08:44:08.7572|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 269.1090ms
2022-08-08 08:44:08.8484|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/vendor.js - - - 200 2462581 application/javascript;+charset=utf-8 385.8629ms
2022-08-08 08:44:08.8484|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/runtime.js - - - 200 6696 application/javascript;+charset=utf-8 415.3520ms
2022-08-08 08:44:08.8800|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/styles.js - - - 200 176668 application/javascript;+charset=utf-8 416.4050ms
2022-08-08 08:44:08.9210|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7106/ws - -
2022-08-08 08:44:08.9210|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-08-08 08:44:09.3318|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7106/main.js.map - -
2022-08-08 08:44:09.3318|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7106/polyfills.js.map - -
2022-08-08 08:44:09.4412|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:7106/api/tokens/refresh application/json 595
2022-08-08 08:44:09.4412|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-08-08 08:44:09.4843|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7106/main.js.map - - - 200 220587 application/json;+charset=utf-8 152.4496ms
2022-08-08 08:44:09.7736|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/courses?pageSize=3&pageNumber=1 - -
2022-08-08 08:44:10.3373|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Failed to validate the token.|Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-08-08 08:44:10.3373|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Failed to validate the token.|Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-08-08 08:44:10.4120|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2022-08-08 08:44:10.4120|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2022-08-08 08:44:10.4120|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.TokensController.RefreshAsync (EducationalPortal.API)'
2022-08-08 08:44:10.4120|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.CoursesController.GetCoursesAsync (EducationalPortal.API)'
2022-08-08 08:44:10.4749|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[EducationalPortal.Application.Models.DTO.Course.CourseShortDto]] GetCoursesAsync(EducationalPortal.Application.Paging.PageParameters, System.Threading.CancellationToken) on controller EducationalPortal.API.Controllers.CoursesController (EducationalPortal.API).
2022-08-08 08:44:10.4749|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Refresh", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EducationalPortal.Application.Models.TokensModel]] RefreshAsync(EducationalPortal.Application.Models.TokensModel, System.Threading.CancellationToken) on controller EducationalPortal.API.Controllers.TokensController (EducationalPortal.API).
2022-08-08 08:44:11.3232|INFO|EducationalPortal.Infrastructure.Services.Identity.TokensService|Returned data from expired access token.
2022-08-08 08:44:11.7020|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7106/runtime.js.map - -
2022-08-08 08:44:11.7135|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7106/vendor.js.map - -
2022-08-08 08:44:11.7135|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7106/runtime.js.map - - - 200 5719 application/json;+charset=utf-8 14.7167ms
2022-08-08 08:44:11.7135|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7106/styles.js.map - -
2022-08-08 08:44:12.7161|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7106/polyfills.js.map - - - 200 418635 application/json;+charset=utf-8 3384.3155ms
2022-08-08 08:44:12.7278|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7106/styles.js.map - - - 200 225660 application/json;+charset=utf-8 1009.0506ms
2022-08-08 08:44:12.7915|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7106/vendor.js.map - - - 200 3242823 application/json;+charset=utf-8 1077.9634ms
2022-08-08 08:44:13.2533|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-08-08 08:44:13.2533|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-08-08 08:44:13.8409|WARN|Microsoft.EntityFrameworkCore.Query|The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-08-08 08:44:13.8409|WARN|Microsoft.EntityFrameworkCore.Query|The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-08-08 08:44:15.8039|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (246ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[AuthorId], [c].[Description], [c].[Name], [c].[Price], [c].[ShortDescription], [c].[Thumbnail]
FROM [Courses] AS [c]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-08-08 08:44:16.0618|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (128ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Courses] AS [c]
2022-08-08 08:44:16.0915|INFO|EducationalPortal.Infrastructure.Services.CoursesService|Returned courses page 1 from database.
2022-08-08 08:44:16.1609|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'EducationalPortal.Application.Paging.PagedList`1[[EducationalPortal.Application.Models.DTO.Course.CourseShortDto, EducationalPortal.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-08 08:44:16.2180|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.CoursesController.GetCoursesAsync (EducationalPortal.API) in 5737.2424ms
2022-08-08 08:44:16.2180|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.CoursesController.GetCoursesAsync (EducationalPortal.API)'
2022-08-08 08:44:16.2342|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/courses?pageSize=3&pageNumber=1 - - - 200 818 application/json;+charset=utf-8 6460.5896ms
2022-08-08 08:44:16.3329|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (123ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Avatar], [t].[Balance], [t].[Email], [t].[Name], [t].[PasswordHash], [t].[Position], [t].[UserTokenId], [t].[Id0], [t].[RefreshToken], [t].[RefreshTokenExpiryTime], [t0].[RolesId], [t0].[UsersId], [t0].[Id], [t0].[Name]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Balance], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[Position], [u].[UserTokenId], [u0].[Id] AS [Id0], [u0].[RefreshToken], [u0].[RefreshTokenExpiryTime]
    FROM [Users] AS [u]
    LEFT JOIN [UserToken] AS [u0] ON [u].[UserTokenId] = [u0].[Id]
    WHERE 0 = 1
) AS [t]
LEFT JOIN (
    SELECT [r].[RolesId], [r].[UsersId], [r0].[Id], [r0].[Name]
    FROM [RoleUser] AS [r]
    INNER JOIN [Roles] AS [r0] ON [r].[RolesId] = [r0].[Id]
) AS [t0] ON [t].[Id] = [t0].[UsersId]
ORDER BY [t].[Id], [t].[Id0], [t0].[RolesId], [t0].[UsersId]
2022-08-08 08:44:16.5566|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.TokensController.RefreshAsync (EducationalPortal.API) in 6081.3172ms
2022-08-08 08:44:16.5566|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.TokensController.RefreshAsync (EducationalPortal.API)'
2022-08-08 08:44:16.7731|ERROR|EducationalPortal.Infrastructure.ExceptionHandling.ExceptionMiddleware|Something went wrong: Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: SecurityToken has Expired
   at EducationalPortal.Infrastructure.Services.Identity.TokensService.RefreshAsync(TokensModel tokensModel, String email, CancellationToken cancellationToken) in C:\Users\rareb\Desktop\github\educational-portal\EducationalPortal.Infrastructure\Services\Identity\TokensService.cs:line 39
   at EducationalPortal.API.Controllers.TokensController.RefreshAsync(TokensModel tokensModel, CancellationToken cancellationToken) in C:\Users\rareb\Desktop\github\educational-portal\EducationalPortal.API\Controllers\TokensController.cs:line 20
   at lambda_method15(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at EducationalPortal.Infrastructure.ExceptionHandling.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Users\rareb\Desktop\github\educational-portal\EducationalPortal.Infrastructure\ExceptionHandling\ExceptionMiddleware.cs:line 25
2022-08-08 08:44:16.7731|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:7106/api/tokens/refresh application/json 595 - 500 - application/json 7336.3910ms
2022-08-08 08:44:19.3289|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/courses?pageSize=3&pageNumber=1 - -
2022-08-08 08:44:19.3289|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Failed to validate the token.|Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-08-08 08:44:19.3325|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2022-08-08 08:44:19.3325|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.CoursesController.GetCoursesAsync (EducationalPortal.API)'
2022-08-08 08:44:19.3325|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[EducationalPortal.Application.Models.DTO.Course.CourseShortDto]] GetCoursesAsync(EducationalPortal.Application.Paging.PageParameters, System.Threading.CancellationToken) on controller EducationalPortal.API.Controllers.CoursesController (EducationalPortal.API).
2022-08-08 08:44:19.4397|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-08-08 08:44:19.5833|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (130ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[AuthorId], [c].[Description], [c].[Name], [c].[Price], [c].[ShortDescription], [c].[Thumbnail]
FROM [Courses] AS [c]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-08-08 08:44:19.7067|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (122ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Courses] AS [c]
2022-08-08 08:44:19.7104|INFO|EducationalPortal.Infrastructure.Services.CoursesService|Returned courses page 1 from database.
2022-08-08 08:44:19.7104|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'EducationalPortal.Application.Paging.PagedList`1[[EducationalPortal.Application.Models.DTO.Course.CourseShortDto, EducationalPortal.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-08 08:44:19.7104|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.CoursesController.GetCoursesAsync (EducationalPortal.API) in 378.0965ms
2022-08-08 08:44:19.7104|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.CoursesController.GetCoursesAsync (EducationalPortal.API)'
2022-08-08 08:44:19.7104|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/courses?pageSize=3&pageNumber=1 - - - 200 818 application/json;+charset=utf-8 382.9605ms
2022-08-08 09:08:46.2368|INFO|Microsoft.AspNetCore.SpaServices|Starting @angular/cli on port 49178...
2022-08-08 09:08:46.5427|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\rareb\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-08-08 09:08:47.0451|INFO|Microsoft.Hosting.Lifetime|Now listening on: https://localhost:7106
2022-08-08 09:08:47.0451|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:7105
2022-08-08 09:08:47.0451|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down.
2022-08-08 09:08:47.0451|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development
2022-08-08 09:08:47.0451|INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\rareb\Desktop\github\educational-portal\EducationalPortal.API\
2022-08-08 09:08:48.1182|ERROR|Microsoft.AspNetCore.SpaServices|npm WARN config global `--global`, `--local` are deprecated. Use `--location=global` instead.

2022-08-08 09:08:51.0512|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger - -
2022-08-08 09:08:51.5414|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger - - - 301 0 - 495.7016ms
2022-08-08 09:08:52.0575|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/index.html - -
2022-08-08 09:08:52.0575|INFO|Microsoft.AspNetCore.SpaServices|> educational-portal.app@1.0.0 start

2022-08-08 09:08:52.0575|INFO|Microsoft.AspNetCore.SpaServices|> echo hello && ng serve

2022-08-08 09:08:52.2513|INFO|Microsoft.AspNetCore.SpaServices|hello 

2022-08-08 09:08:53.3074|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/index.html - - - 200 - text/html;charset=utf-8 1249.8406ms
2022-08-08 09:08:53.3787|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/swagger-ui.css - -
2022-08-08 09:08:53.4251|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/swagger-ui-bundle.js - -
2022-08-08 09:08:53.4453|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/swagger-ui-standalone-preset.js - -
2022-08-08 09:08:53.4814|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/_framework/aspnetcore-browser-refresh.js - -
2022-08-08 09:08:53.4814|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/_vs/browserLink - -
2022-08-08 09:08:53.5806|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/_framework/aspnetcore-browser-refresh.js - - - 200 12012 application/javascript;+charset=utf-8 99.0225ms
2022-08-08 09:08:53.6888|INFO|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2022-08-08 09:08:53.6888|INFO|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2022-08-08 09:08:53.6888|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/swagger-ui-standalone-preset.js - - - 200 339486 application/javascript 243.8199ms
2022-08-08 09:08:53.6888|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/swagger-ui.css - - - 200 143943 text/css 310.4281ms
2022-08-08 09:08:53.9582|INFO|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2022-08-08 09:08:53.9582|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/swagger-ui-bundle.js - - - 200 1095087 application/javascript 534.0572ms
2022-08-08 09:08:54.2089|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 727.3847ms
2022-08-08 09:08:54.7943|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/v1/swagger.json - -
2022-08-08 09:08:55.6606|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 866.4312ms
2022-08-08 09:09:04.3383|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/courses - -
2022-08-08 09:09:07.5792|ERROR|Microsoft.AspNetCore.SpaServices|- Generating browser application bundles (phase: setup)...

2022-08-08 09:09:42.6214|ERROR|Microsoft.AspNetCore.SpaServices|ΓêÜ Browser application bundle generation complete.

2022-08-08 09:09:42.8768|INFO|Microsoft.AspNetCore.SpaServices|Initial Chunk Files   | Names         |  Raw Size

2022-08-08 09:09:42.8768|INFO|Microsoft.AspNetCore.SpaServices|vendor.js             | vendor        |   2.35 MB |

2022-08-08 09:09:42.8768|INFO|Microsoft.AspNetCore.SpaServices|main.js               | main          | 387.86 kB |

2022-08-08 09:09:42.8768|INFO|Microsoft.AspNetCore.SpaServices|polyfills.js          | polyfills     | 338.93 kB |

2022-08-08 09:09:42.8768|INFO|Microsoft.AspNetCore.SpaServices|styles.css, styles.js | styles        | 173.25 kB |

2022-08-08 09:09:42.8768|INFO|Microsoft.AspNetCore.SpaServices|runtime.js            | runtime       |   6.54 kB |

2022-08-08 09:09:42.8768|INFO|Microsoft.AspNetCore.SpaServices|| Initial Total |   3.23 MB

2022-08-08 09:09:42.8768|INFO|Microsoft.AspNetCore.SpaServices|Build at: 2022-08-08T06:09:42.609Z - Hash: 111c14aeeb07ae85 - Time: 33483ms

2022-08-08 09:09:42.8768|INFO|Microsoft.AspNetCore.SpaServices|** Angular Live Development Server is listening on localhost:49178, open your browser on http://localhost:49178/ **

2022-08-08 09:09:43.0212|INFO|Microsoft.AspNetCore.SpaServices|ΓêÜ Compiled successfully.

2022-08-08 09:09:47.4775|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/courses - - - 200 - text/html;+charset=utf-8 43137.2644ms
2022-08-08 09:09:47.8655|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/styles.css - -
2022-08-08 09:09:48.0198|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/styles.css - - - 200 737 text/css;+charset=utf-8 154.5496ms
2022-08-08 09:09:48.5714|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/runtime.js - -
2022-08-08 09:09:48.5840|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-08-08 09:09:48.6035|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/runtime.js - - - 200 6696 application/javascript;+charset=utf-8 32.0940ms
2022-08-08 09:09:48.8441|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/polyfills.js - -
2022-08-08 09:09:48.8441|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-08-08 09:09:49.1073|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/polyfills.js - - - 200 347062 application/javascript;+charset=utf-8 263.2075ms
2022-08-08 09:09:49.3426|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/vendor.js - -
2022-08-08 09:09:49.3426|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-08-08 09:09:49.6580|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/vendor.js - - - 200 2462581 application/javascript;+charset=utf-8 315.3373ms
2022-08-08 09:09:49.6827|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/main.js - -
2022-08-08 09:09:49.6827|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-08-08 09:09:49.7096|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/main.js - - - 200 397165 application/javascript;+charset=utf-8 26.8054ms
2022-08-08 09:09:49.9275|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7106/runtime.js.map - -
2022-08-08 09:09:50.0044|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7106/runtime.js.map - - - 200 5719 application/json;+charset=utf-8 77.1505ms
2022-08-08 09:09:50.1412|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/_framework/aspnetcore-browser-refresh.js - -
2022-08-08 09:09:50.1412|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/_framework/aspnetcore-browser-refresh.js - - - 200 12012 application/javascript;+charset=utf-8 0.4483ms
2022-08-08 09:09:50.4882|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7106/polyfills.js.map - -
2022-08-08 09:09:50.5783|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/styles.js - -
2022-08-08 09:09:50.6058|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7106/main.js.map - -
2022-08-08 09:09:50.6608|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/_vs/browserLink - -
2022-08-08 09:09:50.7412|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 80.3677ms
2022-08-08 09:09:51.4344|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7106/ws - -
2022-08-08 09:09:51.4344|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-08-08 09:09:52.5176|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7106/polyfills.js.map - - - 200 418635 application/json;+charset=utf-8 2029.3720ms
2022-08-08 09:09:52.5332|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/styles.js - - - 200 176668 application/javascript;+charset=utf-8 1954.9260ms
2022-08-08 09:09:52.5937|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7106/main.js.map - - - 200 220587 application/json;+charset=utf-8 1988.0024ms
2022-08-08 09:09:52.8490|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7106/vendor.js.map - -
2022-08-08 09:09:52.9320|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7106/vendor.js.map - - - 200 3242823 application/json;+charset=utf-8 83.0469ms
2022-08-08 09:09:53.3108|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:7106/api/tokens/refresh application/json 595
2022-08-08 09:09:53.3166|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-08-08 09:09:53.9341|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7106/styles.js.map - -
2022-08-08 09:09:53.9680|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7106/styles.js.map - - - 200 225660 application/json;+charset=utf-8 33.8885ms
2022-08-08 09:09:54.5334|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/courses?pageSize=3&pageNumber=1 - -
2022-08-08 09:09:54.8389|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Failed to validate the token.|Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-08-08 09:09:54.8389|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Failed to validate the token.|Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-08-08 09:09:55.1325|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2022-08-08 09:09:55.1325|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2022-08-08 09:09:55.1325|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.TokensController.RefreshAsync (EducationalPortal.API)'
2022-08-08 09:09:55.1325|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.CoursesController.GetCoursesAsync (EducationalPortal.API)'
2022-08-08 09:09:55.2368|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[EducationalPortal.Application.Models.DTO.Course.CourseShortDto]] GetCoursesAsync(EducationalPortal.Application.Paging.PageParameters, System.Threading.CancellationToken) on controller EducationalPortal.API.Controllers.CoursesController (EducationalPortal.API).
2022-08-08 09:09:55.2368|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Refresh", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EducationalPortal.Application.Models.TokensModel]] RefreshAsync(EducationalPortal.Application.Models.TokensModel, System.Threading.CancellationToken) on controller EducationalPortal.API.Controllers.TokensController (EducationalPortal.API).
2022-08-08 09:09:57.5600|INFO|EducationalPortal.Infrastructure.Services.Identity.TokensService|Returned data from expired access token.
2022-08-08 09:09:59.8657|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-08-08 09:09:59.8657|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-08-08 09:10:00.4759|WARN|Microsoft.EntityFrameworkCore.Query|The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-08-08 09:10:00.4759|WARN|Microsoft.EntityFrameworkCore.Query|The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-08-08 09:10:02.4232|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (200ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Avatar], [t].[Balance], [t].[Email], [t].[Name], [t].[PasswordHash], [t].[Position], [t].[UserTokenId], [t].[Id0], [t].[RefreshToken], [t].[RefreshTokenExpiryTime], [t0].[RolesId], [t0].[UsersId], [t0].[Id], [t0].[Name]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Balance], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[Position], [u].[UserTokenId], [u0].[Id] AS [Id0], [u0].[RefreshToken], [u0].[RefreshTokenExpiryTime]
    FROM [Users] AS [u]
    LEFT JOIN [UserToken] AS [u0] ON [u].[UserTokenId] = [u0].[Id]
    WHERE 0 = 1
) AS [t]
LEFT JOIN (
    SELECT [r].[RolesId], [r].[UsersId], [r0].[Id], [r0].[Name]
    FROM [RoleUser] AS [r]
    INNER JOIN [Roles] AS [r0] ON [r].[RolesId] = [r0].[Id]
) AS [t0] ON [t].[Id] = [t0].[UsersId]
ORDER BY [t].[Id], [t].[Id0], [t0].[RolesId], [t0].[UsersId]
2022-08-08 09:10:02.7328|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.TokensController.RefreshAsync (EducationalPortal.API) in 7489.5541ms
2022-08-08 09:10:02.7328|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.TokensController.RefreshAsync (EducationalPortal.API)'
2022-08-08 09:10:02.9986|ERROR|EducationalPortal.Infrastructure.ExceptionHandling.ExceptionMiddleware|Something went wrong: Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: SecurityToken has Expired
   at EducationalPortal.Infrastructure.Services.Identity.TokensService.RefreshAsync(TokensModel tokensModel, String email, CancellationToken cancellationToken) in C:\Users\rareb\Desktop\github\educational-portal\EducationalPortal.Infrastructure\Services\Identity\TokensService.cs:line 39
   at EducationalPortal.API.Controllers.TokensController.RefreshAsync(TokensModel tokensModel, CancellationToken cancellationToken) in C:\Users\rareb\Desktop\github\educational-portal\EducationalPortal.API\Controllers\TokensController.cs:line 20
   at lambda_method12(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at EducationalPortal.Infrastructure.ExceptionHandling.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Users\rareb\Desktop\github\educational-portal\EducationalPortal.Infrastructure\ExceptionHandling\ExceptionMiddleware.cs:line 25
2022-08-08 09:10:03.0791|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:7106/api/tokens/refresh application/json 595 - 500 - application/json 9768.3051ms
2022-08-08 09:10:03.1662|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (189ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[AuthorId], [c].[Description], [c].[Name], [c].[Price], [c].[ShortDescription], [c].[Thumbnail]
FROM [Courses] AS [c]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-08-08 09:10:03.3878|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (127ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Courses] AS [c]
2022-08-08 09:10:03.4292|INFO|EducationalPortal.Infrastructure.Services.CoursesService|Returned courses page 1 from database.
2022-08-08 09:10:03.4431|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'EducationalPortal.Application.Paging.PagedList`1[[EducationalPortal.Application.Models.DTO.Course.CourseShortDto, EducationalPortal.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-08 09:10:03.4898|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.CoursesController.GetCoursesAsync (EducationalPortal.API) in 8252.5775ms
2022-08-08 09:10:03.4898|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.CoursesController.GetCoursesAsync (EducationalPortal.API)'
2022-08-08 09:10:03.4898|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/courses?pageSize=3&pageNumber=1 - - - 200 818 application/json;+charset=utf-8 8957.0487ms
2022-08-08 09:10:20.3580|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/courses?pageSize=3&pageNumber=1 - -
2022-08-08 09:10:20.3662|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Failed to validate the token.|Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-08-08 09:10:20.3662|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2022-08-08 09:10:20.3662|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.CoursesController.GetCoursesAsync (EducationalPortal.API)'
2022-08-08 09:10:20.3662|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[EducationalPortal.Application.Models.DTO.Course.CourseShortDto]] GetCoursesAsync(EducationalPortal.Application.Paging.PageParameters, System.Threading.CancellationToken) on controller EducationalPortal.API.Controllers.CoursesController (EducationalPortal.API).
2022-08-08 09:10:20.8413|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-08-08 09:10:21.0411|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (159ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[AuthorId], [c].[Description], [c].[Name], [c].[Price], [c].[ShortDescription], [c].[Thumbnail]
FROM [Courses] AS [c]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-08-08 09:10:21.1903|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (148ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Courses] AS [c]
2022-08-08 09:10:21.1980|INFO|EducationalPortal.Infrastructure.Services.CoursesService|Returned courses page 1 from database.
2022-08-08 09:10:21.1980|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'EducationalPortal.Application.Paging.PagedList`1[[EducationalPortal.Application.Models.DTO.Course.CourseShortDto, EducationalPortal.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-08 09:10:21.1980|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.CoursesController.GetCoursesAsync (EducationalPortal.API) in 827.0642ms
2022-08-08 09:10:21.1980|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.CoursesController.GetCoursesAsync (EducationalPortal.API)'
2022-08-08 09:10:21.1980|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/courses?pageSize=3&pageNumber=1 - - - 200 818 application/json;+charset=utf-8 841.8607ms
2022-08-08 09:10:22.8605|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/shopping-cart/page-from-cookie?pageSize=10&pageNumber=1&cookie=-1 - -
2022-08-08 09:10:22.8605|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/shopping-cart/total-price-from-cookie?cookie=-1 - -
2022-08-08 09:10:22.8689|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Failed to validate the token.|Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-08-08 09:10:22.8689|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2022-08-08 09:10:22.8689|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.ShoppingCartController.GetTotalPriceAsync (EducationalPortal.API)'
2022-08-08 09:10:22.8689|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Failed to validate the token.|Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-08-08 09:10:22.8689|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2022-08-08 09:10:22.8689|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.ShoppingCartController.GetCartAsync (EducationalPortal.API)'
2022-08-08 09:10:22.8819|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetTotalPrice", controller = "ShoppingCart"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Int32] GetTotalPriceAsync(System.String, System.Threading.CancellationToken) on controller EducationalPortal.API.Controllers.ShoppingCartController (EducationalPortal.API).
2022-08-08 09:10:22.8819|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-08-08 09:10:22.8819|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetCart", controller = "ShoppingCart"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[EducationalPortal.Application.Models.DTO.CartItemDto]] GetCartAsync(System.String, EducationalPortal.Application.Paging.PageParameters, System.Threading.CancellationToken) on controller EducationalPortal.API.Controllers.ShoppingCartController (EducationalPortal.API).
2022-08-08 09:10:22.8819|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-08-08 09:10:23.4575|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (532ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[AuthorId], [c].[Description], [c].[Name], [c].[Price], [c].[ShortDescription], [c].[Thumbnail]
FROM [Courses] AS [c]
WHERE [c].[Id] = @__id_0
2022-08-08 09:10:23.6042|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (131ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[AuthorId], [c].[Description], [c].[Name], [c].[Price], [c].[ShortDescription], [c].[Thumbnail]
FROM [Courses] AS [c]
WHERE [c].[Id] = @__id_0
2022-08-08 09:10:23.7669|INFO|EducationalPortal.Infrastructure.Services.ShoppingCartService|Returned all cart items from cookies.
2022-08-08 09:10:23.7669|INFO|EducationalPortal.Infrastructure.Services.ShoppingCartService|Returned total price 80 for cart from cookies.
2022-08-08 09:10:23.7669|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'System.Int32'.
2022-08-08 09:10:23.7669|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.ShoppingCartController.GetTotalPriceAsync (EducationalPortal.API) in 886.6328ms
2022-08-08 09:10:23.7669|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.ShoppingCartController.GetTotalPriceAsync (EducationalPortal.API)'
2022-08-08 09:10:23.7690|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/shopping-cart/total-price-from-cookie?cookie=-1 - - - 200 2 application/json;+charset=utf-8 906.5995ms
2022-08-08 09:10:23.7690|INFO|EducationalPortal.Infrastructure.Services.ShoppingCartService|Returned cart items page 1 from cookies.
2022-08-08 09:10:23.7690|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'EducationalPortal.Application.Paging.PagedList`1[[EducationalPortal.Application.Models.DTO.CartItemDto, EducationalPortal.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-08 09:10:23.7983|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.ShoppingCartController.GetCartAsync (EducationalPortal.API) in 914.3636ms
2022-08-08 09:10:23.7983|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.ShoppingCartController.GetCartAsync (EducationalPortal.API)'
2022-08-08 09:10:23.7983|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/shopping-cart/page-from-cookie?pageSize=10&pageNumber=1&cookie=-1 - - - 200 294 application/json;+charset=utf-8 938.1078ms
2022-08-08 09:10:26.4930|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/courses?pageSize=3&pageNumber=1 - -
2022-08-08 09:10:26.4930|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Failed to validate the token.|Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-08-08 09:10:26.4930|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2022-08-08 09:10:26.4930|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.CoursesController.GetCoursesAsync (EducationalPortal.API)'
2022-08-08 09:10:26.4930|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[EducationalPortal.Application.Models.DTO.Course.CourseShortDto]] GetCoursesAsync(EducationalPortal.Application.Paging.PageParameters, System.Threading.CancellationToken) on controller EducationalPortal.API.Controllers.CoursesController (EducationalPortal.API).
2022-08-08 09:10:26.5174|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-08-08 09:10:26.6866|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (158ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[AuthorId], [c].[Description], [c].[Name], [c].[Price], [c].[ShortDescription], [c].[Thumbnail]
FROM [Courses] AS [c]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-08-08 09:10:26.8403|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (151ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Courses] AS [c]
2022-08-08 09:10:26.8403|INFO|EducationalPortal.Infrastructure.Services.CoursesService|Returned courses page 1 from database.
2022-08-08 09:10:26.8403|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'EducationalPortal.Application.Paging.PagedList`1[[EducationalPortal.Application.Models.DTO.Course.CourseShortDto, EducationalPortal.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-08 09:10:26.8480|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.CoursesController.GetCoursesAsync (EducationalPortal.API) in 352.2245ms
2022-08-08 09:10:26.8480|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.CoursesController.GetCoursesAsync (EducationalPortal.API)'
2022-08-08 09:10:26.8480|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/courses?pageSize=3&pageNumber=1 - - - 200 818 application/json;+charset=utf-8 355.2174ms
2022-08-08 09:10:28.2347|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/shopping-cart/page-from-cookie?pageSize=10&pageNumber=1&cookie=-3 - -
2022-08-08 09:10:28.2347|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/shopping-cart/total-price-from-cookie?cookie=-3 - -
2022-08-08 09:10:28.2443|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Failed to validate the token.|Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-08-08 09:10:28.2443|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2022-08-08 09:10:28.2443|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.ShoppingCartController.GetTotalPriceAsync (EducationalPortal.API)'
2022-08-08 09:10:28.2443|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetTotalPrice", controller = "ShoppingCart"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Int32] GetTotalPriceAsync(System.String, System.Threading.CancellationToken) on controller EducationalPortal.API.Controllers.ShoppingCartController (EducationalPortal.API).
2022-08-08 09:10:28.2622|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Failed to validate the token.|Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-08-08 09:10:28.2622|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2022-08-08 09:10:28.2622|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.ShoppingCartController.GetCartAsync (EducationalPortal.API)'
2022-08-08 09:10:28.2622|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetCart", controller = "ShoppingCart"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[EducationalPortal.Application.Models.DTO.CartItemDto]] GetCartAsync(System.String, EducationalPortal.Application.Paging.PageParameters, System.Threading.CancellationToken) on controller EducationalPortal.API.Controllers.ShoppingCartController (EducationalPortal.API).
2022-08-08 09:10:28.2622|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-08-08 09:10:28.2622|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-08-08 09:10:28.4044|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (125ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[AuthorId], [c].[Description], [c].[Name], [c].[Price], [c].[ShortDescription], [c].[Thumbnail]
FROM [Courses] AS [c]
WHERE [c].[Id] = @__id_0
2022-08-08 09:10:28.4169|INFO|EducationalPortal.Infrastructure.Services.ShoppingCartService|Returned cart items page 1 from cookies.
2022-08-08 09:10:28.4169|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'EducationalPortal.Application.Paging.PagedList`1[[EducationalPortal.Application.Models.DTO.CartItemDto, EducationalPortal.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-08 09:10:28.4169|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.ShoppingCartController.GetCartAsync (EducationalPortal.API) in 155.6042ms
2022-08-08 09:10:28.4169|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.ShoppingCartController.GetCartAsync (EducationalPortal.API)'
2022-08-08 09:10:28.4169|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/shopping-cart/page-from-cookie?pageSize=10&pageNumber=1&cookie=-3 - - - 200 345 application/json;+charset=utf-8 188.4189ms
2022-08-08 09:10:28.4169|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (143ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[AuthorId], [c].[Description], [c].[Name], [c].[Price], [c].[ShortDescription], [c].[Thumbnail]
FROM [Courses] AS [c]
WHERE [c].[Id] = @__id_0
2022-08-08 09:10:28.4255|INFO|EducationalPortal.Infrastructure.Services.ShoppingCartService|Returned all cart items from cookies.
2022-08-08 09:10:28.4255|INFO|EducationalPortal.Infrastructure.Services.ShoppingCartService|Returned total price 110 for cart from cookies.
2022-08-08 09:10:28.4255|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'System.Int32'.
2022-08-08 09:10:28.4255|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.ShoppingCartController.GetTotalPriceAsync (EducationalPortal.API) in 181.5802ms
2022-08-08 09:10:28.4255|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.ShoppingCartController.GetTotalPriceAsync (EducationalPortal.API)'
2022-08-08 09:10:28.4255|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/shopping-cart/total-price-from-cookie?cookie=-3 - - - 200 3 application/json;+charset=utf-8 192.3170ms
2022-08-08 09:10:40.2060|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/styles.css - -
2022-08-08 09:10:40.2392|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/styles.css - - - 304 - - 33.1382ms
2022-08-08 09:10:40.4250|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/runtime.js.map - -
2022-08-08 09:10:40.4462|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/polyfills.js.map - -
2022-08-08 09:10:40.4462|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/runtime.js.map - - - 200 5719 application/json;+charset=utf-8 31.0144ms
2022-08-08 09:10:40.4566|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/main.js.map - -
2022-08-08 09:10:40.4806|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/vendor.js.map - -
2022-08-08 09:10:40.4911|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/styles.js.map - -
2022-08-08 09:10:40.7472|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/styles.css.map - -
2022-08-08 09:10:40.7472|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/polyfills.js.map - - - 200 418635 application/json;+charset=utf-8 301.8113ms
2022-08-08 09:10:40.8247|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/main.js.map - - - 200 220587 application/json;+charset=utf-8 368.0849ms
2022-08-08 09:10:40.9382|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/vendor.js.map - - - 200 3242823 application/json;+charset=utf-8 448.6548ms
2022-08-08 09:10:40.9437|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/styles.js.map - - - 200 225660 application/json;+charset=utf-8 452.5167ms
2022-08-08 09:10:40.9437|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/styles.css.map - - - 200 235 application/json;+charset=utf-8 198.7927ms
2022-08-08 09:11:28.5271|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/courses?pageSize=3&pageNumber=1 - -
2022-08-08 09:11:28.5271|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Failed to validate the token.|Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-08-08 09:11:28.5271|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2022-08-08 09:11:28.5271|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.CoursesController.GetCoursesAsync (EducationalPortal.API)'
2022-08-08 09:11:28.5271|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[EducationalPortal.Application.Models.DTO.Course.CourseShortDto]] GetCoursesAsync(EducationalPortal.Application.Paging.PageParameters, System.Threading.CancellationToken) on controller EducationalPortal.API.Controllers.CoursesController (EducationalPortal.API).
2022-08-08 09:11:28.5271|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-08-08 09:11:28.6601|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (123ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[AuthorId], [c].[Description], [c].[Name], [c].[Price], [c].[ShortDescription], [c].[Thumbnail]
FROM [Courses] AS [c]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-08-08 09:11:28.7841|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (123ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Courses] AS [c]
2022-08-08 09:11:28.7903|INFO|EducationalPortal.Infrastructure.Services.CoursesService|Returned courses page 1 from database.
2022-08-08 09:11:28.7903|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'EducationalPortal.Application.Paging.PagedList`1[[EducationalPortal.Application.Models.DTO.Course.CourseShortDto, EducationalPortal.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-08 09:11:28.7903|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.CoursesController.GetCoursesAsync (EducationalPortal.API) in 260.2634ms
2022-08-08 09:11:28.7903|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.CoursesController.GetCoursesAsync (EducationalPortal.API)'
2022-08-08 09:11:28.7903|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/courses?pageSize=3&pageNumber=1 - - - 200 818 application/json;+charset=utf-8 264.1603ms
2022-08-08 09:11:30.1544|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/shopping-cart/page-from-cookie?pageSize=10&pageNumber=1&cookie=-1 - -
2022-08-08 09:11:30.1544|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Failed to validate the token.|Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-08-08 09:11:30.1544|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/shopping-cart/total-price-from-cookie?cookie=-1 - -
2022-08-08 09:11:30.1544|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2022-08-08 09:11:30.1544|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.ShoppingCartController.GetCartAsync (EducationalPortal.API)'
2022-08-08 09:11:30.1544|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetCart", controller = "ShoppingCart"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[EducationalPortal.Application.Models.DTO.CartItemDto]] GetCartAsync(System.String, EducationalPortal.Application.Paging.PageParameters, System.Threading.CancellationToken) on controller EducationalPortal.API.Controllers.ShoppingCartController (EducationalPortal.API).
2022-08-08 09:11:30.1544|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Failed to validate the token.|Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-08-08 09:11:30.1544|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2022-08-08 09:11:30.1544|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.ShoppingCartController.GetTotalPriceAsync (EducationalPortal.API)'
2022-08-08 09:11:30.1544|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetTotalPrice", controller = "ShoppingCart"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Int32] GetTotalPriceAsync(System.String, System.Threading.CancellationToken) on controller EducationalPortal.API.Controllers.ShoppingCartController (EducationalPortal.API).
2022-08-08 09:11:30.1544|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-08-08 09:11:30.1544|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-08-08 09:11:30.2963|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (126ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[AuthorId], [c].[Description], [c].[Name], [c].[Price], [c].[ShortDescription], [c].[Thumbnail]
FROM [Courses] AS [c]
WHERE [c].[Id] = @__id_0
2022-08-08 09:11:30.2963|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (129ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[AuthorId], [c].[Description], [c].[Name], [c].[Price], [c].[ShortDescription], [c].[Thumbnail]
FROM [Courses] AS [c]
WHERE [c].[Id] = @__id_0
2022-08-08 09:11:30.2963|INFO|EducationalPortal.Infrastructure.Services.ShoppingCartService|Returned all cart items from cookies.
2022-08-08 09:11:30.2963|INFO|EducationalPortal.Infrastructure.Services.ShoppingCartService|Returned total price 80 for cart from cookies.
2022-08-08 09:11:30.2963|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'System.Int32'.
2022-08-08 09:11:30.2963|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.ShoppingCartController.GetTotalPriceAsync (EducationalPortal.API) in 142.0714ms
2022-08-08 09:11:30.2963|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.ShoppingCartController.GetTotalPriceAsync (EducationalPortal.API)'
2022-08-08 09:11:30.2963|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/shopping-cart/total-price-from-cookie?cookie=-1 - - - 200 2 application/json;+charset=utf-8 143.7250ms
2022-08-08 09:11:30.3056|INFO|EducationalPortal.Infrastructure.Services.ShoppingCartService|Returned cart items page 1 from cookies.
2022-08-08 09:11:30.3056|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'EducationalPortal.Application.Paging.PagedList`1[[EducationalPortal.Application.Models.DTO.CartItemDto, EducationalPortal.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-08 09:11:30.3056|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.ShoppingCartController.GetCartAsync (EducationalPortal.API) in 149.0981ms
2022-08-08 09:11:30.3056|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.ShoppingCartController.GetCartAsync (EducationalPortal.API)'
2022-08-08 09:11:30.3056|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/shopping-cart/page-from-cookie?pageSize=10&pageNumber=1&cookie=-1 - - - 200 294 application/json;+charset=utf-8 152.1410ms
2022-08-08 09:11:31.8159|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/courses?pageSize=3&pageNumber=1 - -
2022-08-08 09:11:31.8208|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Failed to validate the token.|Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-08-08 09:11:31.8208|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2022-08-08 09:11:31.8208|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.CoursesController.GetCoursesAsync (EducationalPortal.API)'
2022-08-08 09:11:31.8208|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[EducationalPortal.Application.Models.DTO.Course.CourseShortDto]] GetCoursesAsync(EducationalPortal.Application.Paging.PageParameters, System.Threading.CancellationToken) on controller EducationalPortal.API.Controllers.CoursesController (EducationalPortal.API).
2022-08-08 09:11:31.8208|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-08-08 09:11:31.9534|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (127ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[AuthorId], [c].[Description], [c].[Name], [c].[Price], [c].[ShortDescription], [c].[Thumbnail]
FROM [Courses] AS [c]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-08-08 09:11:32.0768|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (122ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Courses] AS [c]
2022-08-08 09:11:32.0768|INFO|EducationalPortal.Infrastructure.Services.CoursesService|Returned courses page 1 from database.
2022-08-08 09:11:32.0768|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'EducationalPortal.Application.Paging.PagedList`1[[EducationalPortal.Application.Models.DTO.Course.CourseShortDto, EducationalPortal.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-08 09:11:32.0812|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.CoursesController.GetCoursesAsync (EducationalPortal.API) in 259.9948ms
2022-08-08 09:11:32.0812|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.CoursesController.GetCoursesAsync (EducationalPortal.API)'
2022-08-08 09:11:32.0812|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/courses?pageSize=3&pageNumber=1 - - - 200 818 application/json;+charset=utf-8 265.7587ms
2022-08-08 09:11:33.2453|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/shopping-cart/page-from-cookie?pageSize=10&pageNumber=1&cookie=-1-3 - -
2022-08-08 09:11:33.2453|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Failed to validate the token.|Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-08-08 09:11:33.2453|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2022-08-08 09:11:33.2538|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.ShoppingCartController.GetCartAsync (EducationalPortal.API)'
2022-08-08 09:11:33.2538|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetCart", controller = "ShoppingCart"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[EducationalPortal.Application.Models.DTO.CartItemDto]] GetCartAsync(System.String, EducationalPortal.Application.Paging.PageParameters, System.Threading.CancellationToken) on controller EducationalPortal.API.Controllers.ShoppingCartController (EducationalPortal.API).
2022-08-08 09:11:33.2538|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-08-08 09:11:33.2538|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/shopping-cart/total-price-from-cookie?cookie=-1-3 - -
2022-08-08 09:11:33.2774|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Failed to validate the token.|Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-08-08 09:11:33.2774|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2022-08-08 09:11:33.2774|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.ShoppingCartController.GetTotalPriceAsync (EducationalPortal.API)'
2022-08-08 09:11:33.2774|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetTotalPrice", controller = "ShoppingCart"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Int32] GetTotalPriceAsync(System.String, System.Threading.CancellationToken) on controller EducationalPortal.API.Controllers.ShoppingCartController (EducationalPortal.API).
2022-08-08 09:11:33.2774|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-08-08 09:11:33.4129|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (128ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[AuthorId], [c].[Description], [c].[Name], [c].[Price], [c].[ShortDescription], [c].[Thumbnail]
FROM [Courses] AS [c]
WHERE [c].[Id] = @__id_0
2022-08-08 09:11:33.4129|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (123ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[AuthorId], [c].[Description], [c].[Name], [c].[Price], [c].[ShortDescription], [c].[Thumbnail]
FROM [Courses] AS [c]
WHERE [c].[Id] = @__id_0
2022-08-08 09:11:33.5364|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (123ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[AuthorId], [c].[Description], [c].[Name], [c].[Price], [c].[ShortDescription], [c].[Thumbnail]
FROM [Courses] AS [c]
WHERE [c].[Id] = @__id_0
2022-08-08 09:11:33.5364|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (127ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[AuthorId], [c].[Description], [c].[Name], [c].[Price], [c].[ShortDescription], [c].[Thumbnail]
FROM [Courses] AS [c]
WHERE [c].[Id] = @__id_0
2022-08-08 09:11:33.5364|INFO|EducationalPortal.Infrastructure.Services.ShoppingCartService|Returned all cart items from cookies.
2022-08-08 09:11:33.5364|INFO|EducationalPortal.Infrastructure.Services.ShoppingCartService|Returned total price 190 for cart from cookies.
2022-08-08 09:11:33.5364|INFO|EducationalPortal.Infrastructure.Services.ShoppingCartService|Returned cart items page 1 from cookies.
2022-08-08 09:11:33.5364|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'System.Int32'.
2022-08-08 09:11:33.5364|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'EducationalPortal.Application.Paging.PagedList`1[[EducationalPortal.Application.Models.DTO.CartItemDto, EducationalPortal.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-08 09:11:33.5364|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.ShoppingCartController.GetTotalPriceAsync (EducationalPortal.API) in 265.508ms
2022-08-08 09:11:33.5364|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.ShoppingCartController.GetCartAsync (EducationalPortal.API) in 289.5311ms
2022-08-08 09:11:33.5364|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.ShoppingCartController.GetTotalPriceAsync (EducationalPortal.API)'
2022-08-08 09:11:33.5364|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.ShoppingCartController.GetCartAsync (EducationalPortal.API)'
2022-08-08 09:11:33.5364|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/shopping-cart/total-price-from-cookie?cookie=-1-3 - - - 200 3 application/json;+charset=utf-8 276.7141ms
2022-08-08 09:11:33.5364|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/shopping-cart/page-from-cookie?pageSize=10&pageNumber=1&cookie=-1-3 - - - 200 638 application/json;+charset=utf-8 298.7619ms
2022-08-08 09:11:37.8012|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/shopping-cart/total-price-from-cookie?cookie=-3 - -
2022-08-08 09:11:37.8012|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Failed to validate the token.|Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-08-08 09:11:37.8012|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2022-08-08 09:11:37.8012|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.ShoppingCartController.GetTotalPriceAsync (EducationalPortal.API)'
2022-08-08 09:11:37.8012|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetTotalPrice", controller = "ShoppingCart"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Int32] GetTotalPriceAsync(System.String, System.Threading.CancellationToken) on controller EducationalPortal.API.Controllers.ShoppingCartController (EducationalPortal.API).
2022-08-08 09:11:37.8012|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-08-08 09:11:37.9440|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (125ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[AuthorId], [c].[Description], [c].[Name], [c].[Price], [c].[ShortDescription], [c].[Thumbnail]
FROM [Courses] AS [c]
WHERE [c].[Id] = @__id_0
2022-08-08 09:11:37.9440|INFO|EducationalPortal.Infrastructure.Services.ShoppingCartService|Returned all cart items from cookies.
2022-08-08 09:11:37.9440|INFO|EducationalPortal.Infrastructure.Services.ShoppingCartService|Returned total price 110 for cart from cookies.
2022-08-08 09:11:37.9440|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'System.Int32'.
2022-08-08 09:11:37.9440|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.ShoppingCartController.GetTotalPriceAsync (EducationalPortal.API) in 137.5222ms
2022-08-08 09:11:37.9440|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.ShoppingCartController.GetTotalPriceAsync (EducationalPortal.API)'
2022-08-08 09:11:37.9440|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/shopping-cart/total-price-from-cookie?cookie=-3 - - - 200 3 application/json;+charset=utf-8 144.3978ms
2022-08-08 09:13:53.1322|INFO|Microsoft.AspNetCore.SpaServices|Starting @angular/cli on port 49406...
2022-08-08 09:13:53.5694|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\rareb\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-08-08 09:13:54.1879|INFO|Microsoft.Hosting.Lifetime|Now listening on: https://localhost:7106
2022-08-08 09:13:54.1879|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:7105
2022-08-08 09:13:54.1879|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down.
2022-08-08 09:13:54.1879|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development
2022-08-08 09:13:54.1879|INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Users\rareb\Desktop\github\educational-portal\EducationalPortal.API\
2022-08-08 09:13:55.4372|ERROR|Microsoft.AspNetCore.SpaServices|npm WARN config global `--global`, `--local` are deprecated. Use `--location=global` instead.

2022-08-08 09:13:57.4679|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger - -
2022-08-08 09:13:57.7326|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger - - - 301 0 - 270.8765ms
2022-08-08 09:13:57.7326|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/index.html - -
2022-08-08 09:13:58.4255|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/swagger-ui-bundle.js - -
2022-08-08 09:13:58.4255|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/swagger-ui.css - -
2022-08-08 09:13:58.4255|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/swagger-ui-standalone-preset.js - -
2022-08-08 09:13:58.4838|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/_framework/aspnetcore-browser-refresh.js - -
2022-08-08 09:13:58.4838|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/_vs/browserLink - -
2022-08-08 09:13:58.5482|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/index.html - - - 200 - text/html;charset=utf-8 812.2123ms
2022-08-08 09:13:58.5643|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/_framework/aspnetcore-browser-refresh.js - - - 200 12012 application/javascript;+charset=utf-8 80.4118ms
2022-08-08 09:13:58.5983|INFO|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2022-08-08 09:13:58.5983|INFO|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2022-08-08 09:13:58.5983|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/swagger-ui.css - - - 200 143943 text/css 174.9751ms
2022-08-08 09:13:58.5983|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/swagger-ui-standalone-preset.js - - - 200 339486 application/javascript 171.8745ms
2022-08-08 09:13:58.7064|INFO|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2022-08-08 09:13:58.7064|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/swagger-ui-bundle.js - - - 200 1095087 application/javascript 281.4615ms
2022-08-08 09:13:58.7737|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 289.7835ms
2022-08-08 09:13:58.8568|INFO|Microsoft.AspNetCore.SpaServices|> educational-portal.app@1.0.0 start

2022-08-08 09:13:58.8568|INFO|Microsoft.AspNetCore.SpaServices|> echo hello && ng serve

2022-08-08 09:13:58.9898|INFO|Microsoft.AspNetCore.SpaServices|hello 

2022-08-08 09:13:59.4313|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/swagger/v1/swagger.json - -
2022-08-08 09:13:59.9615|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 530.1509ms
2022-08-08 09:14:01.2002|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/courses - -
2022-08-08 09:14:14.3211|ERROR|Microsoft.AspNetCore.SpaServices|- Generating browser application bundles (phase: setup)...

2022-08-08 09:14:45.8816|ERROR|Microsoft.AspNetCore.SpaServices|ΓêÜ Browser application bundle generation complete.

2022-08-08 09:14:46.1652|INFO|Microsoft.AspNetCore.SpaServices|Initial Chunk Files   | Names         |  Raw Size

2022-08-08 09:14:46.1652|INFO|Microsoft.AspNetCore.SpaServices|vendor.js             | vendor        |   2.35 MB |

2022-08-08 09:14:46.1652|INFO|Microsoft.AspNetCore.SpaServices|main.js               | main          | 387.99 kB |

2022-08-08 09:14:46.1652|INFO|Microsoft.AspNetCore.SpaServices|polyfills.js          | polyfills     | 338.93 kB |

2022-08-08 09:14:46.1652|INFO|Microsoft.AspNetCore.SpaServices|styles.css, styles.js | styles        | 173.25 kB |

2022-08-08 09:14:46.1652|INFO|Microsoft.AspNetCore.SpaServices|runtime.js            | runtime       |   6.54 kB |

2022-08-08 09:14:46.1652|INFO|Microsoft.AspNetCore.SpaServices|| Initial Total |   3.23 MB

2022-08-08 09:14:46.1652|INFO|Microsoft.AspNetCore.SpaServices|Build at: 2022-08-08T06:14:45.866Z - Hash: e768d2ff8ae0d32c - Time: 29993ms

2022-08-08 09:14:46.1652|INFO|Microsoft.AspNetCore.SpaServices|** Angular Live Development Server is listening on localhost:49406, open your browser on http://localhost:49406/ **

2022-08-08 09:14:46.2835|INFO|Microsoft.AspNetCore.SpaServices|ΓêÜ Compiled successfully.

2022-08-08 09:14:50.5057|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/courses - - - 200 - text/html;+charset=utf-8 49305.5362ms
2022-08-08 09:14:50.8395|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/styles.css - -
2022-08-08 09:14:51.1384|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/runtime.js - -
2022-08-08 09:14:51.1384|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/styles.css - - - 200 737 text/css;+charset=utf-8 302.3863ms
2022-08-08 09:14:51.1384|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/polyfills.js - -
2022-08-08 09:14:51.1459|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-08-08 09:14:51.1459|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-08-08 09:14:51.1737|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/vendor.js - -
2022-08-08 09:14:51.1737|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-08-08 09:14:51.1737|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/main.js - -
2022-08-08 09:14:51.1737|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-08-08 09:14:51.1834|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/_framework/aspnetcore-browser-refresh.js - -
2022-08-08 09:14:51.1834|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/_framework/aspnetcore-browser-refresh.js - - - 200 12012 application/javascript;+charset=utf-8 2.1097ms
2022-08-08 09:14:51.2215|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/styles.js - -
2022-08-08 09:14:51.2792|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/_vs/browserLink - -
2022-08-08 09:14:51.4998|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/polyfills.js - - - 200 347062 application/javascript;+charset=utf-8 357.4466ms
2022-08-08 09:14:51.5936|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/runtime.js - - - 200 6696 application/javascript;+charset=utf-8 455.1517ms
2022-08-08 09:14:51.8383|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 559.0753ms
2022-08-08 09:14:52.0747|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7106/polyfills.js.map - -
2022-08-08 09:14:52.0747|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7106/ws - -
2022-08-08 09:14:52.0747|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-08-08 09:14:52.0875|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7106/runtime.js.map - -
2022-08-08 09:14:52.2255|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/vendor.js - - - 200 2462581 application/javascript;+charset=utf-8 1051.6518ms
2022-08-08 09:14:52.3057|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/main.js - - - 200 397303 application/javascript;+charset=utf-8 1130.8562ms
2022-08-08 09:14:52.3392|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/styles.js - - - 200 176668 application/javascript;+charset=utf-8 1117.5564ms
2022-08-08 09:14:52.4635|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7106/vendor.js.map - -
2022-08-08 09:14:52.4867|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7106/main.js.map - -
2022-08-08 09:14:52.4953|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7106/polyfills.js.map - - - 200 418635 application/json;+charset=utf-8 420.4134ms
2022-08-08 09:14:52.5083|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7106/runtime.js.map - - - 200 5719 application/json;+charset=utf-8 420.7692ms
2022-08-08 09:14:52.7454|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 POST https://localhost:7106/api/tokens/refresh application/json 595
2022-08-08 09:14:52.7550|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|CORS policy execution successful.
2022-08-08 09:14:52.9466|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/courses?pageSize=3&pageNumber=1 - -
2022-08-08 09:14:53.5931|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Failed to validate the token.|Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-08-08 09:14:53.5931|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Failed to validate the token.|Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-08-08 09:14:53.6651|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2022-08-08 09:14:53.6651|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2022-08-08 09:14:53.6651|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.TokensController.RefreshAsync (EducationalPortal.API)'
2022-08-08 09:14:53.6651|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.CoursesController.GetCoursesAsync (EducationalPortal.API)'
2022-08-08 09:14:53.7293|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[EducationalPortal.Application.Models.DTO.Course.CourseShortDto]] GetCoursesAsync(EducationalPortal.Application.Paging.PageParameters, System.Threading.CancellationToken) on controller EducationalPortal.API.Controllers.CoursesController (EducationalPortal.API).
2022-08-08 09:14:53.7293|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "Refresh", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EducationalPortal.Application.Models.TokensModel]] RefreshAsync(EducationalPortal.Application.Models.TokensModel, System.Threading.CancellationToken) on controller EducationalPortal.API.Controllers.TokensController (EducationalPortal.API).
2022-08-08 09:14:54.6259|INFO|EducationalPortal.Infrastructure.Services.Identity.TokensService|Returned data from expired access token.
2022-08-08 09:14:57.5473|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-08-08 09:14:57.5473|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-08-08 09:14:59.1830|WARN|Microsoft.EntityFrameworkCore.Query|The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-08-08 09:14:59.1830|WARN|Microsoft.EntityFrameworkCore.Query|The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-08-08 09:15:00.1975|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/1.1 GET https://localhost:7106/styles.js.map - -
2022-08-08 09:15:00.2392|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7106/main.js.map - - - 200 220797 application/json;+charset=utf-8 7752.4465ms
2022-08-08 09:15:00.3326|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7106/styles.js.map - - - 200 225660 application/json;+charset=utf-8 135.0558ms
2022-08-08 09:15:00.3326|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/1.1 GET https://localhost:7106/vendor.js.map - - - 200 3242823 application/json;+charset=utf-8 7874.8391ms
2022-08-08 09:15:02.0958|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (251ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[Avatar], [t].[Balance], [t].[Email], [t].[Name], [t].[PasswordHash], [t].[Position], [t].[UserTokenId], [t].[Id0], [t].[RefreshToken], [t].[RefreshTokenExpiryTime], [t0].[RolesId], [t0].[UsersId], [t0].[Id], [t0].[Name]
FROM (
    SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Balance], [u].[Email], [u].[Name], [u].[PasswordHash], [u].[Position], [u].[UserTokenId], [u0].[Id] AS [Id0], [u0].[RefreshToken], [u0].[RefreshTokenExpiryTime]
    FROM [Users] AS [u]
    LEFT JOIN [UserToken] AS [u0] ON [u].[UserTokenId] = [u0].[Id]
    WHERE 0 = 1
) AS [t]
LEFT JOIN (
    SELECT [r].[RolesId], [r].[UsersId], [r0].[Id], [r0].[Name]
    FROM [RoleUser] AS [r]
    INNER JOIN [Roles] AS [r0] ON [r].[RolesId] = [r0].[Id]
) AS [t0] ON [t].[Id] = [t0].[UsersId]
ORDER BY [t].[Id], [t].[Id0], [t0].[RolesId], [t0].[UsersId]
2022-08-08 09:15:02.6169|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.TokensController.RefreshAsync (EducationalPortal.API) in 8878.5257ms
2022-08-08 09:15:02.6169|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.TokensController.RefreshAsync (EducationalPortal.API)'
2022-08-08 09:15:03.0509|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/styles.css - -
2022-08-08 09:15:03.0509|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/polyfills.js.map - -
2022-08-08 09:15:03.0509|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/runtime.js.map - -
2022-08-08 09:15:03.0509|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/vendor.js.map - -
2022-08-08 09:15:03.0662|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/main.js.map - -
2022-08-08 09:15:03.0662|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/styles.js.map - -
2022-08-08 09:15:03.0662|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/styles.css - - - 304 - - 26.7834ms
2022-08-08 09:15:03.1316|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/runtime.js.map - - - 200 5719 application/json;+charset=utf-8 75.1792ms
2022-08-08 09:15:03.1476|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/main.js.map - - - 200 220797 application/json;+charset=utf-8 81.3914ms
2022-08-08 09:15:03.1476|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/polyfills.js.map - - - 200 418635 application/json;+charset=utf-8 93.8450ms
2022-08-08 09:15:03.1476|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/styles.js.map - - - 200 225660 application/json;+charset=utf-8 84.4211ms
2022-08-08 09:15:03.1806|ERROR|EducationalPortal.Infrastructure.ExceptionHandling.ExceptionMiddleware|Something went wrong: Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: SecurityToken has Expired
   at EducationalPortal.Infrastructure.Services.Identity.TokensService.RefreshAsync(TokensModel tokensModel, String email, CancellationToken cancellationToken) in C:\Users\rareb\Desktop\github\educational-portal\EducationalPortal.Infrastructure\Services\Identity\TokensService.cs:line 39
   at EducationalPortal.API.Controllers.TokensController.RefreshAsync(TokensModel tokensModel, CancellationToken cancellationToken) in C:\Users\rareb\Desktop\github\educational-portal\EducationalPortal.API\Controllers\TokensController.cs:line 20
   at lambda_method15(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at EducationalPortal.Infrastructure.ExceptionHandling.ExceptionMiddleware.InvokeAsync(HttpContext httpContext) in C:\Users\rareb\Desktop\github\educational-portal\EducationalPortal.Infrastructure\ExceptionHandling\ExceptionMiddleware.cs:line 25
2022-08-08 09:15:03.1933|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/styles.css.map - -
2022-08-08 09:15:03.1933|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/styles.css.map - - - 200 235 application/json;+charset=utf-8 4.7909ms
2022-08-08 09:15:03.3197|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/vendor.js.map - - - 200 3242823 application/json;+charset=utf-8 257.0730ms
2022-08-08 09:15:03.3861|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (807ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[AuthorId], [c].[Description], [c].[Name], [c].[Price], [c].[ShortDescription], [c].[Thumbnail]
FROM [Courses] AS [c]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-08-08 09:15:03.3861|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 POST https://localhost:7106/api/tokens/refresh application/json 595 - 500 - application/json 10647.6411ms
2022-08-08 09:15:03.6509|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (130ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Courses] AS [c]
2022-08-08 09:15:03.6877|INFO|EducationalPortal.Infrastructure.Services.CoursesService|Returned courses page 1 from database.
2022-08-08 09:15:03.6997|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'EducationalPortal.Application.Paging.PagedList`1[[EducationalPortal.Application.Models.DTO.Course.CourseShortDto, EducationalPortal.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-08 09:15:03.7422|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.CoursesController.GetCoursesAsync (EducationalPortal.API) in 10012.2396ms
2022-08-08 09:15:03.7422|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.CoursesController.GetCoursesAsync (EducationalPortal.API)'
2022-08-08 09:15:03.7422|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/courses?pageSize=3&pageNumber=1 - - - 200 818 application/json;+charset=utf-8 10797.9621ms
2022-08-08 09:15:04.5937|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/courses?pageSize=3&pageNumber=1 - -
2022-08-08 09:15:04.6044|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Failed to validate the token.|Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-08-08 09:15:04.6044|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2022-08-08 09:15:04.6044|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.CoursesController.GetCoursesAsync (EducationalPortal.API)'
2022-08-08 09:15:04.6044|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[EducationalPortal.Application.Models.DTO.Course.CourseShortDto]] GetCoursesAsync(EducationalPortal.Application.Paging.PageParameters, System.Threading.CancellationToken) on controller EducationalPortal.API.Controllers.CoursesController (EducationalPortal.API).
2022-08-08 09:15:04.6767|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-08-08 09:15:04.8195|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (130ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[AuthorId], [c].[Description], [c].[Name], [c].[Price], [c].[ShortDescription], [c].[Thumbnail]
FROM [Courses] AS [c]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-08-08 09:15:04.9428|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (122ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Courses] AS [c]
2022-08-08 09:15:04.9428|INFO|EducationalPortal.Infrastructure.Services.CoursesService|Returned courses page 1 from database.
2022-08-08 09:15:04.9428|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'EducationalPortal.Application.Paging.PagedList`1[[EducationalPortal.Application.Models.DTO.Course.CourseShortDto, EducationalPortal.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-08 09:15:04.9428|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.CoursesController.GetCoursesAsync (EducationalPortal.API) in 342.739ms
2022-08-08 09:15:04.9428|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.CoursesController.GetCoursesAsync (EducationalPortal.API)'
2022-08-08 09:15:04.9428|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/courses?pageSize=3&pageNumber=1 - - - 200 818 application/json;+charset=utf-8 354.6666ms
2022-08-08 09:15:06.0134|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/shopping-cart/page-from-cookie?pageSize=10&pageNumber=1&cookie=-2 - -
2022-08-08 09:15:06.0134|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/shopping-cart/total-price-from-cookie?cookie=-2 - -
2022-08-08 09:15:06.0134|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Failed to validate the token.|Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-08-08 09:15:06.0134|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2022-08-08 09:15:06.0134|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.ShoppingCartController.GetTotalPriceAsync (EducationalPortal.API)'
2022-08-08 09:15:06.0220|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Failed to validate the token.|Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-08-08 09:15:06.0220|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2022-08-08 09:15:06.0220|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.ShoppingCartController.GetCartAsync (EducationalPortal.API)'
2022-08-08 09:15:06.0220|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetTotalPrice", controller = "ShoppingCart"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Int32] GetTotalPriceAsync(System.String, System.Threading.CancellationToken) on controller EducationalPortal.API.Controllers.ShoppingCartController (EducationalPortal.API).
2022-08-08 09:15:06.0220|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-08-08 09:15:06.0220|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetCart", controller = "ShoppingCart"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[EducationalPortal.Application.Models.DTO.CartItemDto]] GetCartAsync(System.String, EducationalPortal.Application.Paging.PageParameters, System.Threading.CancellationToken) on controller EducationalPortal.API.Controllers.ShoppingCartController (EducationalPortal.API).
2022-08-08 09:15:06.0425|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-08-08 09:15:06.1763|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (123ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[AuthorId], [c].[Description], [c].[Name], [c].[Price], [c].[ShortDescription], [c].[Thumbnail]
FROM [Courses] AS [c]
WHERE [c].[Id] = @__id_0
2022-08-08 09:15:06.1763|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (123ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[AuthorId], [c].[Description], [c].[Name], [c].[Price], [c].[ShortDescription], [c].[Thumbnail]
FROM [Courses] AS [c]
WHERE [c].[Id] = @__id_0
2022-08-08 09:15:06.3869|INFO|EducationalPortal.Infrastructure.Services.ShoppingCartService|Returned all cart items from cookies.
2022-08-08 09:15:06.3869|INFO|EducationalPortal.Infrastructure.Services.ShoppingCartService|Returned total price 150 for cart from cookies.
2022-08-08 09:15:06.3869|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'System.Int32'.
2022-08-08 09:15:06.3869|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.ShoppingCartController.GetTotalPriceAsync (EducationalPortal.API) in 366.2114ms
2022-08-08 09:15:06.3869|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.ShoppingCartController.GetTotalPriceAsync (EducationalPortal.API)'
2022-08-08 09:15:06.3869|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/shopping-cart/total-price-from-cookie?cookie=-2 - - - 200 3 application/json;+charset=utf-8 377.5171ms
2022-08-08 09:15:06.3983|INFO|EducationalPortal.Infrastructure.Services.ShoppingCartService|Returned cart items page 1 from cookies.
2022-08-08 09:15:06.3983|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'EducationalPortal.Application.Paging.PagedList`1[[EducationalPortal.Application.Models.DTO.CartItemDto, EducationalPortal.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-08 09:15:06.3983|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.ShoppingCartController.GetCartAsync (EducationalPortal.API) in 377.8633ms
2022-08-08 09:15:06.3983|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.ShoppingCartController.GetCartAsync (EducationalPortal.API)'
2022-08-08 09:15:06.4100|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/shopping-cart/page-from-cookie?pageSize=10&pageNumber=1&cookie=-2 - - - 200 286 application/json;+charset=utf-8 396.5560ms
2022-08-08 09:15:08.5558|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/courses?pageSize=3&pageNumber=1 - -
2022-08-08 09:15:08.5558|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Failed to validate the token.|Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-08-08 09:15:08.5558|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2022-08-08 09:15:08.5558|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.CoursesController.GetCoursesAsync (EducationalPortal.API)'
2022-08-08 09:15:08.5558|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[EducationalPortal.Application.Models.DTO.Course.CourseShortDto]] GetCoursesAsync(EducationalPortal.Application.Paging.PageParameters, System.Threading.CancellationToken) on controller EducationalPortal.API.Controllers.CoursesController (EducationalPortal.API).
2022-08-08 09:15:08.5558|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-08-08 09:15:08.7069|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (138ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[AuthorId], [c].[Description], [c].[Name], [c].[Price], [c].[ShortDescription], [c].[Thumbnail]
FROM [Courses] AS [c]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-08-08 09:15:08.8327|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (125ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Courses] AS [c]
2022-08-08 09:15:08.8327|INFO|EducationalPortal.Infrastructure.Services.CoursesService|Returned courses page 1 from database.
2022-08-08 09:15:08.8327|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'EducationalPortal.Application.Paging.PagedList`1[[EducationalPortal.Application.Models.DTO.Course.CourseShortDto, EducationalPortal.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-08 09:15:08.8327|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.CoursesController.GetCoursesAsync (EducationalPortal.API) in 278.0797ms
2022-08-08 09:15:08.8327|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.CoursesController.GetCoursesAsync (EducationalPortal.API)'
2022-08-08 09:15:08.8327|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/courses?pageSize=3&pageNumber=1 - - - 200 818 application/json;+charset=utf-8 281.5619ms
2022-08-08 09:15:09.8573|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/shopping-cart/total-price-from-cookie?cookie=-1 - -
2022-08-08 09:15:09.8573|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/shopping-cart/page-from-cookie?pageSize=10&pageNumber=1&cookie=-1 - -
2022-08-08 09:15:09.8573|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Failed to validate the token.|Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-08-08 09:15:09.8573|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Failed to validate the token.|Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-08-08 09:15:09.8628|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2022-08-08 09:15:09.8628|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2022-08-08 09:15:09.8628|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.ShoppingCartController.GetCartAsync (EducationalPortal.API)'
2022-08-08 09:15:09.8628|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.ShoppingCartController.GetTotalPriceAsync (EducationalPortal.API)'
2022-08-08 09:15:09.8628|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetCart", controller = "ShoppingCart"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[EducationalPortal.Application.Models.DTO.CartItemDto]] GetCartAsync(System.String, EducationalPortal.Application.Paging.PageParameters, System.Threading.CancellationToken) on controller EducationalPortal.API.Controllers.ShoppingCartController (EducationalPortal.API).
2022-08-08 09:15:09.8628|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetTotalPrice", controller = "ShoppingCart"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Int32] GetTotalPriceAsync(System.String, System.Threading.CancellationToken) on controller EducationalPortal.API.Controllers.ShoppingCartController (EducationalPortal.API).
2022-08-08 09:15:09.8628|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-08-08 09:15:09.8628|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-08-08 09:15:09.9943|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (122ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[AuthorId], [c].[Description], [c].[Name], [c].[Price], [c].[ShortDescription], [c].[Thumbnail]
FROM [Courses] AS [c]
WHERE [c].[Id] = @__id_0
2022-08-08 09:15:09.9943|INFO|EducationalPortal.Infrastructure.Services.ShoppingCartService|Returned all cart items from cookies.
2022-08-08 09:15:09.9943|INFO|EducationalPortal.Infrastructure.Services.ShoppingCartService|Returned total price 80 for cart from cookies.
2022-08-08 09:15:09.9943|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'System.Int32'.
2022-08-08 09:15:09.9943|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.ShoppingCartController.GetTotalPriceAsync (EducationalPortal.API) in 132.5638ms
2022-08-08 09:15:09.9943|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.ShoppingCartController.GetTotalPriceAsync (EducationalPortal.API)'
2022-08-08 09:15:09.9943|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/shopping-cart/total-price-from-cookie?cookie=-1 - - - 200 2 application/json;+charset=utf-8 138.8954ms
2022-08-08 09:15:09.9943|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (126ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[AuthorId], [c].[Description], [c].[Name], [c].[Price], [c].[ShortDescription], [c].[Thumbnail]
FROM [Courses] AS [c]
WHERE [c].[Id] = @__id_0
2022-08-08 09:15:10.0056|INFO|EducationalPortal.Infrastructure.Services.ShoppingCartService|Returned cart items page 1 from cookies.
2022-08-08 09:15:10.0056|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'EducationalPortal.Application.Paging.PagedList`1[[EducationalPortal.Application.Models.DTO.CartItemDto, EducationalPortal.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-08 09:15:10.0056|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.ShoppingCartController.GetCartAsync (EducationalPortal.API) in 142.9493ms
2022-08-08 09:15:10.0056|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.ShoppingCartController.GetCartAsync (EducationalPortal.API)'
2022-08-08 09:15:10.0056|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/shopping-cart/page-from-cookie?pageSize=10&pageNumber=1&cookie=-1 - - - 200 294 application/json;+charset=utf-8 149.1553ms
2022-08-08 09:15:11.0785|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/courses?pageSize=3&pageNumber=1 - -
2022-08-08 09:15:11.0821|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Failed to validate the token.|Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-08-08 09:15:11.0821|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2022-08-08 09:15:11.0821|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.CoursesController.GetCoursesAsync (EducationalPortal.API)'
2022-08-08 09:15:11.0821|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[EducationalPortal.Application.Models.DTO.Course.CourseShortDto]] GetCoursesAsync(EducationalPortal.Application.Paging.PageParameters, System.Threading.CancellationToken) on controller EducationalPortal.API.Controllers.CoursesController (EducationalPortal.API).
2022-08-08 09:15:11.0821|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-08-08 09:15:11.2174|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (127ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[AuthorId], [c].[Description], [c].[Name], [c].[Price], [c].[ShortDescription], [c].[Thumbnail]
FROM [Courses] AS [c]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-08-08 09:15:11.3446|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (126ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Courses] AS [c]
2022-08-08 09:15:11.3490|INFO|EducationalPortal.Infrastructure.Services.CoursesService|Returned courses page 1 from database.
2022-08-08 09:15:11.3490|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'EducationalPortal.Application.Paging.PagedList`1[[EducationalPortal.Application.Models.DTO.Course.CourseShortDto, EducationalPortal.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-08 09:15:11.3490|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.CoursesController.GetCoursesAsync (EducationalPortal.API) in 265.9695ms
2022-08-08 09:15:11.3490|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.CoursesController.GetCoursesAsync (EducationalPortal.API)'
2022-08-08 09:15:11.3490|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/courses?pageSize=3&pageNumber=1 - - - 200 818 application/json;+charset=utf-8 271.2349ms
2022-08-08 09:15:11.9636|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/shopping-cart/page-from-cookie?pageSize=10&pageNumber=1&cookie=-1-2 - -
2022-08-08 09:15:11.9636|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/shopping-cart/total-price-from-cookie?cookie=-1-2 - -
2022-08-08 09:15:11.9636|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Failed to validate the token.|Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-08-08 09:15:11.9636|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2022-08-08 09:15:11.9636|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.ShoppingCartController.GetCartAsync (EducationalPortal.API)'
2022-08-08 09:15:11.9636|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetCart", controller = "ShoppingCart"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[EducationalPortal.Application.Models.DTO.CartItemDto]] GetCartAsync(System.String, EducationalPortal.Application.Paging.PageParameters, System.Threading.CancellationToken) on controller EducationalPortal.API.Controllers.ShoppingCartController (EducationalPortal.API).
2022-08-08 09:15:11.9636|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-08-08 09:15:11.9636|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Failed to validate the token.|Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-08-08 09:15:11.9636|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2022-08-08 09:15:11.9636|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.ShoppingCartController.GetTotalPriceAsync (EducationalPortal.API)'
2022-08-08 09:15:11.9636|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetTotalPrice", controller = "ShoppingCart"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Int32] GetTotalPriceAsync(System.String, System.Threading.CancellationToken) on controller EducationalPortal.API.Controllers.ShoppingCartController (EducationalPortal.API).
2022-08-08 09:15:11.9636|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-08-08 09:15:12.1036|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (124ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[AuthorId], [c].[Description], [c].[Name], [c].[Price], [c].[ShortDescription], [c].[Thumbnail]
FROM [Courses] AS [c]
WHERE [c].[Id] = @__id_0
2022-08-08 09:15:12.1036|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (123ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[AuthorId], [c].[Description], [c].[Name], [c].[Price], [c].[ShortDescription], [c].[Thumbnail]
FROM [Courses] AS [c]
WHERE [c].[Id] = @__id_0
2022-08-08 09:15:12.2279|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (123ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[AuthorId], [c].[Description], [c].[Name], [c].[Price], [c].[ShortDescription], [c].[Thumbnail]
FROM [Courses] AS [c]
WHERE [c].[Id] = @__id_0
2022-08-08 09:15:12.2279|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (124ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[AuthorId], [c].[Description], [c].[Name], [c].[Price], [c].[ShortDescription], [c].[Thumbnail]
FROM [Courses] AS [c]
WHERE [c].[Id] = @__id_0
2022-08-08 09:15:12.2279|INFO|EducationalPortal.Infrastructure.Services.ShoppingCartService|Returned all cart items from cookies.
2022-08-08 09:15:12.2279|INFO|EducationalPortal.Infrastructure.Services.ShoppingCartService|Returned total price 230 for cart from cookies.
2022-08-08 09:15:12.2279|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'System.Int32'.
2022-08-08 09:15:12.2279|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.ShoppingCartController.GetTotalPriceAsync (EducationalPortal.API) in 265.0976ms
2022-08-08 09:15:12.2279|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.ShoppingCartController.GetTotalPriceAsync (EducationalPortal.API)'
2022-08-08 09:15:12.2279|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/shopping-cart/total-price-from-cookie?cookie=-1-2 - - - 200 3 application/json;+charset=utf-8 269.8049ms
2022-08-08 09:15:12.2386|INFO|EducationalPortal.Infrastructure.Services.ShoppingCartService|Returned cart items page 1 from cookies.
2022-08-08 09:15:12.2386|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'EducationalPortal.Application.Paging.PagedList`1[[EducationalPortal.Application.Models.DTO.CartItemDto, EducationalPortal.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-08-08 09:15:12.2386|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.ShoppingCartController.GetCartAsync (EducationalPortal.API) in 272.9146ms
2022-08-08 09:15:12.2386|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.ShoppingCartController.GetCartAsync (EducationalPortal.API)'
2022-08-08 09:15:12.2386|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/shopping-cart/page-from-cookie?pageSize=10&pageNumber=1&cookie=-1-2 - - - 200 579 application/json;+charset=utf-8 276.7808ms
2022-08-08 09:15:13.0025|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2 GET https://localhost:7106/api/shopping-cart/total-price-from-cookie?cookie=-1 - -
2022-08-08 09:15:13.0033|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Failed to validate the token.|Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-08-08 09:15:13.0033|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2022-08-08 09:15:13.0033|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'EducationalPortal.API.Controllers.ShoppingCartController.GetTotalPriceAsync (EducationalPortal.API)'
2022-08-08 09:15:13.0033|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetTotalPrice", controller = "ShoppingCart"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Int32] GetTotalPriceAsync(System.String, System.Threading.CancellationToken) on controller EducationalPortal.API.Controllers.ShoppingCartController (EducationalPortal.API).
2022-08-08 09:15:13.0033|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 6.0.3 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.3' with options: None
2022-08-08 09:15:13.1500|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (129ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[AuthorId], [c].[Description], [c].[Name], [c].[Price], [c].[ShortDescription], [c].[Thumbnail]
FROM [Courses] AS [c]
WHERE [c].[Id] = @__id_0
2022-08-08 09:15:13.1500|INFO|EducationalPortal.Infrastructure.Services.ShoppingCartService|Returned all cart items from cookies.
2022-08-08 09:15:13.1500|INFO|EducationalPortal.Infrastructure.Services.ShoppingCartService|Returned total price 80 for cart from cookies.
2022-08-08 09:15:13.1500|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'System.Int32'.
2022-08-08 09:15:13.1500|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action EducationalPortal.API.Controllers.ShoppingCartController.GetTotalPriceAsync (EducationalPortal.API) in 147.494ms
2022-08-08 09:15:13.1500|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'EducationalPortal.API.Controllers.ShoppingCartController.GetTotalPriceAsync (EducationalPortal.API)'
2022-08-08 09:15:13.1500|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished HTTP/2 GET https://localhost:7106/api/shopping-cart/total-price-from-cookie?cookie=-1 - - - 200 2 application/json;+charset=utf-8 149.2066ms
